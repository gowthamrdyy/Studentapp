(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Xw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var A_={exports:{}},Wa={},D_={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Us=Symbol.for("react.element"),Jw=Symbol.for("react.portal"),e0=Symbol.for("react.fragment"),t0=Symbol.for("react.strict_mode"),n0=Symbol.for("react.profiler"),i0=Symbol.for("react.provider"),r0=Symbol.for("react.context"),s0=Symbol.for("react.forward_ref"),o0=Symbol.for("react.suspense"),a0=Symbol.for("react.memo"),l0=Symbol.for("react.lazy"),Rd=Symbol.iterator;function u0(t){return t===null||typeof t!="object"?null:(t=Rd&&t[Rd]||t["@@iterator"],typeof t=="function"?t:null)}var b_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z_=Object.assign,F_={};function yr(t,e,n){this.props=t,this.context=e,this.refs=F_,this.updater=n||b_}yr.prototype.isReactComponent={};yr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function B_(){}B_.prototype=yr.prototype;function Vc(t,e,n){this.props=t,this.context=e,this.refs=F_,this.updater=n||b_}var $c=Vc.prototype=new B_;$c.constructor=Vc;z_($c,yr.prototype);$c.isPureReactComponent=!0;var Od=Array.isArray,W_=Object.prototype.hasOwnProperty,Gc={current:null},U_={key:!0,ref:!0,__self:!0,__source:!0};function H_(t,e,n){var r,s={},a=null,u=null;if(e!=null)for(r in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(a=""+e.key),e)W_.call(e,r)&&!U_.hasOwnProperty(r)&&(s[r]=e[r]);var h=arguments.length-2;if(h===1)s.children=n;else if(1<h){for(var f=Array(h),p=0;p<h;p++)f[p]=arguments[p+2];s.children=f}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)s[r]===void 0&&(s[r]=h[r]);return{$$typeof:Us,type:t,key:a,ref:u,props:s,_owner:Gc.current}}function c0(t,e){return{$$typeof:Us,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Us}function h0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ad=/\/+/g;function $l(t,e){return typeof t=="object"&&t!==null&&t.key!=null?h0(""+t.key):e.toString(36)}function Bo(t,e,n,r,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case Us:case Jw:u=!0}}if(u)return u=t,s=s(u),t=r===""?"."+$l(u,0):r,Od(s)?(n="",t!=null&&(n=t.replace(Ad,"$&/")+"/"),Bo(s,e,n,"",function(p){return p})):s!=null&&(Kc(s)&&(s=c0(s,n+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(Ad,"$&/")+"/")+t)),e.push(s)),1;if(u=0,r=r===""?".":r+":",Od(t))for(var h=0;h<t.length;h++){a=t[h];var f=r+$l(a,h);u+=Bo(a,e,n,f,s)}else if(f=u0(t),typeof f=="function")for(t=f.call(t),h=0;!(a=t.next()).done;)a=a.value,f=r+$l(a,h++),u+=Bo(a,e,n,f,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function wo(t,e,n){if(t==null)return t;var r=[],s=0;return Bo(t,r,"","",function(a){return e.call(n,a,s++)}),r}function f0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var st={current:null},Wo={transition:null},d0={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:Wo,ReactCurrentOwner:Gc};function Z_(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:wo,forEach:function(t,e,n){wo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wo(t,function(){e++}),e},toArray:function(t){return wo(t,function(e){return e})||[]},only:function(t){if(!Kc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=yr;ie.Fragment=e0;ie.Profiler=n0;ie.PureComponent=Vc;ie.StrictMode=t0;ie.Suspense=o0;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d0;ie.act=Z_;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=z_({},t.props),s=t.key,a=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,u=Gc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(f in e)W_.call(e,f)&&!U_.hasOwnProperty(f)&&(r[f]=e[f]===void 0&&h!==void 0?h[f]:e[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){h=Array(f);for(var p=0;p<f;p++)h[p]=arguments[p+2];r.children=h}return{$$typeof:Us,type:t.type,key:s,ref:a,props:r,_owner:u}};ie.createContext=function(t){return t={$$typeof:r0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:i0,_context:t},t.Consumer=t};ie.createElement=H_;ie.createFactory=function(t){var e=H_.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:s0,render:t}};ie.isValidElement=Kc;ie.lazy=function(t){return{$$typeof:l0,_payload:{_status:-1,_result:t},_init:f0}};ie.memo=function(t,e){return{$$typeof:a0,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Wo.transition;Wo.transition={};try{t()}finally{Wo.transition=e}};ie.unstable_act=Z_;ie.useCallback=function(t,e){return st.current.useCallback(t,e)};ie.useContext=function(t){return st.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return st.current.useDeferredValue(t)};ie.useEffect=function(t,e){return st.current.useEffect(t,e)};ie.useId=function(){return st.current.useId()};ie.useImperativeHandle=function(t,e,n){return st.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return st.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return st.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return st.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return st.current.useReducer(t,e,n)};ie.useRef=function(t){return st.current.useRef(t)};ie.useState=function(t){return st.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return st.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return st.current.useTransition()};ie.version="18.3.1";D_.exports=ie;var $=D_.exports;const Xo=O_($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0=$,_0=Symbol.for("react.element"),m0=Symbol.for("react.fragment"),g0=Object.prototype.hasOwnProperty,v0=p0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y0={key:!0,ref:!0,__self:!0,__source:!0};function j_(t,e,n){var r,s={},a=null,u=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(u=e.ref);for(r in e)g0.call(e,r)&&!y0.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:_0,type:t,key:a,ref:u,props:s,_owner:v0.current}}Wa.Fragment=m0;Wa.jsx=j_;Wa.jsxs=j_;A_.exports=Wa;var Q=A_.exports,Lu={},V_={exports:{}},Et={},$_={exports:{}},G_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,G){var A=N.length;N.push(G);e:for(;0<A;){var V=A-1>>>1,se=N[V];if(0<s(se,G))N[V]=G,N[A]=se,A=V;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var G=N[0],A=N.pop();if(A!==G){N[0]=A;e:for(var V=0,se=N.length,Ae=se>>>1;V<Ae;){var he=2*(V+1)-1,ae=N[he],K=he+1,at=N[K];if(0>s(ae,A))K<se&&0>s(at,ae)?(N[V]=at,N[K]=A,V=K):(N[V]=ae,N[he]=A,V=he);else if(K<se&&0>s(at,A))N[V]=at,N[K]=A,V=K;else break e}}return G}function s(N,G){var A=N.sortIndex-G.sortIndex;return A!==0?A:N.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],p=[],v=1,m=null,g=3,x=!1,P=!1,k=!1,H=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(N){for(var G=n(p);G!==null;){if(G.callback===null)r(p);else if(G.startTime<=N)r(p),G.sortIndex=G.expirationTime,e(f,G);else break;G=n(p)}}function I(N){if(k=!1,C(N),!P)if(n(f)!==null)P=!0,Ve(D);else{var G=n(p);G!==null&&nn(I,G.startTime-N)}}function D(N,G){P=!1,k&&(k=!1,E(W),W=-1),x=!0;var A=g;try{for(C(G),m=n(f);m!==null&&(!(m.expirationTime>G)||N&&!de());){var V=m.callback;if(typeof V=="function"){m.callback=null,g=m.priorityLevel;var se=V(m.expirationTime<=G);G=t.unstable_now(),typeof se=="function"?m.callback=se:m===n(f)&&r(f),C(G)}else r(f);m=n(f)}if(m!==null)var Ae=!0;else{var he=n(p);he!==null&&nn(I,he.startTime-G),Ae=!1}return Ae}finally{m=null,g=A,x=!1}}var F=!1,B=null,W=-1,ve=5,X=-1;function de(){return!(t.unstable_now()-X<ve)}function Fe(){if(B!==null){var N=t.unstable_now();X=N;var G=!0;try{G=B(!0,N)}finally{G?Xn():(F=!1,B=null)}}else F=!1}var Xn;if(typeof w=="function")Xn=function(){w(Fe)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,hl=xt.port2;xt.port1.onmessage=Fe,Xn=function(){hl.postMessage(null)}}else Xn=function(){H(Fe,0)};function Ve(N){B=N,F||(F=!0,Xn())}function nn(N,G){W=H(function(){N(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){P||x||(P=!0,Ve(D))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(N){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var A=g;g=G;try{return N()}finally{g=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,G){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var A=g;g=N;try{return G()}finally{g=A}},t.unstable_scheduleCallback=function(N,G,A){var V=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?V+A:V):A=V,N){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=A+se,N={id:v++,callback:G,priorityLevel:N,startTime:A,expirationTime:se,sortIndex:-1},A>V?(N.sortIndex=A,e(p,N),n(f)===null&&N===n(p)&&(k?(E(W),W=-1):k=!0,nn(I,A-V))):(N.sortIndex=se,e(f,N),P||x||(P=!0,Ve(D))),N},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(N){var G=g;return function(){var A=g;g=G;try{return N.apply(this,arguments)}finally{g=A}}}})(G_);$_.exports=G_;var w0=$_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0=$,Ct=w0;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K_=new Set,_s={};function Si(t,e){lr(t,e),lr(t+"Capture",e)}function lr(t,e){for(_s[t]=e,t=0;t<e.length;t++)K_.add(e[t])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nu=Object.prototype.hasOwnProperty,E0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dd={},bd={};function S0(t){return Nu.call(bd,t)?!0:Nu.call(Dd,t)?!1:E0.test(t)?bd[t]=!0:(Dd[t]=!0,!1)}function x0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function T0(t,e,n,r){if(e===null||typeof e>"u"||x0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ot(t,e,n,r,s,a,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=u}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ye[t]=new ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ye[e]=new ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ye[t]=new ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ye[t]=new ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ye[t]=new ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ye[t]=new ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ye[t]=new ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ye[t]=new ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ye[t]=new ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yc=/[\-:]([a-z])/g;function qc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yc,qc);Ye[e]=new ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yc,qc);Ye[e]=new ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yc,qc);Ye[e]=new ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ye[t]=new ot(t,1,!1,t.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ye[t]=new ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qc(t,e,n,r){var s=Ye.hasOwnProperty(e)?Ye[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(T0(e,n,s,r)&&(n=null),r||s===null?S0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cn=C0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Co=Symbol.for("react.element"),Fi=Symbol.for("react.portal"),Bi=Symbol.for("react.fragment"),Xc=Symbol.for("react.strict_mode"),Mu=Symbol.for("react.profiler"),Y_=Symbol.for("react.provider"),q_=Symbol.for("react.context"),Jc=Symbol.for("react.forward_ref"),Ru=Symbol.for("react.suspense"),Ou=Symbol.for("react.suspense_list"),eh=Symbol.for("react.memo"),kn=Symbol.for("react.lazy"),Q_=Symbol.for("react.offscreen"),zd=Symbol.iterator;function Br(t){return t===null||typeof t!="object"?null:(t=zd&&t[zd]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,Gl;function Qr(t){if(Gl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gl=e&&e[1]||""}return`
`+Gl+t}var Kl=!1;function Yl(t,e){if(!t||Kl)return"";Kl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var r=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){r=p}t.call(e.prototype)}else{try{throw Error()}catch(p){r=p}t()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var s=p.stack.split(`
`),a=r.stack.split(`
`),u=s.length-1,h=a.length-1;1<=u&&0<=h&&s[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(s[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||s[u]!==a[h]){var f=`
`+s[u].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=u&&0<=h);break}}}finally{Kl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qr(t):""}function P0(t){switch(t.tag){case 5:return Qr(t.type);case 16:return Qr("Lazy");case 13:return Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 2:case 15:return t=Yl(t.type,!1),t;case 11:return t=Yl(t.type.render,!1),t;case 1:return t=Yl(t.type,!0),t;default:return""}}function Au(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bi:return"Fragment";case Fi:return"Portal";case Mu:return"Profiler";case Xc:return"StrictMode";case Ru:return"Suspense";case Ou:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case q_:return(t.displayName||"Context")+".Consumer";case Y_:return(t._context.displayName||"Context")+".Provider";case Jc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case eh:return e=t.displayName||null,e!==null?e:Au(t.type)||"Memo";case kn:e=t._payload,t=t._init;try{return Au(t(e))}catch{}}return null}function k0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Au(e);case 8:return e===Xc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function X_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function I0(t){var e=X_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Eo(t){t._valueTracker||(t._valueTracker=I0(t))}function J_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=X_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Du(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=jn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function em(t,e){e=e.checked,e!=null&&Qc(t,"checked",e,!1)}function bu(t,e){em(t,e);var n=jn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zu(t,e.type,n):e.hasOwnProperty("defaultValue")&&zu(t,e.type,jn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zu(t,e,n){(e!=="number"||Jo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xr=Array.isArray;function Xi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+jn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Fu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(Xr(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jn(n)}}function tm(t,e){var n=jn(e.value),r=jn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ud(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var So,im=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(So=So||document.createElement("div"),So.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=So.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ms(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L0=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(t){L0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ts[e]=ts[t]})});function rm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ts.hasOwnProperty(t)&&ts[t]?(""+e).trim():e+"px"}function sm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=rm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var N0=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wu(t,e){if(e){if(N0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function Uu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hu=null;function th(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zu=null,Ji=null,er=null;function Hd(t){if(t=js(t)){if(typeof Zu!="function")throw Error(R(280));var e=t.stateNode;e&&(e=Va(e),Zu(t.stateNode,t.type,e))}}function om(t){Ji?er?er.push(t):er=[t]:Ji=t}function am(){if(Ji){var t=Ji,e=er;if(er=Ji=null,Hd(t),e)for(t=0;t<e.length;t++)Hd(e[t])}}function lm(t,e){return t(e)}function um(){}var ql=!1;function cm(t,e,n){if(ql)return t(e,n);ql=!0;try{return lm(t,e,n)}finally{ql=!1,(Ji!==null||er!==null)&&(um(),am())}}function gs(t,e){var n=t.stateNode;if(n===null)return null;var r=Va(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var ju=!1;if(_n)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){ju=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{ju=!1}function M0(t,e,n,r,s,a,u,h,f){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(v){this.onError(v)}}var ns=!1,ea=null,ta=!1,Vu=null,R0={onError:function(t){ns=!0,ea=t}};function O0(t,e,n,r,s,a,u,h,f){ns=!1,ea=null,M0.apply(R0,arguments)}function A0(t,e,n,r,s,a,u,h,f){if(O0.apply(this,arguments),ns){if(ns){var p=ea;ns=!1,ea=null}else throw Error(R(198));ta||(ta=!0,Vu=p)}}function xi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zd(t){if(xi(t)!==t)throw Error(R(188))}function D0(t){var e=t.alternate;if(!e){if(e=xi(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Zd(s),t;if(a===r)return Zd(s),e;a=a.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=a;else{for(var u=!1,h=s.child;h;){if(h===n){u=!0,n=s,r=a;break}if(h===r){u=!0,r=s,n=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===n){u=!0,n=a,r=s;break}if(h===r){u=!0,r=a,n=s;break}h=h.sibling}if(!u)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function fm(t){return t=D0(t),t!==null?dm(t):null}function dm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dm(t);if(e!==null)return e;t=t.sibling}return null}var pm=Ct.unstable_scheduleCallback,jd=Ct.unstable_cancelCallback,b0=Ct.unstable_shouldYield,z0=Ct.unstable_requestPaint,Ne=Ct.unstable_now,F0=Ct.unstable_getCurrentPriorityLevel,nh=Ct.unstable_ImmediatePriority,_m=Ct.unstable_UserBlockingPriority,na=Ct.unstable_NormalPriority,B0=Ct.unstable_LowPriority,mm=Ct.unstable_IdlePriority,Ua=null,en=null;function W0(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Ua,t,void 0,(t.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:Z0,U0=Math.log,H0=Math.LN2;function Z0(t){return t>>>=0,t===0?32:31-(U0(t)/H0|0)|0}var xo=64,To=4194304;function Jr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ia(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes,u=n&268435455;if(u!==0){var h=u&~s;h!==0?r=Jr(h):(a&=u,a!==0&&(r=Jr(a)))}else u=n&~s,u!==0?r=Jr(u):a!==0&&(r=Jr(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zt(e),s=1<<n,r|=t[n],e&=~s;return r}function j0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var u=31-Zt(a),h=1<<u,f=s[u];f===-1?(!(h&n)||h&r)&&(s[u]=j0(h,e)):f<=e&&(t.expiredLanes|=h),a&=~h}}function $u(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gm(){var t=xo;return xo<<=1,!(xo&4194240)&&(xo=64),t}function Ql(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zt(e),t[e]=n}function $0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Zt(n),a=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~a}}function ih(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ce=0;function vm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ym,rh,wm,Cm,Em,Gu=!1,Po=[],On=null,An=null,Dn=null,vs=new Map,ys=new Map,Ln=[],G0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vd(t,e){switch(t){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":vs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ys.delete(e.pointerId)}}function Ur(t,e,n,r,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},e!==null&&(e=js(e),e!==null&&rh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function K0(t,e,n,r,s){switch(e){case"focusin":return On=Ur(On,t,e,n,r,s),!0;case"dragenter":return An=Ur(An,t,e,n,r,s),!0;case"mouseover":return Dn=Ur(Dn,t,e,n,r,s),!0;case"pointerover":var a=s.pointerId;return vs.set(a,Ur(vs.get(a)||null,t,e,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,ys.set(a,Ur(ys.get(a)||null,t,e,n,r,s)),!0}return!1}function Sm(t){var e=li(t.target);if(e!==null){var n=xi(e);if(n!==null){if(e=n.tag,e===13){if(e=hm(n),e!==null){t.blockedOn=e,Em(t.priority,function(){wm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ku(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hu=r,n.target.dispatchEvent(r),Hu=null}else return e=js(n),e!==null&&rh(e),t.blockedOn=n,!1;e.shift()}return!0}function $d(t,e,n){Uo(t)&&n.delete(e)}function Y0(){Gu=!1,On!==null&&Uo(On)&&(On=null),An!==null&&Uo(An)&&(An=null),Dn!==null&&Uo(Dn)&&(Dn=null),vs.forEach($d),ys.forEach($d)}function Hr(t,e){t.blockedOn===e&&(t.blockedOn=null,Gu||(Gu=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,Y0)))}function ws(t){function e(s){return Hr(s,t)}if(0<Po.length){Hr(Po[0],t);for(var n=1;n<Po.length;n++){var r=Po[n];r.blockedOn===t&&(r.blockedOn=null)}}for(On!==null&&Hr(On,t),An!==null&&Hr(An,t),Dn!==null&&Hr(Dn,t),vs.forEach(e),ys.forEach(e),n=0;n<Ln.length;n++)r=Ln[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ln.length&&(n=Ln[0],n.blockedOn===null);)Sm(n),n.blockedOn===null&&Ln.shift()}var tr=Cn.ReactCurrentBatchConfig,ra=!0;function q0(t,e,n,r){var s=ce,a=tr.transition;tr.transition=null;try{ce=1,sh(t,e,n,r)}finally{ce=s,tr.transition=a}}function Q0(t,e,n,r){var s=ce,a=tr.transition;tr.transition=null;try{ce=4,sh(t,e,n,r)}finally{ce=s,tr.transition=a}}function sh(t,e,n,r){if(ra){var s=Ku(t,e,n,r);if(s===null)au(t,e,r,sa,n),Vd(t,r);else if(K0(s,t,e,n,r))r.stopPropagation();else if(Vd(t,r),e&4&&-1<G0.indexOf(t)){for(;s!==null;){var a=js(s);if(a!==null&&ym(a),a=Ku(t,e,n,r),a===null&&au(t,e,r,sa,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else au(t,e,r,null,n)}}var sa=null;function Ku(t,e,n,r){if(sa=null,t=th(r),t=li(t),t!==null)if(e=xi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sa=t,null}function xm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F0()){case nh:return 1;case _m:return 4;case na:case B0:return 16;case mm:return 536870912;default:return 16}default:return 16}}var Mn=null,oh=null,Ho=null;function Tm(){if(Ho)return Ho;var t,e=oh,n=e.length,r,s="value"in Mn?Mn.value:Mn.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var u=n-t;for(r=1;r<=u&&e[n-r]===s[a-r];r++);return Ho=s.slice(t,1<r?1-r:void 0)}function Zo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ko(){return!0}function Gd(){return!1}function St(t){function e(n,r,s,a,u){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ko:Gd,this.isPropagationStopped=Gd,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),e}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ah=St(wr),Zs=Pe({},wr,{view:0,detail:0}),X0=St(Zs),Xl,Jl,Zr,Ha=Pe({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zr&&(Zr&&t.type==="mousemove"?(Xl=t.screenX-Zr.screenX,Jl=t.screenY-Zr.screenY):Jl=Xl=0,Zr=t),Xl)},movementY:function(t){return"movementY"in t?t.movementY:Jl}}),Kd=St(Ha),J0=Pe({},Ha,{dataTransfer:0}),eC=St(J0),tC=Pe({},Zs,{relatedTarget:0}),eu=St(tC),nC=Pe({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),iC=St(nC),rC=Pe({},wr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sC=St(rC),oC=Pe({},wr,{data:0}),Yd=St(oC),aC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uC[t])?!!e[t]:!1}function lh(){return cC}var hC=Pe({},Zs,{key:function(t){if(t.key){var e=aC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lh,charCode:function(t){return t.type==="keypress"?Zo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fC=St(hC),dC=Pe({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qd=St(dC),pC=Pe({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lh}),_C=St(pC),mC=Pe({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gC=St(mC),vC=Pe({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yC=St(vC),wC=[9,13,27,32],uh=_n&&"CompositionEvent"in window,is=null;_n&&"documentMode"in document&&(is=document.documentMode);var CC=_n&&"TextEvent"in window&&!is,Pm=_n&&(!uh||is&&8<is&&11>=is),Qd=" ",Xd=!1;function km(t,e){switch(t){case"keyup":return wC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Im(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wi=!1;function EC(t,e){switch(t){case"compositionend":return Im(e);case"keypress":return e.which!==32?null:(Xd=!0,Qd);case"textInput":return t=e.data,t===Qd&&Xd?null:t;default:return null}}function SC(t,e){if(Wi)return t==="compositionend"||!uh&&km(t,e)?(t=Tm(),Ho=oh=Mn=null,Wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Pm&&e.locale!=="ko"?null:e.data;default:return null}}var xC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xC[t.type]:e==="textarea"}function Lm(t,e,n,r){om(r),e=oa(e,"onChange"),0<e.length&&(n=new ah("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rs=null,Cs=null;function TC(t){Wm(t,0)}function Za(t){var e=Zi(t);if(J_(e))return t}function PC(t,e){if(t==="change")return e}var Nm=!1;if(_n){var tu;if(_n){var nu="oninput"in document;if(!nu){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),nu=typeof ep.oninput=="function"}tu=nu}else tu=!1;Nm=tu&&(!document.documentMode||9<document.documentMode)}function tp(){rs&&(rs.detachEvent("onpropertychange",Mm),Cs=rs=null)}function Mm(t){if(t.propertyName==="value"&&Za(Cs)){var e=[];Lm(e,Cs,t,th(t)),cm(TC,e)}}function kC(t,e,n){t==="focusin"?(tp(),rs=e,Cs=n,rs.attachEvent("onpropertychange",Mm)):t==="focusout"&&tp()}function IC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Za(Cs)}function LC(t,e){if(t==="click")return Za(e)}function NC(t,e){if(t==="input"||t==="change")return Za(e)}function MC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $t=typeof Object.is=="function"?Object.is:MC;function Es(t,e){if($t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Nu.call(e,s)||!$t(t[s],e[s]))return!1}return!0}function np(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ip(t,e){var n=np(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=np(n)}}function Rm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Om(){for(var t=window,e=Jo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jo(t.document)}return e}function ch(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function RC(t){var e=Om(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Rm(n.ownerDocument.documentElement,n)){if(r!==null&&ch(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!t.extend&&a>r&&(s=r,r=a,a=s),s=ip(n,a);var u=ip(n,r);s&&u&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OC=_n&&"documentMode"in document&&11>=document.documentMode,Ui=null,Yu=null,ss=null,qu=!1;function rp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qu||Ui==null||Ui!==Jo(r)||(r=Ui,"selectionStart"in r&&ch(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ss&&Es(ss,r)||(ss=r,r=oa(Yu,"onSelect"),0<r.length&&(e=new ah("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ui)))}function Io(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hi={animationend:Io("Animation","AnimationEnd"),animationiteration:Io("Animation","AnimationIteration"),animationstart:Io("Animation","AnimationStart"),transitionend:Io("Transition","TransitionEnd")},iu={},Am={};_n&&(Am=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function ja(t){if(iu[t])return iu[t];if(!Hi[t])return t;var e=Hi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Am)return iu[t]=e[n];return t}var Dm=ja("animationend"),bm=ja("animationiteration"),zm=ja("animationstart"),Fm=ja("transitionend"),Bm=new Map,sp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(t,e){Bm.set(t,e),Si(e,[t])}for(var ru=0;ru<sp.length;ru++){var su=sp[ru],AC=su.toLowerCase(),DC=su[0].toUpperCase()+su.slice(1);Kn(AC,"on"+DC)}Kn(Dm,"onAnimationEnd");Kn(bm,"onAnimationIteration");Kn(zm,"onAnimationStart");Kn("dblclick","onDoubleClick");Kn("focusin","onFocus");Kn("focusout","onBlur");Kn(Fm,"onTransitionEnd");lr("onMouseEnter",["mouseout","mouseover"]);lr("onMouseLeave",["mouseout","mouseover"]);lr("onPointerEnter",["pointerout","pointerover"]);lr("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bC=new Set("cancel close invalid load scroll toggle".split(" ").concat(es));function op(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,A0(r,e,void 0,t),t.currentTarget=null}function Wm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var u=r.length-1;0<=u;u--){var h=r[u],f=h.instance,p=h.currentTarget;if(h=h.listener,f!==a&&s.isPropagationStopped())break e;op(s,h,p),a=f}else for(u=0;u<r.length;u++){if(h=r[u],f=h.instance,p=h.currentTarget,h=h.listener,f!==a&&s.isPropagationStopped())break e;op(s,h,p),a=f}}}if(ta)throw t=Vu,ta=!1,Vu=null,t}function ye(t,e){var n=e[tc];n===void 0&&(n=e[tc]=new Set);var r=t+"__bubble";n.has(r)||(Um(e,t,2,!1),n.add(r))}function ou(t,e,n){var r=0;e&&(r|=4),Um(n,t,r,e)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function Ss(t){if(!t[Lo]){t[Lo]=!0,K_.forEach(function(n){n!=="selectionchange"&&(bC.has(n)||ou(n,!1,t),ou(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lo]||(e[Lo]=!0,ou("selectionchange",!1,e))}}function Um(t,e,n,r){switch(xm(e)){case 1:var s=q0;break;case 4:s=Q0;break;default:s=sh}n=s.bind(null,e,n,t),s=void 0,!ju||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function au(t,e,n,r,s){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var h=r.stateNode.containerInfo;if(h===s||h.nodeType===8&&h.parentNode===s)break;if(u===4)for(u=r.return;u!==null;){var f=u.tag;if((f===3||f===4)&&(f=u.stateNode.containerInfo,f===s||f.nodeType===8&&f.parentNode===s))return;u=u.return}for(;h!==null;){if(u=li(h),u===null)return;if(f=u.tag,f===5||f===6){r=a=u;continue e}h=h.parentNode}}r=r.return}cm(function(){var p=a,v=th(n),m=[];e:{var g=Bm.get(t);if(g!==void 0){var x=ah,P=t;switch(t){case"keypress":if(Zo(n)===0)break e;case"keydown":case"keyup":x=fC;break;case"focusin":P="focus",x=eu;break;case"focusout":P="blur",x=eu;break;case"beforeblur":case"afterblur":x=eu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=eC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=_C;break;case Dm:case bm:case zm:x=iC;break;case Fm:x=gC;break;case"scroll":x=X0;break;case"wheel":x=yC;break;case"copy":case"cut":case"paste":x=sC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=qd}var k=(e&4)!==0,H=!k&&t==="scroll",E=k?g!==null?g+"Capture":null:g;k=[];for(var w=p,C;w!==null;){C=w;var I=C.stateNode;if(C.tag===5&&I!==null&&(C=I,E!==null&&(I=gs(w,E),I!=null&&k.push(xs(w,I,C)))),H)break;w=w.return}0<k.length&&(g=new x(g,P,null,n,v),m.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",g&&n!==Hu&&(P=n.relatedTarget||n.fromElement)&&(li(P)||P[mn]))break e;if((x||g)&&(g=v.window===v?v:(g=v.ownerDocument)?g.defaultView||g.parentWindow:window,x?(P=n.relatedTarget||n.toElement,x=p,P=P?li(P):null,P!==null&&(H=xi(P),P!==H||P.tag!==5&&P.tag!==6)&&(P=null)):(x=null,P=p),x!==P)){if(k=Kd,I="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(k=qd,I="onPointerLeave",E="onPointerEnter",w="pointer"),H=x==null?g:Zi(x),C=P==null?g:Zi(P),g=new k(I,w+"leave",x,n,v),g.target=H,g.relatedTarget=C,I=null,li(v)===p&&(k=new k(E,w+"enter",P,n,v),k.target=C,k.relatedTarget=H,I=k),H=I,x&&P)t:{for(k=x,E=P,w=0,C=k;C;C=bi(C))w++;for(C=0,I=E;I;I=bi(I))C++;for(;0<w-C;)k=bi(k),w--;for(;0<C-w;)E=bi(E),C--;for(;w--;){if(k===E||E!==null&&k===E.alternate)break t;k=bi(k),E=bi(E)}k=null}else k=null;x!==null&&ap(m,g,x,k,!1),P!==null&&H!==null&&ap(m,H,P,k,!0)}}e:{if(g=p?Zi(p):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var D=PC;else if(Jd(g))if(Nm)D=NC;else{D=IC;var F=kC}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(D=LC);if(D&&(D=D(t,p))){Lm(m,D,n,v);break e}F&&F(t,g,p),t==="focusout"&&(F=g._wrapperState)&&F.controlled&&g.type==="number"&&zu(g,"number",g.value)}switch(F=p?Zi(p):window,t){case"focusin":(Jd(F)||F.contentEditable==="true")&&(Ui=F,Yu=p,ss=null);break;case"focusout":ss=Yu=Ui=null;break;case"mousedown":qu=!0;break;case"contextmenu":case"mouseup":case"dragend":qu=!1,rp(m,n,v);break;case"selectionchange":if(OC)break;case"keydown":case"keyup":rp(m,n,v)}var B;if(uh)e:{switch(t){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Wi?km(t,n)&&(W="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(Pm&&n.locale!=="ko"&&(Wi||W!=="onCompositionStart"?W==="onCompositionEnd"&&Wi&&(B=Tm()):(Mn=v,oh="value"in Mn?Mn.value:Mn.textContent,Wi=!0)),F=oa(p,W),0<F.length&&(W=new Yd(W,t,null,n,v),m.push({event:W,listeners:F}),B?W.data=B:(B=Im(n),B!==null&&(W.data=B)))),(B=CC?EC(t,n):SC(t,n))&&(p=oa(p,"onBeforeInput"),0<p.length&&(v=new Yd("onBeforeInput","beforeinput",null,n,v),m.push({event:v,listeners:p}),v.data=B))}Wm(m,e)})}function xs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function oa(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=gs(t,n),a!=null&&r.unshift(xs(t,a,s)),a=gs(t,e),a!=null&&r.push(xs(t,a,s))),t=t.return}return r}function bi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ap(t,e,n,r,s){for(var a=e._reactName,u=[];n!==null&&n!==r;){var h=n,f=h.alternate,p=h.stateNode;if(f!==null&&f===r)break;h.tag===5&&p!==null&&(h=p,s?(f=gs(n,a),f!=null&&u.unshift(xs(n,f,h))):s||(f=gs(n,a),f!=null&&u.push(xs(n,f,h)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var zC=/\r\n?/g,FC=/\u0000|\uFFFD/g;function lp(t){return(typeof t=="string"?t:""+t).replace(zC,`
`).replace(FC,"")}function No(t,e,n){if(e=lp(e),lp(t)!==e&&n)throw Error(R(425))}function aa(){}var Qu=null,Xu=null;function Ju(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ec=typeof setTimeout=="function"?setTimeout:void 0,BC=typeof clearTimeout=="function"?clearTimeout:void 0,up=typeof Promise=="function"?Promise:void 0,WC=typeof queueMicrotask=="function"?queueMicrotask:typeof up<"u"?function(t){return up.resolve(null).then(t).catch(UC)}:ec;function UC(t){setTimeout(function(){throw t})}function lu(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ws(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ws(e)}function bn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cr=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Cr,Ts="__reactProps$"+Cr,mn="__reactContainer$"+Cr,tc="__reactEvents$"+Cr,HC="__reactListeners$"+Cr,ZC="__reactHandles$"+Cr;function li(t){var e=t[Jt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mn]||n[Jt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cp(t);t!==null;){if(n=t[Jt])return n;t=cp(t)}return e}t=n,n=t.parentNode}return null}function js(t){return t=t[Jt]||t[mn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function Va(t){return t[Ts]||null}var nc=[],ji=-1;function Yn(t){return{current:t}}function Ce(t){0>ji||(t.current=nc[ji],nc[ji]=null,ji--)}function ge(t,e){ji++,nc[ji]=t.current,t.current=e}var Vn={},tt=Yn(Vn),dt=Yn(!1),pi=Vn;function ur(t,e){var n=t.type.contextTypes;if(!n)return Vn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function pt(t){return t=t.childContextTypes,t!=null}function la(){Ce(dt),Ce(tt)}function hp(t,e,n){if(tt.current!==Vn)throw Error(R(168));ge(tt,e),ge(dt,n)}function Hm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(R(108,k0(t)||"Unknown",s));return Pe({},n,r)}function ua(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vn,pi=tt.current,ge(tt,t),ge(dt,dt.current),!0}function fp(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=Hm(t,e,pi),r.__reactInternalMemoizedMergedChildContext=t,Ce(dt),Ce(tt),ge(tt,t)):Ce(dt),ge(dt,n)}var un=null,$a=!1,uu=!1;function Zm(t){un===null?un=[t]:un.push(t)}function jC(t){$a=!0,Zm(t)}function qn(){if(!uu&&un!==null){uu=!0;var t=0,e=ce;try{var n=un;for(ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}un=null,$a=!1}catch(s){throw un!==null&&(un=un.slice(t+1)),pm(nh,qn),s}finally{ce=e,uu=!1}}return null}var Vi=[],$i=0,ca=null,ha=0,It=[],Lt=0,_i=null,cn=1,hn="";function ri(t,e){Vi[$i++]=ha,Vi[$i++]=ca,ca=t,ha=e}function jm(t,e,n){It[Lt++]=cn,It[Lt++]=hn,It[Lt++]=_i,_i=t;var r=cn;t=hn;var s=32-Zt(r)-1;r&=~(1<<s),n+=1;var a=32-Zt(e)+s;if(30<a){var u=s-s%5;a=(r&(1<<u)-1).toString(32),r>>=u,s-=u,cn=1<<32-Zt(e)+s|n<<s|r,hn=a+t}else cn=1<<a|n<<s|r,hn=t}function hh(t){t.return!==null&&(ri(t,1),jm(t,1,0))}function fh(t){for(;t===ca;)ca=Vi[--$i],Vi[$i]=null,ha=Vi[--$i],Vi[$i]=null;for(;t===_i;)_i=It[--Lt],It[Lt]=null,hn=It[--Lt],It[Lt]=null,cn=It[--Lt],It[Lt]=null}var yt=null,vt=null,Ee=!1,Bt=null;function Vm(t,e){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yt=t,vt=bn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yt=t,vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_i!==null?{id:cn,overflow:hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yt=t,vt=null,!0):!1;default:return!1}}function ic(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rc(t){if(Ee){var e=vt;if(e){var n=e;if(!dp(t,e)){if(ic(t))throw Error(R(418));e=bn(n.nextSibling);var r=yt;e&&dp(t,e)?Vm(r,n):(t.flags=t.flags&-4097|2,Ee=!1,yt=t)}}else{if(ic(t))throw Error(R(418));t.flags=t.flags&-4097|2,Ee=!1,yt=t}}}function pp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function Mo(t){if(t!==yt)return!1;if(!Ee)return pp(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ju(t.type,t.memoizedProps)),e&&(e=vt)){if(ic(t))throw $m(),Error(R(418));for(;e;)Vm(t,e),e=bn(e.nextSibling)}if(pp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vt=bn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vt=null}}else vt=yt?bn(t.stateNode.nextSibling):null;return!0}function $m(){for(var t=vt;t;)t=bn(t.nextSibling)}function cr(){vt=yt=null,Ee=!1}function dh(t){Bt===null?Bt=[t]:Bt.push(t)}var VC=Cn.ReactCurrentBatchConfig;function jr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var s=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(u){var h=s.refs;u===null?delete h[a]:h[a]=u},e._stringRef=a,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function Ro(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _p(t){var e=t._init;return e(t._payload)}function Gm(t){function e(E,w){if(t){var C=E.deletions;C===null?(E.deletions=[w],E.flags|=16):C.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=Wn(E,w),E.index=0,E.sibling=null,E}function a(E,w,C){return E.index=C,t?(C=E.alternate,C!==null?(C=C.index,C<w?(E.flags|=2,w):C):(E.flags|=2,w)):(E.flags|=1048576,w)}function u(E){return t&&E.alternate===null&&(E.flags|=2),E}function h(E,w,C,I){return w===null||w.tag!==6?(w=mu(C,E.mode,I),w.return=E,w):(w=s(w,C),w.return=E,w)}function f(E,w,C,I){var D=C.type;return D===Bi?v(E,w,C.props.children,I,C.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===kn&&_p(D)===w.type)?(I=s(w,C.props),I.ref=jr(E,w,C),I.return=E,I):(I=qo(C.type,C.key,C.props,null,E.mode,I),I.ref=jr(E,w,C),I.return=E,I)}function p(E,w,C,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=gu(C,E.mode,I),w.return=E,w):(w=s(w,C.children||[]),w.return=E,w)}function v(E,w,C,I,D){return w===null||w.tag!==7?(w=di(C,E.mode,I,D),w.return=E,w):(w=s(w,C),w.return=E,w)}function m(E,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=mu(""+w,E.mode,C),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Co:return C=qo(w.type,w.key,w.props,null,E.mode,C),C.ref=jr(E,null,w),C.return=E,C;case Fi:return w=gu(w,E.mode,C),w.return=E,w;case kn:var I=w._init;return m(E,I(w._payload),C)}if(Xr(w)||Br(w))return w=di(w,E.mode,C,null),w.return=E,w;Ro(E,w)}return null}function g(E,w,C,I){var D=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return D!==null?null:h(E,w,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Co:return C.key===D?f(E,w,C,I):null;case Fi:return C.key===D?p(E,w,C,I):null;case kn:return D=C._init,g(E,w,D(C._payload),I)}if(Xr(C)||Br(C))return D!==null?null:v(E,w,C,I,null);Ro(E,C)}return null}function x(E,w,C,I,D){if(typeof I=="string"&&I!==""||typeof I=="number")return E=E.get(C)||null,h(w,E,""+I,D);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Co:return E=E.get(I.key===null?C:I.key)||null,f(w,E,I,D);case Fi:return E=E.get(I.key===null?C:I.key)||null,p(w,E,I,D);case kn:var F=I._init;return x(E,w,C,F(I._payload),D)}if(Xr(I)||Br(I))return E=E.get(C)||null,v(w,E,I,D,null);Ro(w,I)}return null}function P(E,w,C,I){for(var D=null,F=null,B=w,W=w=0,ve=null;B!==null&&W<C.length;W++){B.index>W?(ve=B,B=null):ve=B.sibling;var X=g(E,B,C[W],I);if(X===null){B===null&&(B=ve);break}t&&B&&X.alternate===null&&e(E,B),w=a(X,w,W),F===null?D=X:F.sibling=X,F=X,B=ve}if(W===C.length)return n(E,B),Ee&&ri(E,W),D;if(B===null){for(;W<C.length;W++)B=m(E,C[W],I),B!==null&&(w=a(B,w,W),F===null?D=B:F.sibling=B,F=B);return Ee&&ri(E,W),D}for(B=r(E,B);W<C.length;W++)ve=x(B,E,W,C[W],I),ve!==null&&(t&&ve.alternate!==null&&B.delete(ve.key===null?W:ve.key),w=a(ve,w,W),F===null?D=ve:F.sibling=ve,F=ve);return t&&B.forEach(function(de){return e(E,de)}),Ee&&ri(E,W),D}function k(E,w,C,I){var D=Br(C);if(typeof D!="function")throw Error(R(150));if(C=D.call(C),C==null)throw Error(R(151));for(var F=D=null,B=w,W=w=0,ve=null,X=C.next();B!==null&&!X.done;W++,X=C.next()){B.index>W?(ve=B,B=null):ve=B.sibling;var de=g(E,B,X.value,I);if(de===null){B===null&&(B=ve);break}t&&B&&de.alternate===null&&e(E,B),w=a(de,w,W),F===null?D=de:F.sibling=de,F=de,B=ve}if(X.done)return n(E,B),Ee&&ri(E,W),D;if(B===null){for(;!X.done;W++,X=C.next())X=m(E,X.value,I),X!==null&&(w=a(X,w,W),F===null?D=X:F.sibling=X,F=X);return Ee&&ri(E,W),D}for(B=r(E,B);!X.done;W++,X=C.next())X=x(B,E,W,X.value,I),X!==null&&(t&&X.alternate!==null&&B.delete(X.key===null?W:X.key),w=a(X,w,W),F===null?D=X:F.sibling=X,F=X);return t&&B.forEach(function(Fe){return e(E,Fe)}),Ee&&ri(E,W),D}function H(E,w,C,I){if(typeof C=="object"&&C!==null&&C.type===Bi&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Co:e:{for(var D=C.key,F=w;F!==null;){if(F.key===D){if(D=C.type,D===Bi){if(F.tag===7){n(E,F.sibling),w=s(F,C.props.children),w.return=E,E=w;break e}}else if(F.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===kn&&_p(D)===F.type){n(E,F.sibling),w=s(F,C.props),w.ref=jr(E,F,C),w.return=E,E=w;break e}n(E,F);break}else e(E,F);F=F.sibling}C.type===Bi?(w=di(C.props.children,E.mode,I,C.key),w.return=E,E=w):(I=qo(C.type,C.key,C.props,null,E.mode,I),I.ref=jr(E,w,C),I.return=E,E=I)}return u(E);case Fi:e:{for(F=C.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(E,w.sibling),w=s(w,C.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=gu(C,E.mode,I),w.return=E,E=w}return u(E);case kn:return F=C._init,H(E,w,F(C._payload),I)}if(Xr(C))return P(E,w,C,I);if(Br(C))return k(E,w,C,I);Ro(E,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,C),w.return=E,E=w):(n(E,w),w=mu(C,E.mode,I),w.return=E,E=w),u(E)):n(E,w)}return H}var hr=Gm(!0),Km=Gm(!1),fa=Yn(null),da=null,Gi=null,ph=null;function _h(){ph=Gi=da=null}function mh(t){var e=fa.current;Ce(fa),t._currentValue=e}function sc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function nr(t,e){da=t,ph=Gi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ct=!0),t.firstContext=null)}function Rt(t){var e=t._currentValue;if(ph!==t)if(t={context:t,memoizedValue:e,next:null},Gi===null){if(da===null)throw Error(R(308));Gi=t,da.dependencies={lanes:0,firstContext:t}}else Gi=Gi.next=t;return e}var ui=null;function gh(t){ui===null?ui=[t]:ui.push(t)}function Ym(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,gh(e)):(n.next=s.next,s.next=n),e.interleaved=n,gn(t,r)}function gn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var In=!1;function vh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,gn(t,n)}return s=r.interleaved,s===null?(e.next=e,gh(r)):(e.next=s.next,s.next=e),r.interleaved=e,gn(t,n)}function jo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ih(t,n)}}function mp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pa(t,e,n,r){var s=t.updateQueue;In=!1;var a=s.firstBaseUpdate,u=s.lastBaseUpdate,h=s.shared.pending;if(h!==null){s.shared.pending=null;var f=h,p=f.next;f.next=null,u===null?a=p:u.next=p,u=f;var v=t.alternate;v!==null&&(v=v.updateQueue,h=v.lastBaseUpdate,h!==u&&(h===null?v.firstBaseUpdate=p:h.next=p,v.lastBaseUpdate=f))}if(a!==null){var m=s.baseState;u=0,v=p=f=null,h=a;do{var g=h.lane,x=h.eventTime;if((r&g)===g){v!==null&&(v=v.next={eventTime:x,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var P=t,k=h;switch(g=e,x=n,k.tag){case 1:if(P=k.payload,typeof P=="function"){m=P.call(x,m,g);break e}m=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=k.payload,g=typeof P=="function"?P.call(x,m,g):P,g==null)break e;m=Pe({},m,g);break e;case 2:In=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[h]:g.push(h))}else x={eventTime:x,lane:g,tag:h.tag,payload:h.payload,callback:h.callback,next:null},v===null?(p=v=x,f=m):v=v.next=x,u|=g;if(h=h.next,h===null){if(h=s.shared.pending,h===null)break;g=h,h=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(v===null&&(f=m),s.baseState=f,s.firstBaseUpdate=p,s.lastBaseUpdate=v,e=s.shared.interleaved,e!==null){s=e;do u|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);gi|=u,t.lanes=u,t.memoizedState=m}}function gp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var Vs={},tn=Yn(Vs),Ps=Yn(Vs),ks=Yn(Vs);function ci(t){if(t===Vs)throw Error(R(174));return t}function yh(t,e){switch(ge(ks,e),ge(Ps,t),ge(tn,Vs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bu(e,t)}Ce(tn),ge(tn,e)}function fr(){Ce(tn),Ce(Ps),Ce(ks)}function Qm(t){ci(ks.current);var e=ci(tn.current),n=Bu(e,t.type);e!==n&&(ge(Ps,t),ge(tn,n))}function wh(t){Ps.current===t&&(Ce(tn),Ce(Ps))}var xe=Yn(0);function _a(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cu=[];function Ch(){for(var t=0;t<cu.length;t++)cu[t]._workInProgressVersionPrimary=null;cu.length=0}var Vo=Cn.ReactCurrentDispatcher,hu=Cn.ReactCurrentBatchConfig,mi=0,Te=null,De=null,Ue=null,ma=!1,os=!1,Is=0,$C=0;function qe(){throw Error(R(321))}function Eh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$t(t[n],e[n]))return!1;return!0}function Sh(t,e,n,r,s,a){if(mi=a,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vo.current=t===null||t.memoizedState===null?qC:QC,t=n(r,s),os){a=0;do{if(os=!1,Is=0,25<=a)throw Error(R(301));a+=1,Ue=De=null,e.updateQueue=null,Vo.current=XC,t=n(r,s)}while(os)}if(Vo.current=ga,e=De!==null&&De.next!==null,mi=0,Ue=De=Te=null,ma=!1,e)throw Error(R(300));return t}function xh(){var t=Is!==0;return Is=0,t}function Xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Te.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function Ot(){if(De===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=Ue===null?Te.memoizedState:Ue.next;if(e!==null)Ue=e,De=t;else{if(t===null)throw Error(R(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ue===null?Te.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function Ls(t,e){return typeof e=="function"?e(t):e}function fu(t){var e=Ot(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=De,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var u=s.next;s.next=a.next,a.next=u}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var h=u=null,f=null,p=a;do{var v=p.lane;if((mi&v)===v)f!==null&&(f=f.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:t(r,p.action);else{var m={lane:v,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};f===null?(h=f=m,u=r):f=f.next=m,Te.lanes|=v,gi|=v}p=p.next}while(p!==null&&p!==a);f===null?u=r:f.next=h,$t(r,e.memoizedState)||(ct=!0),e.memoizedState=r,e.baseState=u,e.baseQueue=f,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do a=s.lane,Te.lanes|=a,gi|=a,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function du(t){var e=Ot(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var u=s=s.next;do a=t(a,u.action),u=u.next;while(u!==s);$t(a,e.memoizedState)||(ct=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Xm(){}function Jm(t,e){var n=Te,r=Ot(),s=e(),a=!$t(r.memoizedState,s);if(a&&(r.memoizedState=s,ct=!0),r=r.queue,Th(ng.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,Ns(9,tg.bind(null,n,r,s,e),void 0,null),je===null)throw Error(R(349));mi&30||eg(n,e,s)}return s}function eg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tg(t,e,n,r){e.value=n,e.getSnapshot=r,ig(e)&&rg(t)}function ng(t,e,n){return n(function(){ig(e)&&rg(t)})}function ig(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$t(t,n)}catch{return!0}}function rg(t){var e=gn(t,1);e!==null&&jt(e,t,1,-1)}function vp(t){var e=Xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:t},e.queue=t,t=t.dispatch=YC.bind(null,Te,t),[e.memoizedState,t]}function Ns(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sg(){return Ot().memoizedState}function $o(t,e,n,r){var s=Xt();Te.flags|=t,s.memoizedState=Ns(1|e,n,void 0,r===void 0?null:r)}function Ga(t,e,n,r){var s=Ot();r=r===void 0?null:r;var a=void 0;if(De!==null){var u=De.memoizedState;if(a=u.destroy,r!==null&&Eh(r,u.deps)){s.memoizedState=Ns(e,n,a,r);return}}Te.flags|=t,s.memoizedState=Ns(1|e,n,a,r)}function yp(t,e){return $o(8390656,8,t,e)}function Th(t,e){return Ga(2048,8,t,e)}function og(t,e){return Ga(4,2,t,e)}function ag(t,e){return Ga(4,4,t,e)}function lg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ug(t,e,n){return n=n!=null?n.concat([t]):null,Ga(4,4,lg.bind(null,e,t),n)}function Ph(){}function cg(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Eh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hg(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Eh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fg(t,e,n){return mi&21?($t(n,e)||(n=gm(),Te.lanes|=n,gi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ct=!0),t.memoizedState=n)}function GC(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var r=hu.transition;hu.transition={};try{t(!1),e()}finally{ce=n,hu.transition=r}}function dg(){return Ot().memoizedState}function KC(t,e,n){var r=Bn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pg(t))_g(e,n);else if(n=Ym(t,e,n,r),n!==null){var s=rt();jt(n,t,r,s),mg(n,e,r)}}function YC(t,e,n){var r=Bn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pg(t))_g(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var u=e.lastRenderedState,h=a(u,n);if(s.hasEagerState=!0,s.eagerState=h,$t(h,u)){var f=e.interleaved;f===null?(s.next=s,gh(e)):(s.next=f.next,f.next=s),e.interleaved=s;return}}catch{}finally{}n=Ym(t,e,s,r),n!==null&&(s=rt(),jt(n,t,r,s),mg(n,e,r))}}function pg(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function _g(t,e){os=ma=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ih(t,n)}}var ga={readContext:Rt,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},qC={readContext:Rt,useCallback:function(t,e){return Xt().memoizedState=[t,e===void 0?null:e],t},useContext:Rt,useEffect:yp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$o(4194308,4,lg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $o(4194308,4,t,e)},useInsertionEffect:function(t,e){return $o(4,2,t,e)},useMemo:function(t,e){var n=Xt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=KC.bind(null,Te,t),[r.memoizedState,t]},useRef:function(t){var e=Xt();return t={current:t},e.memoizedState=t},useState:vp,useDebugValue:Ph,useDeferredValue:function(t){return Xt().memoizedState=t},useTransition:function(){var t=vp(!1),e=t[0];return t=GC.bind(null,t[1]),Xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Te,s=Xt();if(Ee){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),je===null)throw Error(R(349));mi&30||eg(r,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,yp(ng.bind(null,r,a,t),[t]),r.flags|=2048,Ns(9,tg.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Xt(),e=je.identifierPrefix;if(Ee){var n=hn,r=cn;n=(r&~(1<<32-Zt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Is++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$C++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QC={readContext:Rt,useCallback:cg,useContext:Rt,useEffect:Th,useImperativeHandle:ug,useInsertionEffect:og,useLayoutEffect:ag,useMemo:hg,useReducer:fu,useRef:sg,useState:function(){return fu(Ls)},useDebugValue:Ph,useDeferredValue:function(t){var e=Ot();return fg(e,De.memoizedState,t)},useTransition:function(){var t=fu(Ls)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:Xm,useSyncExternalStore:Jm,useId:dg,unstable_isNewReconciler:!1},XC={readContext:Rt,useCallback:cg,useContext:Rt,useEffect:Th,useImperativeHandle:ug,useInsertionEffect:og,useLayoutEffect:ag,useMemo:hg,useReducer:du,useRef:sg,useState:function(){return du(Ls)},useDebugValue:Ph,useDeferredValue:function(t){var e=Ot();return De===null?e.memoizedState=t:fg(e,De.memoizedState,t)},useTransition:function(){var t=du(Ls)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:Xm,useSyncExternalStore:Jm,useId:dg,unstable_isNewReconciler:!1};function zt(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function oc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ka={isMounted:function(t){return(t=t._reactInternals)?xi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rt(),s=Bn(t),a=dn(r,s);a.payload=e,n!=null&&(a.callback=n),e=zn(t,a,s),e!==null&&(jt(e,t,s,r),jo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rt(),s=Bn(t),a=dn(r,s);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=zn(t,a,s),e!==null&&(jt(e,t,s,r),jo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rt(),r=Bn(t),s=dn(n,r);s.tag=2,e!=null&&(s.callback=e),e=zn(t,s,r),e!==null&&(jt(e,t,r,n),jo(e,t,r))}};function wp(t,e,n,r,s,a,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,u):e.prototype&&e.prototype.isPureReactComponent?!Es(n,r)||!Es(s,a):!0}function gg(t,e,n){var r=!1,s=Vn,a=e.contextType;return typeof a=="object"&&a!==null?a=Rt(a):(s=pt(e)?pi:tt.current,r=e.contextTypes,a=(r=r!=null)?ur(t,s):Vn),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ka,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function Cp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ka.enqueueReplaceState(e,e.state,null)}function ac(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},vh(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=Rt(a):(a=pt(e)?pi:tt.current,s.context=ur(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(oc(t,e,a,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ka.enqueueReplaceState(s,s.state,null),pa(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function dr(t,e){try{var n="",r=e;do n+=P0(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function pu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var JC=typeof WeakMap=="function"?WeakMap:Map;function vg(t,e,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ya||(ya=!0,vc=r),lc(t,e)},n}function yg(t,e,n){n=dn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){lc(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){lc(t,e),typeof r!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function Ep(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new JC;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=dE.bind(null,t,e,n),e.then(t,t))}function Sp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xp(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dn(-1,1),e.tag=2,zn(n,e,1))),n.lanes|=1),t)}var eE=Cn.ReactCurrentOwner,ct=!1;function it(t,e,n,r){e.child=t===null?Km(e,null,n,r):hr(e,t.child,n,r)}function Tp(t,e,n,r,s){n=n.render;var a=e.ref;return nr(e,s),r=Sh(t,e,n,r,a,s),n=xh(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vn(t,e,s)):(Ee&&n&&hh(e),e.flags|=1,it(t,e,r,s),e.child)}function Pp(t,e,n,r,s){if(t===null){var a=n.type;return typeof a=="function"&&!Ah(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,wg(t,e,a,r,s)):(t=qo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:Es,n(u,r)&&t.ref===e.ref)return vn(t,e,s)}return e.flags|=1,t=Wn(a,r),t.ref=e.ref,t.return=e,e.child=t}function wg(t,e,n,r,s){if(t!==null){var a=t.memoizedProps;if(Es(a,r)&&t.ref===e.ref)if(ct=!1,e.pendingProps=r=a,(t.lanes&s)!==0)t.flags&131072&&(ct=!0);else return e.lanes=t.lanes,vn(t,e,s)}return uc(t,e,n,r,s)}function Cg(t,e,n){var r=e.pendingProps,s=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Yi,gt),gt|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(Yi,gt),gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ge(Yi,gt),gt|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,ge(Yi,gt),gt|=r;return it(t,e,s,n),e.child}function Eg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function uc(t,e,n,r,s){var a=pt(n)?pi:tt.current;return a=ur(e,a),nr(e,s),n=Sh(t,e,n,r,a,s),r=xh(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vn(t,e,s)):(Ee&&r&&hh(e),e.flags|=1,it(t,e,n,s),e.child)}function kp(t,e,n,r,s){if(pt(n)){var a=!0;ua(e)}else a=!1;if(nr(e,s),e.stateNode===null)Go(t,e),gg(e,n,r),ac(e,n,r,s),r=!0;else if(t===null){var u=e.stateNode,h=e.memoizedProps;u.props=h;var f=u.context,p=n.contextType;typeof p=="object"&&p!==null?p=Rt(p):(p=pt(n)?pi:tt.current,p=ur(e,p));var v=n.getDerivedStateFromProps,m=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function";m||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==r||f!==p)&&Cp(e,u,r,p),In=!1;var g=e.memoizedState;u.state=g,pa(e,r,u,s),f=e.memoizedState,h!==r||g!==f||dt.current||In?(typeof v=="function"&&(oc(e,n,v,r),f=e.memoizedState),(h=In||wp(e,n,h,r,g,f,p))?(m||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=f),u.props=r,u.state=f,u.context=p,r=h):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{u=e.stateNode,qm(t,e),h=e.memoizedProps,p=e.type===e.elementType?h:zt(e.type,h),u.props=p,m=e.pendingProps,g=u.context,f=n.contextType,typeof f=="object"&&f!==null?f=Rt(f):(f=pt(n)?pi:tt.current,f=ur(e,f));var x=n.getDerivedStateFromProps;(v=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==m||g!==f)&&Cp(e,u,r,f),In=!1,g=e.memoizedState,u.state=g,pa(e,r,u,s);var P=e.memoizedState;h!==m||g!==P||dt.current||In?(typeof x=="function"&&(oc(e,n,x,r),P=e.memoizedState),(p=In||wp(e,n,p,r,g,P,f)||!1)?(v||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,P,f),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,P,f)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),u.props=r,u.state=P,u.context=f,r=p):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return cc(t,e,n,r,a,s)}function cc(t,e,n,r,s,a){Eg(t,e);var u=(e.flags&128)!==0;if(!r&&!u)return s&&fp(e,n,!1),vn(t,e,a);r=e.stateNode,eE.current=e;var h=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&u?(e.child=hr(e,t.child,null,a),e.child=hr(e,null,h,a)):it(t,e,h,a),e.memoizedState=r.state,s&&fp(e,n,!0),e.child}function Sg(t){var e=t.stateNode;e.pendingContext?hp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hp(t,e.context,!1),yh(t,e.containerInfo)}function Ip(t,e,n,r,s){return cr(),dh(s),e.flags|=256,it(t,e,n,r),e.child}var hc={dehydrated:null,treeContext:null,retryLane:0};function fc(t){return{baseLanes:t,cachePool:null,transitions:null}}function xg(t,e,n){var r=e.pendingProps,s=xe.current,a=!1,u=(e.flags&128)!==0,h;if((h=u)||(h=t!==null&&t.memoizedState===null?!1:(s&2)!==0),h?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ge(xe,s&1),t===null)return rc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=r.children,t=r.fallback,a?(r=e.mode,a=e.child,u={mode:"hidden",children:u},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=Qa(u,r,0,null),t=di(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=fc(n),e.memoizedState=hc,t):kh(e,u));if(s=t.memoizedState,s!==null&&(h=s.dehydrated,h!==null))return tE(t,e,u,r,h,s,n);if(a){a=r.fallback,u=e.mode,s=t.child,h=s.sibling;var f={mode:"hidden",children:r.children};return!(u&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=f,e.deletions=null):(r=Wn(s,f),r.subtreeFlags=s.subtreeFlags&14680064),h!==null?a=Wn(h,a):(a=di(a,u,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,u=t.child.memoizedState,u=u===null?fc(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=t.childLanes&~n,e.memoizedState=hc,r}return a=t.child,t=a.sibling,r=Wn(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kh(t,e){return e=Qa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Oo(t,e,n,r){return r!==null&&dh(r),hr(e,t.child,null,n),t=kh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tE(t,e,n,r,s,a,u){if(n)return e.flags&256?(e.flags&=-257,r=pu(Error(R(422))),Oo(t,e,u,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,s=e.mode,r=Qa({mode:"visible",children:r.children},s,0,null),a=di(a,s,u,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&hr(e,t.child,null,u),e.child.memoizedState=fc(u),e.memoizedState=hc,a);if(!(e.mode&1))return Oo(t,e,u,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(R(419)),r=pu(a,r,void 0),Oo(t,e,u,r)}if(h=(u&t.childLanes)!==0,ct||h){if(r=je,r!==null){switch(u&-u){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|u)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,gn(t,s),jt(r,t,s,-1))}return Oh(),r=pu(Error(R(421))),Oo(t,e,u,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=pE.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,vt=bn(s.nextSibling),yt=e,Ee=!0,Bt=null,t!==null&&(It[Lt++]=cn,It[Lt++]=hn,It[Lt++]=_i,cn=t.id,hn=t.overflow,_i=e),e=kh(e,r.children),e.flags|=4096,e)}function Lp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sc(t.return,e,n)}function _u(t,e,n,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Tg(t,e,n){var r=e.pendingProps,s=r.revealOrder,a=r.tail;if(it(t,e,r.children,n),r=xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lp(t,n,e);else if(t.tag===19)Lp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(xe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&_a(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),_u(e,!1,s,n,a);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&_a(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}_u(e,!0,n,null,a);break;case"together":_u(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Go(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Wn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nE(t,e,n){switch(e.tag){case 3:Sg(e),cr();break;case 5:Qm(e);break;case 1:pt(e.type)&&ua(e);break;case 4:yh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ge(fa,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?xg(t,e,n):(ge(xe,xe.current&1),t=vn(t,e,n),t!==null?t.sibling:null);ge(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Tg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,Cg(t,e,n)}return vn(t,e,n)}var Pg,dc,kg,Ig;Pg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dc=function(){};kg=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ci(tn.current);var a=null;switch(n){case"input":s=Du(t,s),r=Du(t,r),a=[];break;case"select":s=Pe({},s,{value:void 0}),r=Pe({},r,{value:void 0}),a=[];break;case"textarea":s=Fu(t,s),r=Fu(t,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=aa)}Wu(n,r);var u;n=null;for(p in s)if(!r.hasOwnProperty(p)&&s.hasOwnProperty(p)&&s[p]!=null)if(p==="style"){var h=s[p];for(u in h)h.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(_s.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var f=r[p];if(h=s!=null?s[p]:void 0,r.hasOwnProperty(p)&&f!==h&&(f!=null||h!=null))if(p==="style")if(h){for(u in h)!h.hasOwnProperty(u)||f&&f.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in f)f.hasOwnProperty(u)&&h[u]!==f[u]&&(n||(n={}),n[u]=f[u])}else n||(a||(a=[]),a.push(p,n)),n=f;else p==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,h=h?h.__html:void 0,f!=null&&h!==f&&(a=a||[]).push(p,f)):p==="children"?typeof f!="string"&&typeof f!="number"||(a=a||[]).push(p,""+f):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(_s.hasOwnProperty(p)?(f!=null&&p==="onScroll"&&ye("scroll",t),a||h===f||(a=[])):(a=a||[]).push(p,f))}n&&(a=a||[]).push("style",n);var p=a;(e.updateQueue=p)&&(e.flags|=4)}};Ig=function(t,e,n,r){n!==r&&(e.flags|=4)};function Vr(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iE(t,e,n){var r=e.pendingProps;switch(fh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(e),null;case 1:return pt(e.type)&&la(),Qe(e),null;case 3:return r=e.stateNode,fr(),Ce(dt),Ce(tt),Ch(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bt!==null&&(Cc(Bt),Bt=null))),dc(t,e),Qe(e),null;case 5:wh(e);var s=ci(ks.current);if(n=e.type,t!==null&&e.stateNode!=null)kg(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return Qe(e),null}if(t=ci(tn.current),Mo(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Jt]=e,r[Ts]=a,t=(e.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(s=0;s<es.length;s++)ye(es[s],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":Fd(r,a),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ye("invalid",r);break;case"textarea":Wd(r,a),ye("invalid",r)}Wu(n,a),s=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&No(r.textContent,h,t),s=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&No(r.textContent,h,t),s=["children",""+h]):_s.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&ye("scroll",r)}switch(n){case"input":Eo(r),Bd(r,a,!0);break;case"textarea":Eo(r),Ud(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=aa)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{u=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),n==="select"&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[Jt]=e,t[Ts]=r,Pg(t,e,!1,!1),e.stateNode=t;e:{switch(u=Uu(n,r),n){case"dialog":ye("cancel",t),ye("close",t),s=r;break;case"iframe":case"object":case"embed":ye("load",t),s=r;break;case"video":case"audio":for(s=0;s<es.length;s++)ye(es[s],t);s=r;break;case"source":ye("error",t),s=r;break;case"img":case"image":case"link":ye("error",t),ye("load",t),s=r;break;case"details":ye("toggle",t),s=r;break;case"input":Fd(t,r),s=Du(t,r),ye("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Pe({},r,{value:void 0}),ye("invalid",t);break;case"textarea":Wd(t,r),s=Fu(t,r),ye("invalid",t);break;default:s=r}Wu(n,s),h=s;for(a in h)if(h.hasOwnProperty(a)){var f=h[a];a==="style"?sm(t,f):a==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&im(t,f)):a==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&ms(t,f):typeof f=="number"&&ms(t,""+f):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(_s.hasOwnProperty(a)?f!=null&&a==="onScroll"&&ye("scroll",t):f!=null&&Qc(t,a,f,u))}switch(n){case"input":Eo(t),Bd(t,r,!1);break;case"textarea":Eo(t),Ud(t);break;case"option":r.value!=null&&t.setAttribute("value",""+jn(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Xi(t,!!r.multiple,a,!1):r.defaultValue!=null&&Xi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=aa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qe(e),null;case 6:if(t&&e.stateNode!=null)Ig(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=ci(ks.current),ci(tn.current),Mo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jt]=e,(a=r.nodeValue!==n)&&(t=yt,t!==null))switch(t.tag){case 3:No(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&No(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jt]=e,e.stateNode=r}return Qe(e),null;case 13:if(Ce(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&vt!==null&&e.mode&1&&!(e.flags&128))$m(),cr(),e.flags|=98560,a=!1;else if(a=Mo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(R(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(R(317));a[Jt]=e}else cr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qe(e),a=!1}else Bt!==null&&(Cc(Bt),Bt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?ze===0&&(ze=3):Oh())),e.updateQueue!==null&&(e.flags|=4),Qe(e),null);case 4:return fr(),dc(t,e),t===null&&Ss(e.stateNode.containerInfo),Qe(e),null;case 10:return mh(e.type._context),Qe(e),null;case 17:return pt(e.type)&&la(),Qe(e),null;case 19:if(Ce(xe),a=e.memoizedState,a===null)return Qe(e),null;if(r=(e.flags&128)!==0,u=a.rendering,u===null)if(r)Vr(a,!1);else{if(ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=_a(t),u!==null){for(e.flags|=128,Vr(a,!1),r=u.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(xe,xe.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ne()>pr&&(e.flags|=128,r=!0,Vr(a,!1),e.lanes=4194304)}else{if(!r)if(t=_a(u),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!Ee)return Qe(e),null}else 2*Ne()-a.renderingStartTime>pr&&n!==1073741824&&(e.flags|=128,r=!0,Vr(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(n=a.last,n!==null?n.sibling=u:e.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ne(),e.sibling=null,n=xe.current,ge(xe,r?n&1|2:n&1),e):(Qe(e),null);case 22:case 23:return Rh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gt&1073741824&&(Qe(e),e.subtreeFlags&6&&(e.flags|=8192)):Qe(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function rE(t,e){switch(fh(e),e.tag){case 1:return pt(e.type)&&la(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fr(),Ce(dt),Ce(tt),Ch(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wh(e),null;case 13:if(Ce(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));cr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(xe),null;case 4:return fr(),null;case 10:return mh(e.type._context),null;case 22:case 23:return Rh(),null;case 24:return null;default:return null}}var Ao=!1,Xe=!1,sE=typeof WeakSet=="function"?WeakSet:Set,z=null;function Ki(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function pc(t,e,n){try{n()}catch(r){ke(t,e,r)}}var Np=!1;function oE(t,e){if(Qu=ra,t=Om(),ch(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,h=-1,f=-1,p=0,v=0,m=t,g=null;t:for(;;){for(var x;m!==n||s!==0&&m.nodeType!==3||(h=u+s),m!==a||r!==0&&m.nodeType!==3||(f=u+r),m.nodeType===3&&(u+=m.nodeValue.length),(x=m.firstChild)!==null;)g=m,m=x;for(;;){if(m===t)break t;if(g===n&&++p===s&&(h=u),g===a&&++v===r&&(f=u),(x=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=x}n=h===-1||f===-1?null:{start:h,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xu={focusedElem:t,selectionRange:n},ra=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var k=P.memoizedProps,H=P.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?k:zt(e.type,k),H);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(I){ke(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return P=Np,Np=!1,P}function as(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&pc(e,n,a)}s=s.next}while(s!==r)}}function Ya(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _c(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Lg(t){var e=t.alternate;e!==null&&(t.alternate=null,Lg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jt],delete e[Ts],delete e[tc],delete e[HC],delete e[ZC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ng(t){return t.tag===5||t.tag===3||t.tag===4}function Mp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ng(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=aa));else if(r!==4&&(t=t.child,t!==null))for(mc(t,e,n),t=t.sibling;t!==null;)mc(t,e,n),t=t.sibling}function gc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gc(t,e,n),t=t.sibling;t!==null;)gc(t,e,n),t=t.sibling}var Ge=null,Ft=!1;function Pn(t,e,n){for(n=n.child;n!==null;)Mg(t,e,n),n=n.sibling}function Mg(t,e,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Ua,n)}catch{}switch(n.tag){case 5:Xe||Ki(n,e);case 6:var r=Ge,s=Ft;Ge=null,Pn(t,e,n),Ge=r,Ft=s,Ge!==null&&(Ft?(t=Ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(Ft?(t=Ge,n=n.stateNode,t.nodeType===8?lu(t.parentNode,n):t.nodeType===1&&lu(t,n),ws(t)):lu(Ge,n.stateNode));break;case 4:r=Ge,s=Ft,Ge=n.stateNode.containerInfo,Ft=!0,Pn(t,e,n),Ge=r,Ft=s;break;case 0:case 11:case 14:case 15:if(!Xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&pc(n,e,u),s=s.next}while(s!==r)}Pn(t,e,n);break;case 1:if(!Xe&&(Ki(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){ke(n,e,h)}Pn(t,e,n);break;case 21:Pn(t,e,n);break;case 22:n.mode&1?(Xe=(r=Xe)||n.memoizedState!==null,Pn(t,e,n),Xe=r):Pn(t,e,n);break;default:Pn(t,e,n)}}function Rp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sE),e.forEach(function(r){var s=_E.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function bt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=t,u=e,h=u;e:for(;h!==null;){switch(h.tag){case 5:Ge=h.stateNode,Ft=!1;break e;case 3:Ge=h.stateNode.containerInfo,Ft=!0;break e;case 4:Ge=h.stateNode.containerInfo,Ft=!0;break e}h=h.return}if(Ge===null)throw Error(R(160));Mg(a,u,s),Ge=null,Ft=!1;var f=s.alternate;f!==null&&(f.return=null),s.return=null}catch(p){ke(s,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Rg(e,t),e=e.sibling}function Rg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bt(e,t),Qt(t),r&4){try{as(3,t,t.return),Ya(3,t)}catch(k){ke(t,t.return,k)}try{as(5,t,t.return)}catch(k){ke(t,t.return,k)}}break;case 1:bt(e,t),Qt(t),r&512&&n!==null&&Ki(n,n.return);break;case 5:if(bt(e,t),Qt(t),r&512&&n!==null&&Ki(n,n.return),t.flags&32){var s=t.stateNode;try{ms(s,"")}catch(k){ke(t,t.return,k)}}if(r&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,u=n!==null?n.memoizedProps:a,h=t.type,f=t.updateQueue;if(t.updateQueue=null,f!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&em(s,a),Uu(h,u);var p=Uu(h,a);for(u=0;u<f.length;u+=2){var v=f[u],m=f[u+1];v==="style"?sm(s,m):v==="dangerouslySetInnerHTML"?im(s,m):v==="children"?ms(s,m):Qc(s,v,m,p)}switch(h){case"input":bu(s,a);break;case"textarea":tm(s,a);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Xi(s,!!a.multiple,x,!1):g!==!!a.multiple&&(a.defaultValue!=null?Xi(s,!!a.multiple,a.defaultValue,!0):Xi(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ts]=a}catch(k){ke(t,t.return,k)}}break;case 6:if(bt(e,t),Qt(t),r&4){if(t.stateNode===null)throw Error(R(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(k){ke(t,t.return,k)}}break;case 3:if(bt(e,t),Qt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ws(e.containerInfo)}catch(k){ke(t,t.return,k)}break;case 4:bt(e,t),Qt(t);break;case 13:bt(e,t),Qt(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Nh=Ne())),r&4&&Rp(t);break;case 22:if(v=n!==null&&n.memoizedState!==null,t.mode&1?(Xe=(p=Xe)||v,bt(e,t),Xe=p):bt(e,t),Qt(t),r&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!v&&t.mode&1)for(z=t,v=t.child;v!==null;){for(m=z=v;z!==null;){switch(g=z,x=g.child,g.tag){case 0:case 11:case 14:case 15:as(4,g,g.return);break;case 1:Ki(g,g.return);var P=g.stateNode;if(typeof P.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(k){ke(r,n,k)}}break;case 5:Ki(g,g.return);break;case 22:if(g.memoizedState!==null){Ap(m);continue}}x!==null?(x.return=g,z=x):Ap(m)}v=v.sibling}e:for(v=null,m=t;;){if(m.tag===5){if(v===null){v=m;try{s=m.stateNode,p?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=m.stateNode,f=m.memoizedProps.style,u=f!=null&&f.hasOwnProperty("display")?f.display:null,h.style.display=rm("display",u))}catch(k){ke(t,t.return,k)}}}else if(m.tag===6){if(v===null)try{m.stateNode.nodeValue=p?"":m.memoizedProps}catch(k){ke(t,t.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;v===m&&(v=null),m=m.return}v===m&&(v=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:bt(e,t),Qt(t),r&4&&Rp(t);break;case 21:break;default:bt(e,t),Qt(t)}}function Qt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ng(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ms(s,""),r.flags&=-33);var a=Mp(t);gc(t,a,s);break;case 3:case 4:var u=r.stateNode.containerInfo,h=Mp(t);mc(t,h,u);break;default:throw Error(R(161))}}catch(f){ke(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aE(t,e,n){z=t,Og(t)}function Og(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var s=z,a=s.child;if(s.tag===22&&r){var u=s.memoizedState!==null||Ao;if(!u){var h=s.alternate,f=h!==null&&h.memoizedState!==null||Xe;h=Ao;var p=Xe;if(Ao=u,(Xe=f)&&!p)for(z=s;z!==null;)u=z,f=u.child,u.tag===22&&u.memoizedState!==null?Dp(s):f!==null?(f.return=u,z=f):Dp(s);for(;a!==null;)z=a,Og(a),a=a.sibling;z=s,Ao=h,Xe=p}Op(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,z=a):Op(t)}}function Op(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xe||Ya(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:zt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&gp(e,a,r);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gp(e,u,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var f=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var v=p.memoizedState;if(v!==null){var m=v.dehydrated;m!==null&&ws(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Xe||e.flags&512&&_c(e)}catch(g){ke(e,e.return,g)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function Ap(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function Dp(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ya(4,e)}catch(f){ke(e,n,f)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(f){ke(e,s,f)}}var a=e.return;try{_c(e)}catch(f){ke(e,a,f)}break;case 5:var u=e.return;try{_c(e)}catch(f){ke(e,u,f)}}}catch(f){ke(e,e.return,f)}if(e===t){z=null;break}var h=e.sibling;if(h!==null){h.return=e.return,z=h;break}z=e.return}}var lE=Math.ceil,va=Cn.ReactCurrentDispatcher,Ih=Cn.ReactCurrentOwner,Mt=Cn.ReactCurrentBatchConfig,oe=0,je=null,Oe=null,Ke=0,gt=0,Yi=Yn(0),ze=0,Ms=null,gi=0,qa=0,Lh=0,ls=null,ut=null,Nh=0,pr=1/0,ln=null,ya=!1,vc=null,Fn=null,Do=!1,Rn=null,wa=0,us=0,yc=null,Ko=-1,Yo=0;function rt(){return oe&6?Ne():Ko!==-1?Ko:Ko=Ne()}function Bn(t){return t.mode&1?oe&2&&Ke!==0?Ke&-Ke:VC.transition!==null?(Yo===0&&(Yo=gm()),Yo):(t=ce,t!==0||(t=window.event,t=t===void 0?16:xm(t.type)),t):1}function jt(t,e,n,r){if(50<us)throw us=0,yc=null,Error(R(185));Hs(t,n,r),(!(oe&2)||t!==je)&&(t===je&&(!(oe&2)&&(qa|=n),ze===4&&Nn(t,Ke)),_t(t,r),n===1&&oe===0&&!(e.mode&1)&&(pr=Ne()+500,$a&&qn()))}function _t(t,e){var n=t.callbackNode;V0(t,e);var r=ia(t,t===je?Ke:0);if(r===0)n!==null&&jd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jd(n),e===1)t.tag===0?jC(bp.bind(null,t)):Zm(bp.bind(null,t)),WC(function(){!(oe&6)&&qn()}),n=null;else{switch(vm(r)){case 1:n=nh;break;case 4:n=_m;break;case 16:n=na;break;case 536870912:n=mm;break;default:n=na}n=Ug(n,Ag.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ag(t,e){if(Ko=-1,Yo=0,oe&6)throw Error(R(327));var n=t.callbackNode;if(ir()&&t.callbackNode!==n)return null;var r=ia(t,t===je?Ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ca(t,r);else{e=r;var s=oe;oe|=2;var a=bg();(je!==t||Ke!==e)&&(ln=null,pr=Ne()+500,fi(t,e));do try{hE();break}catch(h){Dg(t,h)}while(!0);_h(),va.current=a,oe=s,Oe!==null?e=0:(je=null,Ke=0,e=ze)}if(e!==0){if(e===2&&(s=$u(t),s!==0&&(r=s,e=wc(t,s))),e===1)throw n=Ms,fi(t,0),Nn(t,r),_t(t,Ne()),n;if(e===6)Nn(t,r);else{if(s=t.current.alternate,!(r&30)&&!uE(s)&&(e=Ca(t,r),e===2&&(a=$u(t),a!==0&&(r=a,e=wc(t,a))),e===1))throw n=Ms,fi(t,0),Nn(t,r),_t(t,Ne()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:si(t,ut,ln);break;case 3:if(Nn(t,r),(r&130023424)===r&&(e=Nh+500-Ne(),10<e)){if(ia(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){rt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ec(si.bind(null,t,ut,ln),e);break}si(t,ut,ln);break;case 4:if(Nn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var u=31-Zt(r);a=1<<u,u=e[u],u>s&&(s=u),r&=~a}if(r=s,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lE(r/1960))-r,10<r){t.timeoutHandle=ec(si.bind(null,t,ut,ln),r);break}si(t,ut,ln);break;case 5:si(t,ut,ln);break;default:throw Error(R(329))}}}return _t(t,Ne()),t.callbackNode===n?Ag.bind(null,t):null}function wc(t,e){var n=ls;return t.current.memoizedState.isDehydrated&&(fi(t,e).flags|=256),t=Ca(t,e),t!==2&&(e=ut,ut=n,e!==null&&Cc(e)),t}function Cc(t){ut===null?ut=t:ut.push.apply(ut,t)}function uE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!$t(a(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nn(t,e){for(e&=~Lh,e&=~qa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zt(e),r=1<<n;t[n]=-1,e&=~r}}function bp(t){if(oe&6)throw Error(R(327));ir();var e=ia(t,0);if(!(e&1))return _t(t,Ne()),null;var n=Ca(t,e);if(t.tag!==0&&n===2){var r=$u(t);r!==0&&(e=r,n=wc(t,r))}if(n===1)throw n=Ms,fi(t,0),Nn(t,e),_t(t,Ne()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,si(t,ut,ln),_t(t,Ne()),null}function Mh(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(pr=Ne()+500,$a&&qn())}}function vi(t){Rn!==null&&Rn.tag===0&&!(oe&6)&&ir();var e=oe;oe|=1;var n=Mt.transition,r=ce;try{if(Mt.transition=null,ce=1,t)return t()}finally{ce=r,Mt.transition=n,oe=e,!(oe&6)&&qn()}}function Rh(){gt=Yi.current,Ce(Yi)}function fi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BC(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(fh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&la();break;case 3:fr(),Ce(dt),Ce(tt),Ch();break;case 5:wh(r);break;case 4:fr();break;case 13:Ce(xe);break;case 19:Ce(xe);break;case 10:mh(r.type._context);break;case 22:case 23:Rh()}n=n.return}if(je=t,Oe=t=Wn(t.current,null),Ke=gt=e,ze=0,Ms=null,Lh=qa=gi=0,ut=ls=null,ui!==null){for(e=0;e<ui.length;e++)if(n=ui[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=s,r.next=u}n.pending=r}ui=null}return t}function Dg(t,e){do{var n=Oe;try{if(_h(),Vo.current=ga,ma){for(var r=Te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ma=!1}if(mi=0,Ue=De=Te=null,os=!1,Is=0,Ih.current=null,n===null||n.return===null){ze=1,Ms=e,Oe=null;break}e:{var a=t,u=n.return,h=n,f=e;if(e=Ke,h.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var p=f,v=h,m=v.tag;if(!(v.mode&1)&&(m===0||m===11||m===15)){var g=v.alternate;g?(v.updateQueue=g.updateQueue,v.memoizedState=g.memoizedState,v.lanes=g.lanes):(v.updateQueue=null,v.memoizedState=null)}var x=Sp(u);if(x!==null){x.flags&=-257,xp(x,u,h,a,e),x.mode&1&&Ep(a,p,e),e=x,f=p;var P=e.updateQueue;if(P===null){var k=new Set;k.add(f),e.updateQueue=k}else P.add(f);break e}else{if(!(e&1)){Ep(a,p,e),Oh();break e}f=Error(R(426))}}else if(Ee&&h.mode&1){var H=Sp(u);if(H!==null){!(H.flags&65536)&&(H.flags|=256),xp(H,u,h,a,e),dh(dr(f,h));break e}}a=f=dr(f,h),ze!==4&&(ze=2),ls===null?ls=[a]:ls.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var E=vg(a,f,e);mp(a,E);break e;case 1:h=f;var w=a.type,C=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Fn===null||!Fn.has(C)))){a.flags|=65536,e&=-e,a.lanes|=e;var I=yg(a,h,e);mp(a,I);break e}}a=a.return}while(a!==null)}Fg(n)}catch(D){e=D,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function bg(){var t=va.current;return va.current=ga,t===null?ga:t}function Oh(){(ze===0||ze===3||ze===2)&&(ze=4),je===null||!(gi&268435455)&&!(qa&268435455)||Nn(je,Ke)}function Ca(t,e){var n=oe;oe|=2;var r=bg();(je!==t||Ke!==e)&&(ln=null,fi(t,e));do try{cE();break}catch(s){Dg(t,s)}while(!0);if(_h(),oe=n,va.current=r,Oe!==null)throw Error(R(261));return je=null,Ke=0,ze}function cE(){for(;Oe!==null;)zg(Oe)}function hE(){for(;Oe!==null&&!b0();)zg(Oe)}function zg(t){var e=Wg(t.alternate,t,gt);t.memoizedProps=t.pendingProps,e===null?Fg(t):Oe=e,Ih.current=null}function Fg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rE(n,e),n!==null){n.flags&=32767,Oe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ze=6,Oe=null;return}}else if(n=iE(n,e,gt),n!==null){Oe=n;return}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);ze===0&&(ze=5)}function si(t,e,n){var r=ce,s=Mt.transition;try{Mt.transition=null,ce=1,fE(t,e,n,r)}finally{Mt.transition=s,ce=r}return null}function fE(t,e,n,r){do ir();while(Rn!==null);if(oe&6)throw Error(R(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if($0(t,a),t===je&&(Oe=je=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Do||(Do=!0,Ug(na,function(){return ir(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Mt.transition,Mt.transition=null;var u=ce;ce=1;var h=oe;oe|=4,Ih.current=null,oE(t,n),Rg(n,t),RC(Xu),ra=!!Qu,Xu=Qu=null,t.current=n,aE(n),z0(),oe=h,ce=u,Mt.transition=a}else t.current=n;if(Do&&(Do=!1,Rn=t,wa=s),a=t.pendingLanes,a===0&&(Fn=null),W0(n.stateNode),_t(t,Ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ya)throw ya=!1,t=vc,vc=null,t;return wa&1&&t.tag!==0&&ir(),a=t.pendingLanes,a&1?t===yc?us++:(us=0,yc=t):us=0,qn(),null}function ir(){if(Rn!==null){var t=vm(wa),e=Mt.transition,n=ce;try{if(Mt.transition=null,ce=16>t?16:t,Rn===null)var r=!1;else{if(t=Rn,Rn=null,wa=0,oe&6)throw Error(R(331));var s=oe;for(oe|=4,z=t.current;z!==null;){var a=z,u=a.child;if(z.flags&16){var h=a.deletions;if(h!==null){for(var f=0;f<h.length;f++){var p=h[f];for(z=p;z!==null;){var v=z;switch(v.tag){case 0:case 11:case 15:as(8,v,a)}var m=v.child;if(m!==null)m.return=v,z=m;else for(;z!==null;){v=z;var g=v.sibling,x=v.return;if(Lg(v),v===p){z=null;break}if(g!==null){g.return=x,z=g;break}z=x}}}var P=a.alternate;if(P!==null){var k=P.child;if(k!==null){P.child=null;do{var H=k.sibling;k.sibling=null,k=H}while(k!==null)}}z=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,z=u;else e:for(;z!==null;){if(a=z,a.flags&2048)switch(a.tag){case 0:case 11:case 15:as(9,a,a.return)}var E=a.sibling;if(E!==null){E.return=a.return,z=E;break e}z=a.return}}var w=t.current;for(z=w;z!==null;){u=z;var C=u.child;if(u.subtreeFlags&2064&&C!==null)C.return=u,z=C;else e:for(u=w;z!==null;){if(h=z,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Ya(9,h)}}catch(D){ke(h,h.return,D)}if(h===u){z=null;break e}var I=h.sibling;if(I!==null){I.return=h.return,z=I;break e}z=h.return}}if(oe=s,qn(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Ua,t)}catch{}r=!0}return r}finally{ce=n,Mt.transition=e}}return!1}function zp(t,e,n){e=dr(n,e),e=vg(t,e,1),t=zn(t,e,1),e=rt(),t!==null&&(Hs(t,1,e),_t(t,e))}function ke(t,e,n){if(t.tag===3)zp(t,t,n);else for(;e!==null;){if(e.tag===3){zp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fn===null||!Fn.has(r))){t=dr(n,t),t=yg(e,t,1),e=zn(e,t,1),t=rt(),e!==null&&(Hs(e,1,t),_t(e,t));break}}e=e.return}}function dE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rt(),t.pingedLanes|=t.suspendedLanes&n,je===t&&(Ke&n)===n&&(ze===4||ze===3&&(Ke&130023424)===Ke&&500>Ne()-Nh?fi(t,0):Lh|=n),_t(t,e)}function Bg(t,e){e===0&&(t.mode&1?(e=To,To<<=1,!(To&130023424)&&(To=4194304)):e=1);var n=rt();t=gn(t,e),t!==null&&(Hs(t,e,n),_t(t,n))}function pE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Bg(t,n)}function _E(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),Bg(t,n)}var Wg;Wg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dt.current)ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ct=!1,nE(t,e,n);ct=!!(t.flags&131072)}else ct=!1,Ee&&e.flags&1048576&&jm(e,ha,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Go(t,e),t=e.pendingProps;var s=ur(e,tt.current);nr(e,n),s=Sh(null,e,r,t,s,n);var a=xh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pt(r)?(a=!0,ua(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vh(e),s.updater=Ka,e.stateNode=s,s._reactInternals=e,ac(e,r,t,n),e=cc(null,e,r,!0,a,n)):(e.tag=0,Ee&&a&&hh(e),it(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Go(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=gE(r),t=zt(r,t),s){case 0:e=uc(null,e,r,t,n);break e;case 1:e=kp(null,e,r,t,n);break e;case 11:e=Tp(null,e,r,t,n);break e;case 14:e=Pp(null,e,r,zt(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),uc(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),kp(t,e,r,s,n);case 3:e:{if(Sg(e),t===null)throw Error(R(387));r=e.pendingProps,a=e.memoizedState,s=a.element,qm(t,e),pa(e,r,null,n);var u=e.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=dr(Error(R(423)),e),e=Ip(t,e,r,n,s);break e}else if(r!==s){s=dr(Error(R(424)),e),e=Ip(t,e,r,n,s);break e}else for(vt=bn(e.stateNode.containerInfo.firstChild),yt=e,Ee=!0,Bt=null,n=Km(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cr(),r===s){e=vn(t,e,n);break e}it(t,e,r,n)}e=e.child}return e;case 5:return Qm(e),t===null&&rc(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,u=s.children,Ju(r,s)?u=null:a!==null&&Ju(r,a)&&(e.flags|=32),Eg(t,e),it(t,e,u,n),e.child;case 6:return t===null&&rc(e),null;case 13:return xg(t,e,n);case 4:return yh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hr(e,null,r,n):it(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),Tp(t,e,r,s,n);case 7:return it(t,e,e.pendingProps,n),e.child;case 8:return it(t,e,e.pendingProps.children,n),e.child;case 12:return it(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,a=e.memoizedProps,u=s.value,ge(fa,r._currentValue),r._currentValue=u,a!==null)if($t(a.value,u)){if(a.children===s.children&&!dt.current){e=vn(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var f=h.firstContext;f!==null;){if(f.context===r){if(a.tag===1){f=dn(-1,n&-n),f.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var v=p.pending;v===null?f.next=f:(f.next=v.next,v.next=f),p.pending=f}}a.lanes|=n,f=a.alternate,f!==null&&(f.lanes|=n),sc(a.return,n,e),h.lanes|=n;break}f=f.next}}else if(a.tag===10)u=a.type===e.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(R(341));u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),sc(u,n,e),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===e){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}it(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,nr(e,n),s=Rt(s),r=r(s),e.flags|=1,it(t,e,r,n),e.child;case 14:return r=e.type,s=zt(r,e.pendingProps),s=zt(r.type,s),Pp(t,e,r,s,n);case 15:return wg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),Go(t,e),e.tag=1,pt(r)?(t=!0,ua(e)):t=!1,nr(e,n),gg(e,r,s),ac(e,r,s,n),cc(null,e,r,!0,t,n);case 19:return Tg(t,e,n);case 22:return Cg(t,e,n)}throw Error(R(156,e.tag))};function Ug(t,e){return pm(t,e)}function mE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(t,e,n,r){return new mE(t,e,n,r)}function Ah(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gE(t){if(typeof t=="function")return Ah(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jc)return 11;if(t===eh)return 14}return 2}function Wn(t,e){var n=t.alternate;return n===null?(n=Nt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qo(t,e,n,r,s,a){var u=2;if(r=t,typeof t=="function")Ah(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case Bi:return di(n.children,s,a,e);case Xc:u=8,s|=8;break;case Mu:return t=Nt(12,n,e,s|2),t.elementType=Mu,t.lanes=a,t;case Ru:return t=Nt(13,n,e,s),t.elementType=Ru,t.lanes=a,t;case Ou:return t=Nt(19,n,e,s),t.elementType=Ou,t.lanes=a,t;case Q_:return Qa(n,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y_:u=10;break e;case q_:u=9;break e;case Jc:u=11;break e;case eh:u=14;break e;case kn:u=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=Nt(u,n,e,s),e.elementType=t,e.type=r,e.lanes=a,e}function di(t,e,n,r){return t=Nt(7,t,r,e),t.lanes=n,t}function Qa(t,e,n,r){return t=Nt(22,t,r,e),t.elementType=Q_,t.lanes=n,t.stateNode={isHidden:!1},t}function mu(t,e,n){return t=Nt(6,t,null,e),t.lanes=n,t}function gu(t,e,n){return e=Nt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vE(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ql(0),this.expirationTimes=Ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Dh(t,e,n,r,s,a,u,h,f){return t=new vE(t,e,n,h,f),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Nt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vh(a),t}function yE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Hg(t){if(!t)return Vn;t=t._reactInternals;e:{if(xi(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(pt(n))return Hm(t,n,e)}return e}function Zg(t,e,n,r,s,a,u,h,f){return t=Dh(n,r,!0,t,s,a,u,h,f),t.context=Hg(null),n=t.current,r=rt(),s=Bn(n),a=dn(r,s),a.callback=e??null,zn(n,a,s),t.current.lanes=s,Hs(t,s,r),_t(t,r),t}function Xa(t,e,n,r){var s=e.current,a=rt(),u=Bn(s);return n=Hg(n),e.context===null?e.context=n:e.pendingContext=n,e=dn(a,u),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zn(s,e,u),t!==null&&(jt(t,s,u,a),jo(t,s,u)),u}function Ea(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bh(t,e){Fp(t,e),(t=t.alternate)&&Fp(t,e)}function wE(){return null}var jg=typeof reportError=="function"?reportError:function(t){console.error(t)};function zh(t){this._internalRoot=t}Ja.prototype.render=zh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));Xa(t,e,null,null)};Ja.prototype.unmount=zh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vi(function(){Xa(null,t,null,null)}),e[mn]=null}};function Ja(t){this._internalRoot=t}Ja.prototype.unstable_scheduleHydration=function(t){if(t){var e=Cm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ln.length&&e!==0&&e<Ln[n].priority;n++);Ln.splice(n,0,t),n===0&&Sm(t)}};function Fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function el(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bp(){}function CE(t,e,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var p=Ea(u);a.call(p)}}var u=Zg(e,r,t,0,null,!1,!1,"",Bp);return t._reactRootContainer=u,t[mn]=u.current,Ss(t.nodeType===8?t.parentNode:t),vi(),u}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var h=r;r=function(){var p=Ea(f);h.call(p)}}var f=Dh(t,0,!1,null,null,!1,!1,"",Bp);return t._reactRootContainer=f,t[mn]=f.current,Ss(t.nodeType===8?t.parentNode:t),vi(function(){Xa(e,f,n,r)}),f}function tl(t,e,n,r,s){var a=n._reactRootContainer;if(a){var u=a;if(typeof s=="function"){var h=s;s=function(){var f=Ea(u);h.call(f)}}Xa(e,u,t,s)}else u=CE(n,e,t,s,r);return Ea(u)}ym=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jr(e.pendingLanes);n!==0&&(ih(e,n|1),_t(e,Ne()),!(oe&6)&&(pr=Ne()+500,qn()))}break;case 13:vi(function(){var r=gn(t,1);if(r!==null){var s=rt();jt(r,t,1,s)}}),bh(t,1)}};rh=function(t){if(t.tag===13){var e=gn(t,134217728);if(e!==null){var n=rt();jt(e,t,134217728,n)}bh(t,134217728)}};wm=function(t){if(t.tag===13){var e=Bn(t),n=gn(t,e);if(n!==null){var r=rt();jt(n,t,e,r)}bh(t,e)}};Cm=function(){return ce};Em=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};Zu=function(t,e,n){switch(e){case"input":if(bu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Va(r);if(!s)throw Error(R(90));J_(r),bu(r,s)}}}break;case"textarea":tm(t,n);break;case"select":e=n.value,e!=null&&Xi(t,!!n.multiple,e,!1)}};lm=Mh;um=vi;var EE={usingClientEntryPoint:!1,Events:[js,Zi,Va,om,am,Mh]},$r={findFiberByHostInstance:li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SE={bundleType:$r.bundleType,version:$r.version,rendererPackageName:$r.rendererPackageName,rendererConfig:$r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fm(t),t===null?null:t.stateNode},findFiberByHostInstance:$r.findFiberByHostInstance||wE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bo.isDisabled&&bo.supportsFiber)try{Ua=bo.inject(SE),en=bo}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EE;Et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fh(e))throw Error(R(200));return yE(t,e,null,n)};Et.createRoot=function(t,e){if(!Fh(t))throw Error(R(299));var n=!1,r="",s=jg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Dh(t,1,!1,null,null,n,!1,r,s),t[mn]=e.current,Ss(t.nodeType===8?t.parentNode:t),new zh(e)};Et.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=fm(e),t=t===null?null:t.stateNode,t};Et.flushSync=function(t){return vi(t)};Et.hydrate=function(t,e,n){if(!el(e))throw Error(R(200));return tl(null,t,e,!0,n)};Et.hydrateRoot=function(t,e,n){if(!Fh(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",u=jg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=Zg(e,null,t,1,n??null,s,!1,a,u),t[mn]=e.current,Ss(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ja(e)};Et.render=function(t,e,n){if(!el(e))throw Error(R(200));return tl(null,t,e,!1,n)};Et.unmountComponentAtNode=function(t){if(!el(t))throw Error(R(40));return t._reactRootContainer?(vi(function(){tl(null,null,t,!1,function(){t._reactRootContainer=null,t[mn]=null})}),!0):!1};Et.unstable_batchedUpdates=Mh;Et.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!el(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return tl(t,e,n,!1,r)};Et.version="18.3.1-next-f1338f8080-20240426";function Vg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vg)}catch(t){console.error(t)}}Vg(),V_.exports=Et;var $g=V_.exports,Wp=$g;Lu.createRoot=Wp.createRoot,Lu.hydrateRoot=Wp.hydrateRoot;function Gg(t,e){const n=$.useRef(e);$.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const xE=1;function TE(t){return Object.freeze({__version:xE,map:t})}function PE(t,e){return Object.freeze({...t,...e})}const Kg=$.createContext(null),Yg=Kg.Provider;function Bh(){const t=$.useContext(Kg);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function kE(t){function e(n,r){const{instance:s,context:a}=t(n).current;return $.useImperativeHandle(r,()=>s),n.children==null?null:Xo.createElement(Yg,{value:a},n.children)}return $.forwardRef(e)}function IE(t){function e(n,r){const[s,a]=$.useState(!1),{instance:u}=t(n,a).current;$.useImperativeHandle(r,()=>u),$.useEffect(function(){s&&u.update()},[u,s,n.children]);const h=u._contentNode;return h?$g.createPortal(n.children,h):null}return $.forwardRef(e)}function LE(t){function e(n,r){const{instance:s}=t(n).current;return $.useImperativeHandle(r,()=>s),null}return $.forwardRef(e)}function qg(t,e){const n=$.useRef();$.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Wh(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function NE(t,e){return function(r,s){const a=Bh(),u=t(Wh(r,a),a);return Gg(a.map,r.attribution),qg(u.current,r.eventHandlers),e(u.current,a,r,s),u}}var Ec={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(Xw,function(n){var r="1.9.4";function s(i){var o,l,c,d;for(l=1,c=arguments.length;l<c;l++){d=arguments[l];for(o in d)i[o]=d[o]}return i}var a=Object.create||function(){function i(){}return function(o){return i.prototype=o,new i}}();function u(i,o){var l=Array.prototype.slice;if(i.bind)return i.bind.apply(i,l.call(arguments,1));var c=l.call(arguments,2);return function(){return i.apply(o,c.length?c.concat(l.call(arguments)):arguments)}}var h=0;function f(i){return"_leaflet_id"in i||(i._leaflet_id=++h),i._leaflet_id}function p(i,o,l){var c,d,_,y;return y=function(){c=!1,d&&(_.apply(l,d),d=!1)},_=function(){c?d=arguments:(i.apply(l,arguments),setTimeout(y,o),c=!0)},_}function v(i,o,l){var c=o[1],d=o[0],_=c-d;return i===c&&l?i:((i-d)%_+_)%_+d}function m(){return!1}function g(i,o){if(o===!1)return i;var l=Math.pow(10,o===void 0?6:o);return Math.round(i*l)/l}function x(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function P(i){return x(i).split(/\s+/)}function k(i,o){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?a(i.options):{});for(var l in o)i.options[l]=o[l];return i.options}function H(i,o,l){var c=[];for(var d in i)c.push(encodeURIComponent(l?d.toUpperCase():d)+"="+encodeURIComponent(i[d]));return(!o||o.indexOf("?")===-1?"?":"&")+c.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function w(i,o){return i.replace(E,function(l,c){var d=o[c];if(d===void 0)throw new Error("No value provided for variable "+l);return typeof d=="function"&&(d=d(o)),d})}var C=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function I(i,o){for(var l=0;l<i.length;l++)if(i[l]===o)return l;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function F(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var B=0;function W(i){var o=+new Date,l=Math.max(0,16-(o-B));return B=o+l,window.setTimeout(i,l)}var ve=window.requestAnimationFrame||F("RequestAnimationFrame")||W,X=window.cancelAnimationFrame||F("CancelAnimationFrame")||F("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function de(i,o,l){if(l&&ve===W)i.call(o);else return ve.call(window,u(i,o))}function Fe(i){i&&X.call(window,i)}var Xn={__proto__:null,extend:s,create:a,bind:u,get lastId(){return h},stamp:f,throttle:p,wrapNum:v,falseFn:m,formatNum:g,trim:x,splitWords:P,setOptions:k,getParamString:H,template:w,isArray:C,indexOf:I,emptyImageUrl:D,requestFn:ve,cancelFn:X,requestAnimFrame:de,cancelAnimFrame:Fe};function xt(){}xt.extend=function(i){var o=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=o.__super__=this.prototype,c=a(l);c.constructor=o,o.prototype=c;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(o[d]=this[d]);return i.statics&&s(o,i.statics),i.includes&&(hl(i.includes),s.apply(null,[c].concat(i.includes))),s(c,i),delete c.statics,delete c.includes,c.options&&(c.options=l.options?a(l.options):{},s(c.options,i.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,y=c._initHooks.length;_<y;_++)c._initHooks[_].call(this)}},o},xt.include=function(i){var o=this.prototype.options;return s(this.prototype,i),i.options&&(this.prototype.options=o,this.mergeOptions(i.options)),this},xt.mergeOptions=function(i){return s(this.prototype.options,i),this},xt.addInitHook=function(i){var o=Array.prototype.slice.call(arguments,1),l=typeof i=="function"?i:function(){this[i].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function hl(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=C(i)?i:[i];for(var o=0;o<i.length;o++)i[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ve={on:function(i,o,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],o);else{i=P(i);for(var d=0,_=i.length;d<_;d++)this._on(i[d],o,l)}return this},off:function(i,o,l){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var c in i)this._off(c,i[c],o);else{i=P(i);for(var d=arguments.length===1,_=0,y=i.length;_<y;_++)d?this._off(i[_]):this._off(i[_],o,l)}return this},_on:function(i,o,l,c){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(i,o,l)===!1){l===this&&(l=void 0);var d={fn:o,ctx:l};c&&(d.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(d)}},_off:function(i,o,l){var c,d,_;if(this._events&&(c=this._events[i],!!c)){if(arguments.length===1){if(this._firingCount)for(d=0,_=c.length;d<_;d++)c[d].fn=m;delete this._events[i];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var y=this._listens(i,o,l);if(y!==!1){var S=c[y];this._firingCount&&(S.fn=m,this._events[i]=c=c.slice()),c.splice(y,1)}}},fire:function(i,o,l){if(!this.listens(i,l))return this;var c=s({},o,{type:i,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var d=this._events[i];if(d){this._firingCount=this._firingCount+1||1;for(var _=0,y=d.length;_<y;_++){var S=d[_],T=S.fn;S.once&&this.off(i,T,S.ctx),T.call(S.ctx||this,c)}this._firingCount--}}return l&&this._propagateEvent(c),this},listens:function(i,o,l,c){typeof i!="string"&&console.warn('"string" type argument expected');var d=o;typeof o!="function"&&(c=!!o,d=void 0,l=void 0);var _=this._events&&this._events[i];if(_&&_.length&&this._listens(i,d,l)!==!1)return!0;if(c){for(var y in this._eventParents)if(this._eventParents[y].listens(i,o,l,c))return!0}return!1},_listens:function(i,o,l){if(!this._events)return!1;var c=this._events[i]||[];if(!o)return!!c.length;l===this&&(l=void 0);for(var d=0,_=c.length;d<_;d++)if(c[d].fn===o&&c[d].ctx===l)return d;return!1},once:function(i,o,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],o,!0);else{i=P(i);for(var d=0,_=i.length;d<_;d++)this._on(i[d],o,l,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[f(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[f(i)],this},_propagateEvent:function(i){for(var o in this._eventParents)this._eventParents[o].fire(i.type,s({layer:i.target,propagatedFrom:i.target},i),!0)}};Ve.addEventListener=Ve.on,Ve.removeEventListener=Ve.clearAllEventListeners=Ve.off,Ve.addOneTimeEventListener=Ve.once,Ve.fireEvent=Ve.fire,Ve.hasEventListeners=Ve.listens;var nn=xt.extend(Ve);function N(i,o,l){this.x=l?Math.round(i):i,this.y=l?Math.round(o):o}var G=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};N.prototype={clone:function(){return new N(this.x,this.y)},add:function(i){return this.clone()._add(A(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(A(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new N(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new N(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(i){i=A(i);var o=i.x-this.x,l=i.y-this.y;return Math.sqrt(o*o+l*l)},equals:function(i){return i=A(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=A(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function A(i,o,l){return i instanceof N?i:C(i)?new N(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new N(i.x,i.y):new N(i,o,l)}function V(i,o){if(i)for(var l=o?[i,o]:i,c=0,d=l.length;c<d;c++)this.extend(l[c])}V.prototype={extend:function(i){var o,l;if(!i)return this;if(i instanceof N||typeof i[0]=="number"||"x"in i)o=l=A(i);else if(i=se(i),o=i.min,l=i.max,!o||!l)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=l.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(i){return A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return A(this.min.x,this.max.y)},getTopRight:function(){return A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var o,l;return typeof i[0]=="number"||i instanceof N?i=A(i):i=se(i),i instanceof V?(o=i.min,l=i.max):o=l=i,o.x>=this.min.x&&l.x<=this.max.x&&o.y>=this.min.y&&l.y<=this.max.y},intersects:function(i){i=se(i);var o=this.min,l=this.max,c=i.min,d=i.max,_=d.x>=o.x&&c.x<=l.x,y=d.y>=o.y&&c.y<=l.y;return _&&y},overlaps:function(i){i=se(i);var o=this.min,l=this.max,c=i.min,d=i.max,_=d.x>o.x&&c.x<l.x,y=d.y>o.y&&c.y<l.y;return _&&y},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var o=this.min,l=this.max,c=Math.abs(o.x-l.x)*i,d=Math.abs(o.y-l.y)*i;return se(A(o.x-c,o.y-d),A(l.x+c,l.y+d))},equals:function(i){return i?(i=se(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function se(i,o){return!i||i instanceof V?i:new V(i,o)}function Ae(i,o){if(i)for(var l=o?[i,o]:i,c=0,d=l.length;c<d;c++)this.extend(l[c])}Ae.prototype={extend:function(i){var o=this._southWest,l=this._northEast,c,d;if(i instanceof ae)c=i,d=i;else if(i instanceof Ae){if(c=i._southWest,d=i._northEast,!c||!d)return this}else return i?this.extend(K(i)||he(i)):this;return!o&&!l?(this._southWest=new ae(c.lat,c.lng),this._northEast=new ae(d.lat,d.lng)):(o.lat=Math.min(c.lat,o.lat),o.lng=Math.min(c.lng,o.lng),l.lat=Math.max(d.lat,l.lat),l.lng=Math.max(d.lng,l.lng)),this},pad:function(i){var o=this._southWest,l=this._northEast,c=Math.abs(o.lat-l.lat)*i,d=Math.abs(o.lng-l.lng)*i;return new Ae(new ae(o.lat-c,o.lng-d),new ae(l.lat+c,l.lng+d))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof ae||"lat"in i?i=K(i):i=he(i);var o=this._southWest,l=this._northEast,c,d;return i instanceof Ae?(c=i.getSouthWest(),d=i.getNorthEast()):c=d=i,c.lat>=o.lat&&d.lat<=l.lat&&c.lng>=o.lng&&d.lng<=l.lng},intersects:function(i){i=he(i);var o=this._southWest,l=this._northEast,c=i.getSouthWest(),d=i.getNorthEast(),_=d.lat>=o.lat&&c.lat<=l.lat,y=d.lng>=o.lng&&c.lng<=l.lng;return _&&y},overlaps:function(i){i=he(i);var o=this._southWest,l=this._northEast,c=i.getSouthWest(),d=i.getNorthEast(),_=d.lat>o.lat&&c.lat<l.lat,y=d.lng>o.lng&&c.lng<l.lng;return _&&y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,o){return i?(i=he(i),this._southWest.equals(i.getSouthWest(),o)&&this._northEast.equals(i.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(i,o){return i instanceof Ae?i:new Ae(i,o)}function ae(i,o,l){if(isNaN(i)||isNaN(o))throw new Error("Invalid LatLng object: ("+i+", "+o+")");this.lat=+i,this.lng=+o,l!==void 0&&(this.alt=+l)}ae.prototype={equals:function(i,o){if(!i)return!1;i=K(i);var l=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return l<=(o===void 0?1e-9:o)},toString:function(i){return"LatLng("+g(this.lat,i)+", "+g(this.lng,i)+")"},distanceTo:function(i){return Sn.distance(this,K(i))},wrap:function(){return Sn.wrapLatLng(this)},toBounds:function(i){var o=180*i/40075017,l=o/Math.cos(Math.PI/180*this.lat);return he([this.lat-o,this.lng-l],[this.lat+o,this.lng+l])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function K(i,o,l){return i instanceof ae?i:C(i)&&typeof i[0]!="object"?i.length===3?new ae(i[0],i[1],i[2]):i.length===2?new ae(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new ae(i.lat,"lng"in i?i.lng:i.lon,i.alt):o===void 0?null:new ae(i,o,l)}var at={latLngToPoint:function(i,o){var l=this.projection.project(i),c=this.scale(o);return this.transformation._transform(l,c)},pointToLatLng:function(i,o){var l=this.scale(o),c=this.transformation.untransform(i,l);return this.projection.unproject(c)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var o=this.projection.bounds,l=this.scale(i),c=this.transformation.transform(o.min,l),d=this.transformation.transform(o.max,l);return new V(c,d)},infinite:!1,wrapLatLng:function(i){var o=this.wrapLng?v(i.lng,this.wrapLng,!0):i.lng,l=this.wrapLat?v(i.lat,this.wrapLat,!0):i.lat,c=i.alt;return new ae(l,o,c)},wrapLatLngBounds:function(i){var o=i.getCenter(),l=this.wrapLatLng(o),c=o.lat-l.lat,d=o.lng-l.lng;if(c===0&&d===0)return i;var _=i.getSouthWest(),y=i.getNorthEast(),S=new ae(_.lat-c,_.lng-d),T=new ae(y.lat-c,y.lng-d);return new Ae(S,T)}},Sn=s({},at,{wrapLng:[-180,180],R:6371e3,distance:function(i,o){var l=Math.PI/180,c=i.lat*l,d=o.lat*l,_=Math.sin((o.lat-i.lat)*l/2),y=Math.sin((o.lng-i.lng)*l/2),S=_*_+Math.cos(c)*Math.cos(d)*y*y,T=2*Math.atan2(Math.sqrt(S),Math.sqrt(1-S));return this.R*T}}),Ef=6378137,fl={R:Ef,MAX_LATITUDE:85.0511287798,project:function(i){var o=Math.PI/180,l=this.MAX_LATITUDE,c=Math.max(Math.min(l,i.lat),-l),d=Math.sin(c*o);return new N(this.R*i.lng*o,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(i){var o=180/Math.PI;return new ae((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*o,i.x*o/this.R)},bounds:function(){var i=Ef*Math.PI;return new V([-i,-i],[i,i])}()};function dl(i,o,l,c){if(C(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=o,this._c=l,this._d=c}dl.prototype={transform:function(i,o){return this._transform(i.clone(),o)},_transform:function(i,o){return o=o||1,i.x=o*(this._a*i.x+this._b),i.y=o*(this._c*i.y+this._d),i},untransform:function(i,o){return o=o||1,new N((i.x/o-this._b)/this._a,(i.y/o-this._d)/this._c)}};function Tr(i,o,l,c){return new dl(i,o,l,c)}var pl=s({},Sn,{code:"EPSG:3857",projection:fl,transformation:function(){var i=.5/(Math.PI*fl.R);return Tr(i,.5,-i,.5)}()}),Iy=s({},pl,{code:"EPSG:900913"});function Sf(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function xf(i,o){var l="",c,d,_,y,S,T;for(c=0,_=i.length;c<_;c++){for(S=i[c],d=0,y=S.length;d<y;d++)T=S[d],l+=(d?"L":"M")+T.x+" "+T.y;l+=o?U.svg?"z":"x":""}return l||"M0 0"}var _l=document.documentElement.style,eo="ActiveXObject"in window,Ly=eo&&!document.addEventListener,Tf="msLaunchUri"in navigator&&!("documentMode"in document),ml=Gt("webkit"),Pf=Gt("android"),kf=Gt("android 2")||Gt("android 3"),Ny=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),My=Pf&&Gt("Google")&&Ny<537&&!("AudioNode"in window),gl=!!window.opera,If=!Tf&&Gt("chrome"),Lf=Gt("gecko")&&!ml&&!gl&&!eo,Ry=!If&&Gt("safari"),Nf=Gt("phantom"),Mf="OTransition"in _l,Oy=navigator.platform.indexOf("Win")===0,Rf=eo&&"transition"in _l,vl="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!kf,Of="MozPerspective"in _l,Ay=!window.L_DISABLE_3D&&(Rf||vl||Of)&&!Mf&&!Nf,Pr=typeof orientation<"u"||Gt("mobile"),Dy=Pr&&ml,by=Pr&&vl,Af=!window.PointerEvent&&window.MSPointerEvent,Df=!!(window.PointerEvent||Af),bf="ontouchstart"in window||!!window.TouchEvent,zy=!window.L_NO_TOUCH&&(bf||Df),Fy=Pr&&gl,By=Pr&&Lf,Wy=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Uy=function(){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",m,o),window.removeEventListener("testPassiveEventSupport",m,o)}catch{}return i}(),Hy=function(){return!!document.createElement("canvas").getContext}(),yl=!!(document.createElementNS&&Sf("svg").createSVGRect),Zy=!!yl&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),jy=!yl&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var o=i.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),Vy=navigator.platform.indexOf("Mac")===0,$y=navigator.platform.indexOf("Linux")===0;function Gt(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var U={ie:eo,ielt9:Ly,edge:Tf,webkit:ml,android:Pf,android23:kf,androidStock:My,opera:gl,chrome:If,gecko:Lf,safari:Ry,phantom:Nf,opera12:Mf,win:Oy,ie3d:Rf,webkit3d:vl,gecko3d:Of,any3d:Ay,mobile:Pr,mobileWebkit:Dy,mobileWebkit3d:by,msPointer:Af,pointer:Df,touch:zy,touchNative:bf,mobileOpera:Fy,mobileGecko:By,retina:Wy,passiveEvents:Uy,canvas:Hy,svg:yl,vml:jy,inlineSvg:Zy,mac:Vy,linux:$y},zf=U.msPointer?"MSPointerDown":"pointerdown",Ff=U.msPointer?"MSPointerMove":"pointermove",Bf=U.msPointer?"MSPointerUp":"pointerup",Wf=U.msPointer?"MSPointerCancel":"pointercancel",wl={touchstart:zf,touchmove:Ff,touchend:Bf,touchcancel:Wf},Uf={touchstart:Xy,touchmove:to,touchend:to,touchcancel:to},ki={},Hf=!1;function Gy(i,o,l){return o==="touchstart"&&Qy(),Uf[o]?(l=Uf[o].bind(this,l),i.addEventListener(wl[o],l,!1),l):(console.warn("wrong event specified:",o),m)}function Ky(i,o,l){if(!wl[o]){console.warn("wrong event specified:",o);return}i.removeEventListener(wl[o],l,!1)}function Yy(i){ki[i.pointerId]=i}function qy(i){ki[i.pointerId]&&(ki[i.pointerId]=i)}function Zf(i){delete ki[i.pointerId]}function Qy(){Hf||(document.addEventListener(zf,Yy,!0),document.addEventListener(Ff,qy,!0),document.addEventListener(Bf,Zf,!0),document.addEventListener(Wf,Zf,!0),Hf=!0)}function to(i,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var l in ki)o.touches.push(ki[l]);o.changedTouches=[o],i(o)}}function Xy(i,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&$e(o),to(i,o)}function Jy(i){var o={},l,c;for(c in i)l=i[c],o[c]=l&&l.bind?l.bind(i):l;return i=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var ew=200;function tw(i,o){i.addEventListener("dblclick",o);var l=0,c;function d(_){if(_.detail!==1){c=_.detail;return}if(!(_.pointerType==="mouse"||_.sourceCapabilities&&!_.sourceCapabilities.firesTouchEvents)){var y=Kf(_);if(!(y.some(function(T){return T instanceof HTMLLabelElement&&T.attributes.for})&&!y.some(function(T){return T instanceof HTMLInputElement||T instanceof HTMLSelectElement}))){var S=Date.now();S-l<=ew?(c++,c===2&&o(Jy(_))):c=1,l=S}}}return i.addEventListener("click",d),{dblclick:o,simDblclick:d}}function nw(i,o){i.removeEventListener("dblclick",o.dblclick),i.removeEventListener("click",o.simDblclick)}var Cl=ro(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),kr=ro(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),jf=kr==="webkitTransition"||kr==="OTransition"?kr+"End":"transitionend";function Vf(i){return typeof i=="string"?document.getElementById(i):i}function Ir(i,o){var l=i.style[o]||i.currentStyle&&i.currentStyle[o];if((!l||l==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(i,null);l=c?c[o]:null}return l==="auto"?null:l}function le(i,o,l){var c=document.createElement(i);return c.className=o||"",l&&l.appendChild(c),c}function Se(i){var o=i.parentNode;o&&o.removeChild(i)}function no(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Ii(i){var o=i.parentNode;o&&o.lastChild!==i&&o.appendChild(i)}function Li(i){var o=i.parentNode;o&&o.firstChild!==i&&o.insertBefore(i,o.firstChild)}function El(i,o){if(i.classList!==void 0)return i.classList.contains(o);var l=io(i);return l.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(l)}function q(i,o){if(i.classList!==void 0)for(var l=P(o),c=0,d=l.length;c<d;c++)i.classList.add(l[c]);else if(!El(i,o)){var _=io(i);Sl(i,(_?_+" ":"")+o)}}function Le(i,o){i.classList!==void 0?i.classList.remove(o):Sl(i,x((" "+io(i)+" ").replace(" "+o+" "," ")))}function Sl(i,o){i.className.baseVal===void 0?i.className=o:i.className.baseVal=o}function io(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Tt(i,o){"opacity"in i.style?i.style.opacity=o:"filter"in i.style&&iw(i,o)}function iw(i,o){var l=!1,c="DXImageTransform.Microsoft.Alpha";try{l=i.filters.item(c)}catch{if(o===1)return}o=Math.round(o*100),l?(l.Enabled=o!==100,l.Opacity=o):i.style.filter+=" progid:"+c+"(opacity="+o+")"}function ro(i){for(var o=document.documentElement.style,l=0;l<i.length;l++)if(i[l]in o)return i[l];return!1}function Jn(i,o,l){var c=o||new N(0,0);i.style[Cl]=(U.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(l?" scale("+l+")":"")}function Me(i,o){i._leaflet_pos=o,U.any3d?Jn(i,o):(i.style.left=o.x+"px",i.style.top=o.y+"px")}function ei(i){return i._leaflet_pos||new N(0,0)}var Lr,Nr,xl;if("onselectstart"in document)Lr=function(){Y(window,"selectstart",$e)},Nr=function(){pe(window,"selectstart",$e)};else{var Mr=ro(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Lr=function(){if(Mr){var i=document.documentElement.style;xl=i[Mr],i[Mr]="none"}},Nr=function(){Mr&&(document.documentElement.style[Mr]=xl,xl=void 0)}}function Tl(){Y(window,"dragstart",$e)}function Pl(){pe(window,"dragstart",$e)}var so,kl;function Il(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(oo(),so=i,kl=i.style.outlineStyle,i.style.outlineStyle="none",Y(window,"keydown",oo))}function oo(){so&&(so.style.outlineStyle=kl,so=void 0,kl=void 0,pe(window,"keydown",oo))}function $f(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Ll(i){var o=i.getBoundingClientRect();return{x:o.width/i.offsetWidth||1,y:o.height/i.offsetHeight||1,boundingClientRect:o}}var rw={__proto__:null,TRANSFORM:Cl,TRANSITION:kr,TRANSITION_END:jf,get:Vf,getStyle:Ir,create:le,remove:Se,empty:no,toFront:Ii,toBack:Li,hasClass:El,addClass:q,removeClass:Le,setClass:Sl,getClass:io,setOpacity:Tt,testProp:ro,setTransform:Jn,setPosition:Me,getPosition:ei,get disableTextSelection(){return Lr},get enableTextSelection(){return Nr},disableImageDrag:Tl,enableImageDrag:Pl,preventOutline:Il,restoreOutline:oo,getSizedParentNode:$f,getScale:Ll};function Y(i,o,l,c){if(o&&typeof o=="object")for(var d in o)Ml(i,d,o[d],l);else{o=P(o);for(var _=0,y=o.length;_<y;_++)Ml(i,o[_],l,c)}return this}var Kt="_leaflet_events";function pe(i,o,l,c){if(arguments.length===1)Gf(i),delete i[Kt];else if(o&&typeof o=="object")for(var d in o)Rl(i,d,o[d],l);else if(o=P(o),arguments.length===2)Gf(i,function(S){return I(o,S)!==-1});else for(var _=0,y=o.length;_<y;_++)Rl(i,o[_],l,c);return this}function Gf(i,o){for(var l in i[Kt]){var c=l.split(/\d/)[0];(!o||o(c))&&Rl(i,c,null,null,l)}}var Nl={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ml(i,o,l,c){var d=o+f(l)+(c?"_"+f(c):"");if(i[Kt]&&i[Kt][d])return this;var _=function(S){return l.call(c||i,S||window.event)},y=_;!U.touchNative&&U.pointer&&o.indexOf("touch")===0?_=Gy(i,o,_):U.touch&&o==="dblclick"?_=tw(i,_):"addEventListener"in i?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?i.addEventListener(Nl[o]||o,_,U.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(_=function(S){S=S||window.event,Al(i,S)&&y(S)},i.addEventListener(Nl[o],_,!1)):i.addEventListener(o,y,!1):i.attachEvent("on"+o,_),i[Kt]=i[Kt]||{},i[Kt][d]=_}function Rl(i,o,l,c,d){d=d||o+f(l)+(c?"_"+f(c):"");var _=i[Kt]&&i[Kt][d];if(!_)return this;!U.touchNative&&U.pointer&&o.indexOf("touch")===0?Ky(i,o,_):U.touch&&o==="dblclick"?nw(i,_):"removeEventListener"in i?i.removeEventListener(Nl[o]||o,_,!1):i.detachEvent("on"+o,_),i[Kt][d]=null}function ti(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Ol(i){return Ml(i,"wheel",ti),this}function Rr(i){return Y(i,"mousedown touchstart dblclick contextmenu",ti),i._leaflet_disable_click=!0,this}function $e(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function ni(i){return $e(i),ti(i),this}function Kf(i){if(i.composedPath)return i.composedPath();for(var o=[],l=i.target;l;)o.push(l),l=l.parentNode;return o}function Yf(i,o){if(!o)return new N(i.clientX,i.clientY);var l=Ll(o),c=l.boundingClientRect;return new N((i.clientX-c.left)/l.x-o.clientLeft,(i.clientY-c.top)/l.y-o.clientTop)}var sw=U.linux&&U.chrome?window.devicePixelRatio:U.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function qf(i){return U.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/sw:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Al(i,o){var l=o.relatedTarget;if(!l)return!0;try{for(;l&&l!==i;)l=l.parentNode}catch{return!1}return l!==i}var ow={__proto__:null,on:Y,off:pe,stopPropagation:ti,disableScrollPropagation:Ol,disableClickPropagation:Rr,preventDefault:$e,stop:ni,getPropagationPath:Kf,getMousePosition:Yf,getWheelDelta:qf,isExternalTarget:Al,addListener:Y,removeListener:pe},Qf=nn.extend({run:function(i,o,l,c){this.stop(),this._el=i,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=ei(i),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=de(this._animate,this),this._step()},_step:function(i){var o=+new Date-this._startTime,l=this._duration*1e3;o<l?this._runFrame(this._easeOut(o/l),i):(this._runFrame(1),this._complete())},_runFrame:function(i,o){var l=this._startPos.add(this._offset.multiplyBy(i));o&&l._round(),Me(this._el,l),this.fire("step")},_complete:function(){Fe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),re=nn.extend({options:{crs:pl,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,o){o=k(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(K(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=kr&&U.any3d&&!U.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Y(this._proxy,jf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,o,l){if(o=o===void 0?this._zoom:this._limitZoom(o),i=this._limitCenter(K(i),o,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=s({animate:l.animate},l.zoom),l.pan=s({animate:l.animate,duration:l.duration},l.pan));var c=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,o,l.zoom):this._tryAnimatedPan(i,l.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(i,o,l.pan&&l.pan.noMoveStart),this},setZoom:function(i,o){return this._loaded?this.setView(this.getCenter(),i,{zoom:o}):(this._zoom=i,this)},zoomIn:function(i,o){return i=i||(U.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,o)},zoomOut:function(i,o){return i=i||(U.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,o)},setZoomAround:function(i,o,l){var c=this.getZoomScale(o),d=this.getSize().divideBy(2),_=i instanceof N?i:this.latLngToContainerPoint(i),y=_.subtract(d).multiplyBy(1-1/c),S=this.containerPointToLatLng(d.add(y));return this.setView(S,o,{zoom:l})},_getBoundsCenterZoom:function(i,o){o=o||{},i=i.getBounds?i.getBounds():he(i);var l=A(o.paddingTopLeft||o.padding||[0,0]),c=A(o.paddingBottomRight||o.padding||[0,0]),d=this.getBoundsZoom(i,!1,l.add(c));if(d=typeof o.maxZoom=="number"?Math.min(o.maxZoom,d):d,d===1/0)return{center:i.getCenter(),zoom:d};var _=c.subtract(l).divideBy(2),y=this.project(i.getSouthWest(),d),S=this.project(i.getNorthEast(),d),T=this.unproject(y.add(S).divideBy(2).add(_),d);return{center:T,zoom:d}},fitBounds:function(i,o){if(i=he(i),!i.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(i,o);return this.setView(l.center,l.zoom,o)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,o){return this.setView(i,this._zoom,{pan:o})},panBy:function(i,o){if(i=A(i).round(),o=o||{},!i.x&&!i.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Qf,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){q(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,l,o.duration||.25,o.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,o,l){if(l=l||{},l.animate===!1||!U.any3d)return this.setView(i,o,l);this._stop();var c=this.project(this.getCenter()),d=this.project(i),_=this.getSize(),y=this._zoom;i=K(i),o=o===void 0?y:o;var S=Math.max(_.x,_.y),T=S*this.getZoomScale(y,o),M=d.distanceTo(c)||1,b=1.42,Z=b*b;function J(Re){var yo=Re?-1:1,Kw=Re?T:S,Yw=T*T-S*S+yo*Z*Z*M*M,qw=2*Kw*Z*M,Vl=Yw/qw,Md=Math.sqrt(Vl*Vl+1)-Vl,Qw=Md<1e-9?-18:Math.log(Md);return Qw}function nt(Re){return(Math.exp(Re)-Math.exp(-Re))/2}function Be(Re){return(Math.exp(Re)+Math.exp(-Re))/2}function kt(Re){return nt(Re)/Be(Re)}var lt=J(0);function Di(Re){return S*(Be(lt)/Be(lt+b*Re))}function jw(Re){return S*(Be(lt)*kt(lt+b*Re)-nt(lt))/Z}function Vw(Re){return 1-Math.pow(1-Re,1.5)}var $w=Date.now(),Ld=(J(1)-lt)/b,Gw=l.duration?1e3*l.duration:1e3*Ld*.8;function Nd(){var Re=(Date.now()-$w)/Gw,yo=Vw(Re)*Ld;Re<=1?(this._flyToFrame=de(Nd,this),this._move(this.unproject(c.add(d.subtract(c).multiplyBy(jw(yo)/M)),y),this.getScaleZoom(S/Di(yo),y),{flyTo:!0})):this._move(i,o)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),Nd.call(this),this},flyToBounds:function(i,o){var l=this._getBoundsCenterZoom(i,o);return this.flyTo(l.center,l.zoom,o)},setMaxBounds:function(i){return i=he(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var o=this.options.minZoom;return this.options.minZoom=i,this._loaded&&o!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var o=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&o!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,o){this._enforcingBounds=!0;var l=this.getCenter(),c=this._limitCenter(l,this._zoom,he(i));return l.equals(c)||this.panTo(c,o),this._enforcingBounds=!1,this},panInside:function(i,o){o=o||{};var l=A(o.paddingTopLeft||o.padding||[0,0]),c=A(o.paddingBottomRight||o.padding||[0,0]),d=this.project(this.getCenter()),_=this.project(i),y=this.getPixelBounds(),S=se([y.min.add(l),y.max.subtract(c)]),T=S.getSize();if(!S.contains(_)){this._enforcingBounds=!0;var M=_.subtract(S.getCenter()),b=S.extend(_).getSize().subtract(T);d.x+=M.x<0?-b.x:b.x,d.y+=M.y<0?-b.y:b.y,this.panTo(this.unproject(d),o),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=s({animate:!1,pan:!0},i===!0?{animate:!0}:i);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),c=o.divideBy(2).round(),d=l.divideBy(2).round(),_=c.subtract(d);return!_.x&&!_.y?this:(i.animate&&i.pan?this.panBy(_):(i.pan&&this._rawPanBy(_),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=s({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=u(this._handleGeolocationResponse,this),l=u(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,l,i):navigator.geolocation.getCurrentPosition(o,l,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var o=i.code,l=i.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var o=i.coords.latitude,l=i.coords.longitude,c=new ae(o,l),d=c.toBounds(i.coords.accuracy*2),_=this._locateOptions;if(_.setView){var y=this.getBoundsZoom(d);this.setView(c,_.maxZoom?Math.min(y,_.maxZoom):y)}var S={latlng:c,bounds:d,timestamp:i.timestamp};for(var T in i.coords)typeof i.coords[T]=="number"&&(S[T]=i.coords[T]);this.fire("locationfound",S)}},addHandler:function(i,o){if(!o)return this;var l=this[i]=new o(this);return this._handlers.push(l),this.options[i]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Fe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Se(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,o){var l="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),c=le("div",l,o||this._mapPane);return i&&(this._panes[i]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),o=this.unproject(i.getBottomLeft()),l=this.unproject(i.getTopRight());return new Ae(o,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,o,l){i=he(i),l=A(l||[0,0]);var c=this.getZoom()||0,d=this.getMinZoom(),_=this.getMaxZoom(),y=i.getNorthWest(),S=i.getSouthEast(),T=this.getSize().subtract(l),M=se(this.project(S,c),this.project(y,c)).getSize(),b=U.any3d?this.options.zoomSnap:1,Z=T.x/M.x,J=T.y/M.y,nt=o?Math.max(Z,J):Math.min(Z,J);return c=this.getScaleZoom(nt,c),b&&(c=Math.round(c/(b/100))*(b/100),c=o?Math.ceil(c/b)*b:Math.floor(c/b)*b),Math.max(d,Math.min(_,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new N(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,o){var l=this._getTopLeftPoint(i,o);return new V(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,o){var l=this.options.crs;return o=o===void 0?this._zoom:o,l.scale(i)/l.scale(o)},getScaleZoom:function(i,o){var l=this.options.crs;o=o===void 0?this._zoom:o;var c=l.zoom(i*l.scale(o));return isNaN(c)?1/0:c},project:function(i,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(K(i),o)},unproject:function(i,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(A(i),o)},layerPointToLatLng:function(i){var o=A(i).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(i){var o=this.project(K(i))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(K(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(he(i))},distance:function(i,o){return this.options.crs.distance(K(i),K(o))},containerPointToLayerPoint:function(i){return A(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return A(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var o=this.containerPointToLayerPoint(A(i));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(i)))},mouseEventToContainerPoint:function(i){return Yf(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var o=this._container=Vf(i);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Y(o,"scroll",this._onScroll,this),this._containerId=f(o)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&U.any3d,q(i,"leaflet-container"+(U.touch?" leaflet-touch":"")+(U.retina?" leaflet-retina":"")+(U.ielt9?" leaflet-oldie":"")+(U.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=Ir(i,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Me(this._mapPane,new N(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(q(i.markerPane,"leaflet-zoom-hide"),q(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,o,l){Me(this._mapPane,new N(0,0));var c=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var d=this._zoom!==o;this._moveStart(d,l)._move(i,o)._moveEnd(d),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(i,o){return i&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(i,o,l,c){o===void 0&&(o=this._zoom);var d=this._zoom!==o;return this._zoom=o,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),c?l&&l.pinch&&this.fire("zoom",l):((d||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Fe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Me(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[f(this._container)]=this;var o=i?pe:Y;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),U.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Fe(this._resizeRequest),this._resizeRequest=de(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,o){for(var l=[],c,d=o==="mouseout"||o==="mouseover",_=i.target||i.srcElement,y=!1;_;){if(c=this._targets[f(_)],c&&(o==="click"||o==="preclick")&&this._draggableMoved(c)){y=!0;break}if(c&&c.listens(o,!0)&&(d&&!Al(_,i)||(l.push(c),d))||_===this._container)break;_=_.parentNode}return!l.length&&!y&&!d&&this.listens(o,!0)&&(l=[this]),l},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var o=i.target||i.srcElement;if(!(!this._loaded||o._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(o))){var l=i.type;l==="mousedown"&&Il(o),this._fireDOMEvent(i,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,o,l){if(i.type==="click"){var c=s({},i);c.type="preclick",this._fireDOMEvent(c,c.type,l)}var d=this._findEventTargets(i,o);if(l){for(var _=[],y=0;y<l.length;y++)l[y].listens(o,!0)&&_.push(l[y]);d=_.concat(d)}if(d.length){o==="contextmenu"&&$e(i);var S=d[0],T={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var M=S.getLatLng&&(!S._radius||S._radius<=10);T.containerPoint=M?this.latLngToContainerPoint(S.getLatLng()):this.mouseEventToContainerPoint(i),T.layerPoint=this.containerPointToLayerPoint(T.containerPoint),T.latlng=M?S.getLatLng():this.layerPointToLatLng(T.layerPoint)}for(y=0;y<d.length;y++)if(d[y].fire(o,T,!0),T.originalEvent._stopped||d[y].options.bubblingMouseEvents===!1&&I(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,o=this._handlers.length;i<o;i++)this._handlers[i].disable()},whenReady:function(i,o){return this._loaded?i.call(o||this,{target:this}):this.on("load",i,o),this},_getMapPanePos:function(){return ei(this._mapPane)||new N(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,o){var l=i&&o!==void 0?this._getNewPixelOrigin(i,o):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,o){var l=this.getSize()._divideBy(2);return this.project(i,o)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,o,l){var c=this._getNewPixelOrigin(l,o);return this.project(i,o)._subtract(c)},_latLngBoundsToNewLayerBounds:function(i,o,l){var c=this._getNewPixelOrigin(l,o);return se([this.project(i.getSouthWest(),o)._subtract(c),this.project(i.getNorthWest(),o)._subtract(c),this.project(i.getSouthEast(),o)._subtract(c),this.project(i.getNorthEast(),o)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,o,l){if(!l)return i;var c=this.project(i,o),d=this.getSize().divideBy(2),_=new V(c.subtract(d),c.add(d)),y=this._getBoundsOffset(_,l,o);return Math.abs(y.x)<=1&&Math.abs(y.y)<=1?i:this.unproject(c.add(y),o)},_limitOffset:function(i,o){if(!o)return i;var l=this.getPixelBounds(),c=new V(l.min.add(i),l.max.add(i));return i.add(this._getBoundsOffset(c,o))},_getBoundsOffset:function(i,o,l){var c=se(this.project(o.getNorthEast(),l),this.project(o.getSouthWest(),l)),d=c.min.subtract(i.min),_=c.max.subtract(i.max),y=this._rebound(d.x,-_.x),S=this._rebound(d.y,-_.y);return new N(y,S)},_rebound:function(i,o){return i+o>0?Math.round(i-o)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(o))},_limitZoom:function(i){var o=this.getMinZoom(),l=this.getMaxZoom(),c=U.any3d?this.options.zoomSnap:1;return c&&(i=Math.round(i/c)*c),Math.max(o,Math.min(l,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,o){var l=this._getCenterOffset(i)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,o),!0)},_createAnimProxy:function(){var i=this._proxy=le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(o){var l=Cl,c=this._proxy.style[l];Jn(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),c===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),o=this.getZoom();Jn(this._proxy,this.project(i,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,o,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(o),d=this._getCenterOffset(i)._divideBy(1-1/c);return l.animate!==!0&&!this.getSize().contains(d)?!1:(de(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(i,o,!0)},this),!0)},_animateZoom:function(i,o,l,c){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=o,q(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:o,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function aw(i,o){return new re(i,o)}var At=xt.extend({options:{position:"topright"},initialize:function(i){k(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var o=this._map;return o&&o.removeControl(this),this.options.position=i,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var o=this._container=this.onAdd(i),l=this.getPosition(),c=i._controlCorners[l];return q(o,"leaflet-control"),l.indexOf("bottom")!==-1?c.insertBefore(o,c.firstChild):c.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Or=function(i){return new At(i)};re.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},o="leaflet-",l=this._controlContainer=le("div",o+"control-container",this._container);function c(d,_){var y=o+d+" "+o+_;i[d+_]=le("div",y,l)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Se(this._controlCorners[i]);Se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Xf=At.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,o,l,c){return l<c?-1:c<l?1:0}},initialize:function(i,o,l){k(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in i)this._addLayer(i[c],c);for(c in o)this._addLayer(o[c],c,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return At.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,o){return this._addLayer(i,o),this._map?this._update():this},addOverlay:function(i,o){return this._addLayer(i,o,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var o=this._getLayer(f(i));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){q(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(q(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",o=this._container=le("div",i),l=this.options.collapsed;o.setAttribute("aria-haspopup",!0),Rr(o),Ol(o);var c=this._section=le("section",i+"-list");l&&(this._map.on("click",this.collapse,this),Y(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=le("a",i+"-toggle",o);d.href="#",d.title="Layers",d.setAttribute("role","button"),Y(d,{keydown:function(_){_.keyCode===13&&this._expandSafely()},click:function(_){$e(_),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=le("div",i+"-base",c),this._separator=le("div",i+"-separator",c),this._overlaysList=le("div",i+"-overlays",c),o.appendChild(c)},_getLayer:function(i){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&f(this._layers[o].layer)===i)return this._layers[o]},_addLayer:function(i,o,l){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:o,overlay:l}),this.options.sortLayers&&this._layers.sort(u(function(c,d){return this.options.sortFunction(c.layer,d.layer,c.name,d.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;no(this._baseLayersList),no(this._overlaysList),this._layerControlInputs=[];var i,o,l,c,d=0;for(l=0;l<this._layers.length;l++)c=this._layers[l],this._addItem(c),o=o||c.overlay,i=i||!c.overlay,d+=c.overlay?0:1;return this.options.hideSingleBase&&(i=i&&d>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=o&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var o=this._getLayer(f(i.target)),l=o.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;l&&this._map.fire(l,o)},_createRadioElement:function(i,o){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(o?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=l,c.firstChild},_addItem:function(i){var o=document.createElement("label"),l=this._map.hasLayer(i.layer),c;i.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=l):c=this._createRadioElement("leaflet-base-layers_"+f(this),l),this._layerControlInputs.push(c),c.layerId=f(i.layer),Y(c,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+i.name;var _=document.createElement("span");o.appendChild(_),_.appendChild(c),_.appendChild(d);var y=i.overlay?this._overlaysList:this._baseLayersList;return y.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,o,l,c=[],d=[];this._handlingClick=!0;for(var _=i.length-1;_>=0;_--)o=i[_],l=this._getLayer(o.layerId).layer,o.checked?c.push(l):o.checked||d.push(l);for(_=0;_<d.length;_++)this._map.hasLayer(d[_])&&this._map.removeLayer(d[_]);for(_=0;_<c.length;_++)this._map.hasLayer(c[_])||this._map.addLayer(c[_]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,o,l,c=this._map.getZoom(),d=i.length-1;d>=0;d--)o=i[d],l=this._getLayer(o.layerId).layer,o.disabled=l.options.minZoom!==void 0&&c<l.options.minZoom||l.options.maxZoom!==void 0&&c>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Y(i,"click",$e),this.expand();var o=this;setTimeout(function(){pe(i,"click",$e),o._preventClick=!1})}}),lw=function(i,o,l){return new Xf(i,o,l)},Dl=At.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var o="leaflet-control-zoom",l=le("div",o+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,o+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,o+"-out",l,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,o,l,c,d){var _=le("a",l,c);return _.innerHTML=i,_.href="#",_.title=o,_.setAttribute("role","button"),_.setAttribute("aria-label",o),Rr(_),Y(_,"click",ni),Y(_,"click",d,this),Y(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var i=this._map,o="leaflet-disabled";Le(this._zoomInButton,o),Le(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(q(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(q(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});re.mergeOptions({zoomControl:!0}),re.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Dl,this.addControl(this.zoomControl))});var uw=function(i){return new Dl(i)},Jf=At.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var o="leaflet-control-scale",l=le("div",o),c=this.options;return this._addScales(c,o+"-line",l),i.on(c.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),l},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,o,l){i.metric&&(this._mScale=le("div",o,l)),i.imperial&&(this._iScale=le("div",o,l))},_update:function(){var i=this._map,o=i.getSize().y/2,l=i.distance(i.containerPointToLatLng([0,o]),i.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(l)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var o=this._getRoundNum(i),l=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,l,o/i)},_updateImperial:function(i){var o=i*3.2808399,l,c,d;o>5280?(l=o/5280,c=this._getRoundNum(l),this._updateScale(this._iScale,c+" mi",c/l)):(d=this._getRoundNum(o),this._updateScale(this._iScale,d+" ft",d/o))},_updateScale:function(i,o,l){i.style.width=Math.round(this.options.maxWidth*l)+"px",i.innerHTML=o},_getRoundNum:function(i){var o=Math.pow(10,(Math.floor(i)+"").length-1),l=i/o;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,o*l}}),cw=function(i){return new Jf(i)},hw='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',bl=At.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(U.inlineSvg?hw+" ":"")+"Leaflet</a>"},initialize:function(i){k(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=le("div","leaflet-control-attribution"),Rr(this._container);for(var o in i._layers)i._layers[o].getAttribution&&this.addAttribution(i._layers[o].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var o in this._attributions)this._attributions[o]&&i.push(o);var l=[];this.options.prefix&&l.push(this.options.prefix),i.length&&l.push(i.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});re.mergeOptions({attributionControl:!0}),re.addInitHook(function(){this.options.attributionControl&&new bl().addTo(this)});var fw=function(i){return new bl(i)};At.Layers=Xf,At.Zoom=Dl,At.Scale=Jf,At.Attribution=bl,Or.layers=lw,Or.zoom=uw,Or.scale=cw,Or.attribution=fw;var Yt=xt.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Yt.addTo=function(i,o){return i.addHandler(o,this),this};var dw={Events:Ve},ed=U.touch?"touchstart mousedown":"mousedown",xn=nn.extend({options:{clickTolerance:3},initialize:function(i,o,l,c){k(this,c),this._element=i,this._dragStartTarget=o||i,this._preventOutline=l},enable:function(){this._enabled||(Y(this._dragStartTarget,ed,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xn._dragging===this&&this.finishDrag(!0),pe(this._dragStartTarget,ed,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!El(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){xn._dragging===this&&this.finishDrag();return}if(!(xn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(xn._dragging=this,this._preventOutline&&Il(this._element),Tl(),Lr(),!this._moving)){this.fire("down");var o=i.touches?i.touches[0]:i,l=$f(this._element);this._startPoint=new N(o.clientX,o.clientY),this._startPos=ei(this._element),this._parentScale=Ll(l);var c=i.type==="mousedown";Y(document,c?"mousemove":"touchmove",this._onMove,this),Y(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var o=i.touches&&i.touches.length===1?i.touches[0]:i,l=new N(o.clientX,o.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,$e(i),this._moved||(this.fire("dragstart"),this._moved=!0,q(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),q(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Me(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Le(document.body,"leaflet-dragging"),this._lastTarget&&(Le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pe(document,"mousemove touchmove",this._onMove,this),pe(document,"mouseup touchend touchcancel",this._onUp,this),Pl(),Nr();var o=this._moved&&this._moving;this._moving=!1,xn._dragging=!1,o&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function td(i,o,l){var c,d=[1,4,2,8],_,y,S,T,M,b,Z,J;for(_=0,b=i.length;_<b;_++)i[_]._code=ii(i[_],o);for(S=0;S<4;S++){for(Z=d[S],c=[],_=0,b=i.length,y=b-1;_<b;y=_++)T=i[_],M=i[y],T._code&Z?M._code&Z||(J=ao(M,T,Z,o,l),J._code=ii(J,o),c.push(J)):(M._code&Z&&(J=ao(M,T,Z,o,l),J._code=ii(J,o),c.push(J)),c.push(T));i=c}return i}function nd(i,o){var l,c,d,_,y,S,T,M,b;if(!i||i.length===0)throw new Error("latlngs not passed");Pt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Z=K([0,0]),J=he(i),nt=J.getNorthWest().distanceTo(J.getSouthWest())*J.getNorthEast().distanceTo(J.getNorthWest());nt<1700&&(Z=zl(i));var Be=i.length,kt=[];for(l=0;l<Be;l++){var lt=K(i[l]);kt.push(o.project(K([lt.lat-Z.lat,lt.lng-Z.lng])))}for(S=T=M=0,l=0,c=Be-1;l<Be;c=l++)d=kt[l],_=kt[c],y=d.y*_.x-_.y*d.x,T+=(d.x+_.x)*y,M+=(d.y+_.y)*y,S+=y*3;S===0?b=kt[0]:b=[T/S,M/S];var Di=o.unproject(A(b));return K([Di.lat+Z.lat,Di.lng+Z.lng])}function zl(i){for(var o=0,l=0,c=0,d=0;d<i.length;d++){var _=K(i[d]);o+=_.lat,l+=_.lng,c++}return K([o/c,l/c])}var pw={__proto__:null,clipPolygon:td,polygonCenter:nd,centroid:zl};function id(i,o){if(!o||!i.length)return i.slice();var l=o*o;return i=gw(i,l),i=mw(i,l),i}function rd(i,o,l){return Math.sqrt(Ar(i,o,l,!0))}function _w(i,o,l){return Ar(i,o,l)}function mw(i,o){var l=i.length,c=typeof Uint8Array<"u"?Uint8Array:Array,d=new c(l);d[0]=d[l-1]=1,Fl(i,d,o,0,l-1);var _,y=[];for(_=0;_<l;_++)d[_]&&y.push(i[_]);return y}function Fl(i,o,l,c,d){var _=0,y,S,T;for(S=c+1;S<=d-1;S++)T=Ar(i[S],i[c],i[d],!0),T>_&&(y=S,_=T);_>l&&(o[y]=1,Fl(i,o,l,c,y),Fl(i,o,l,y,d))}function gw(i,o){for(var l=[i[0]],c=1,d=0,_=i.length;c<_;c++)vw(i[c],i[d])>o&&(l.push(i[c]),d=c);return d<_-1&&l.push(i[_-1]),l}var sd;function od(i,o,l,c,d){var _=c?sd:ii(i,l),y=ii(o,l),S,T,M;for(sd=y;;){if(!(_|y))return[i,o];if(_&y)return!1;S=_||y,T=ao(i,o,S,l,d),M=ii(T,l),S===_?(i=T,_=M):(o=T,y=M)}}function ao(i,o,l,c,d){var _=o.x-i.x,y=o.y-i.y,S=c.min,T=c.max,M,b;return l&8?(M=i.x+_*(T.y-i.y)/y,b=T.y):l&4?(M=i.x+_*(S.y-i.y)/y,b=S.y):l&2?(M=T.x,b=i.y+y*(T.x-i.x)/_):l&1&&(M=S.x,b=i.y+y*(S.x-i.x)/_),new N(M,b,d)}function ii(i,o){var l=0;return i.x<o.min.x?l|=1:i.x>o.max.x&&(l|=2),i.y<o.min.y?l|=4:i.y>o.max.y&&(l|=8),l}function vw(i,o){var l=o.x-i.x,c=o.y-i.y;return l*l+c*c}function Ar(i,o,l,c){var d=o.x,_=o.y,y=l.x-d,S=l.y-_,T=y*y+S*S,M;return T>0&&(M=((i.x-d)*y+(i.y-_)*S)/T,M>1?(d=l.x,_=l.y):M>0&&(d+=y*M,_+=S*M)),y=i.x-d,S=i.y-_,c?y*y+S*S:new N(d,_)}function Pt(i){return!C(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function ad(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pt(i)}function ld(i,o){var l,c,d,_,y,S,T,M;if(!i||i.length===0)throw new Error("latlngs not passed");Pt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var b=K([0,0]),Z=he(i),J=Z.getNorthWest().distanceTo(Z.getSouthWest())*Z.getNorthEast().distanceTo(Z.getNorthWest());J<1700&&(b=zl(i));var nt=i.length,Be=[];for(l=0;l<nt;l++){var kt=K(i[l]);Be.push(o.project(K([kt.lat-b.lat,kt.lng-b.lng])))}for(l=0,c=0;l<nt-1;l++)c+=Be[l].distanceTo(Be[l+1])/2;if(c===0)M=Be[0];else for(l=0,_=0;l<nt-1;l++)if(y=Be[l],S=Be[l+1],d=y.distanceTo(S),_+=d,_>c){T=(_-c)/d,M=[S.x-T*(S.x-y.x),S.y-T*(S.y-y.y)];break}var lt=o.unproject(A(M));return K([lt.lat+b.lat,lt.lng+b.lng])}var yw={__proto__:null,simplify:id,pointToSegmentDistance:rd,closestPointOnSegment:_w,clipSegment:od,_getEdgeIntersection:ao,_getBitCode:ii,_sqClosestPointOnSegment:Ar,isFlat:Pt,_flat:ad,polylineCenter:ld},Bl={project:function(i){return new N(i.lng,i.lat)},unproject:function(i){return new ae(i.y,i.x)},bounds:new V([-180,-90],[180,90])},Wl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new V([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var o=Math.PI/180,l=this.R,c=i.lat*o,d=this.R_MINOR/l,_=Math.sqrt(1-d*d),y=_*Math.sin(c),S=Math.tan(Math.PI/4-c/2)/Math.pow((1-y)/(1+y),_/2);return c=-l*Math.log(Math.max(S,1e-10)),new N(i.lng*o*l,c)},unproject:function(i){for(var o=180/Math.PI,l=this.R,c=this.R_MINOR/l,d=Math.sqrt(1-c*c),_=Math.exp(-i.y/l),y=Math.PI/2-2*Math.atan(_),S=0,T=.1,M;S<15&&Math.abs(T)>1e-7;S++)M=d*Math.sin(y),M=Math.pow((1-M)/(1+M),d/2),T=Math.PI/2-2*Math.atan(_*M)-y,y+=T;return new ae(y*o,i.x*o/l)}},ww={__proto__:null,LonLat:Bl,Mercator:Wl,SphericalMercator:fl},Cw=s({},Sn,{code:"EPSG:3395",projection:Wl,transformation:function(){var i=.5/(Math.PI*Wl.R);return Tr(i,.5,-i,.5)}()}),ud=s({},Sn,{code:"EPSG:4326",projection:Bl,transformation:Tr(1/180,1,-1/180,.5)}),Ew=s({},at,{projection:Bl,transformation:Tr(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,o){var l=o.lng-i.lng,c=o.lat-i.lat;return Math.sqrt(l*l+c*c)},infinite:!0});at.Earth=Sn,at.EPSG3395=Cw,at.EPSG3857=pl,at.EPSG900913=Iy,at.EPSG4326=ud,at.Simple=Ew;var Dt=nn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[f(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[f(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var o=i.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var l=this.getEvents();o.on(l,this),this.once("remove",function(){o.off(l,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});re.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var o=f(i);return this._layers[o]?this:(this._layers[o]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var o=f(i);return this._layers[o]?(this._loaded&&i.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return f(i)in this._layers},eachLayer:function(i,o){for(var l in this._layers)i.call(o,this._layers[l]);return this},_addLayers:function(i){i=i?C(i)?i:[i]:[];for(var o=0,l=i.length;o<l;o++)this.addLayer(i[o])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[f(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var o=f(i);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,o=-1/0,l=this._getZoomSpan();for(var c in this._zoomBoundLayers){var d=this._zoomBoundLayers[c].options;i=d.minZoom===void 0?i:Math.min(i,d.minZoom),o=d.maxZoom===void 0?o:Math.max(o,d.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=i===1/0?void 0:i,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ni=Dt.extend({initialize:function(i,o){k(this,o),this._layers={};var l,c;if(i)for(l=0,c=i.length;l<c;l++)this.addLayer(i[l])},addLayer:function(i){var o=this.getLayerId(i);return this._layers[o]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var o=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(i){var o=typeof i=="number"?i:this.getLayerId(i);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var o=Array.prototype.slice.call(arguments,1),l,c;for(l in this._layers)c=this._layers[l],c[i]&&c[i].apply(c,o);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,o){for(var l in this._layers)i.call(o,this._layers[l]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return f(i)}}),Sw=function(i,o){return new Ni(i,o)},rn=Ni.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Ni.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Ni.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new Ae;for(var o in this._layers){var l=this._layers[o];i.extend(l.getBounds?l.getBounds():l.getLatLng())}return i}}),xw=function(i,o){return new rn(i,o)},Mi=xt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){k(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,o){var l=this._getIconUrl(i);if(!l){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(l,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(c,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(i,o){var l=this.options,c=l[o+"Size"];typeof c=="number"&&(c=[c,c]);var d=A(c),_=A(o==="shadow"&&l.shadowAnchor||l.iconAnchor||d&&d.divideBy(2,!0));i.className="leaflet-marker-"+o+" "+(l.className||""),_&&(i.style.marginLeft=-_.x+"px",i.style.marginTop=-_.y+"px"),d&&(i.style.width=d.x+"px",i.style.height=d.y+"px")},_createImg:function(i,o){return o=o||document.createElement("img"),o.src=i,o},_getIconUrl:function(i){return U.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Tw(i){return new Mi(i)}var Dr=Mi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Dr.imagePath!="string"&&(Dr.imagePath=this._detectIconPath()),(this.options.imagePath||Dr.imagePath)+Mi.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var o=function(l,c,d){var _=c.exec(l);return _&&_[d]};return i=o(i,/^url\((['"])?(.+)\1\)$/,2),i&&o(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=le("div","leaflet-default-icon-path",document.body),o=Ir(i,"background-image")||Ir(i,"backgroundImage");if(document.body.removeChild(i),o=this._stripUrl(o),o)return o;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),cd=Yt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new xn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),q(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var o=this._marker,l=o._map,c=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,_=ei(o._icon),y=l.getPixelBounds(),S=l.getPixelOrigin(),T=se(y.min._subtract(S).add(d),y.max._subtract(S).subtract(d));if(!T.contains(_)){var M=A((Math.max(T.max.x,_.x)-T.max.x)/(y.max.x-T.max.x)-(Math.min(T.min.x,_.x)-T.min.x)/(y.min.x-T.min.x),(Math.max(T.max.y,_.y)-T.max.y)/(y.max.y-T.max.y)-(Math.min(T.min.y,_.y)-T.min.y)/(y.min.y-T.min.y)).multiplyBy(c);l.panBy(M,{animate:!1}),this._draggable._newPos._add(M),this._draggable._startPos._add(M),Me(o._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=de(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Fe(this._panRequest),this._panRequest=de(this._adjustPan.bind(this,i)))},_onDrag:function(i){var o=this._marker,l=o._shadow,c=ei(o._icon),d=o._map.layerPointToLatLng(c);l&&Me(l,c),o._latlng=d,i.latlng=d,i.oldLatLng=this._oldLatLng,o.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Fe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),lo=Dt.extend({options:{icon:new Dr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,o){k(this,o),this._latlng=K(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var o=this._latlng;return this._latlng=K(i),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=i.icon.createIcon(this._icon),c=!1;l!==this._icon&&(this._icon&&this._removeIcon(),c=!0,i.title&&(l.title=i.title),l.tagName==="IMG"&&(l.alt=i.alt||"")),q(l,o),i.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Y(l,"focus",this._panOnFocus,this);var d=i.icon.createShadow(this._shadow),_=!1;d!==this._shadow&&(this._removeShadow(),_=!0),d&&(q(d,o),d.alt=""),this._shadow=d,i.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&_&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pe(this._icon,"focus",this._panOnFocus,this),Se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Se(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Me(this._icon,i),this._shadow&&Me(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(q(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),cd)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new cd(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Tt(this._icon,i),this._shadow&&Tt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var o=this.options.icon.options,l=o.iconSize?A(o.iconSize):A(0,0),c=o.iconAnchor?A(o.iconAnchor):A(0,0);i.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:l.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Pw(i,o){return new lo(i,o)}var Tn=Dt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return k(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),uo=Tn.extend({options:{fill:!0,radius:10},initialize:function(i,o){k(this,o),this._latlng=K(i),this._radius=this.options.radius},setLatLng:function(i){var o=this._latlng;return this._latlng=K(i),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var o=i&&i.radius||this._radius;return Tn.prototype.setStyle.call(this,i),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,o=this._radiusY||i,l=this._clickTolerance(),c=[i+l,o+l];this._pxBounds=new V(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function kw(i,o){return new uo(i,o)}var Ul=uo.extend({initialize:function(i,o,l){if(typeof o=="number"&&(o=s({},l,{radius:o})),k(this,o),this._latlng=K(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new Ae(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Tn.prototype.setStyle,_project:function(){var i=this._latlng.lng,o=this._latlng.lat,l=this._map,c=l.options.crs;if(c.distance===Sn.distance){var d=Math.PI/180,_=this._mRadius/Sn.R/d,y=l.project([o+_,i]),S=l.project([o-_,i]),T=y.add(S).divideBy(2),M=l.unproject(T).lat,b=Math.acos((Math.cos(_*d)-Math.sin(o*d)*Math.sin(M*d))/(Math.cos(o*d)*Math.cos(M*d)))/d;(isNaN(b)||b===0)&&(b=_/Math.cos(Math.PI/180*o)),this._point=T.subtract(l.getPixelOrigin()),this._radius=isNaN(b)?0:T.x-l.project([M,i-b]).x,this._radiusY=T.y-y.y}else{var Z=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(Z).x}this._updateBounds()}});function Iw(i,o,l){return new Ul(i,o,l)}var sn=Tn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,o){k(this,o),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var o=1/0,l=null,c=Ar,d,_,y=0,S=this._parts.length;y<S;y++)for(var T=this._parts[y],M=1,b=T.length;M<b;M++){d=T[M-1],_=T[M];var Z=c(i,d,_,!0);Z<o&&(o=Z,l=c(i,d,_))}return l&&(l.distance=Math.sqrt(o)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ld(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,o){return o=o||this._defaultShape(),i=K(i),o.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new Ae,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Pt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var o=[],l=Pt(i),c=0,d=i.length;c<d;c++)l?(o[c]=K(i[c]),this._bounds.extend(o[c])):o[c]=this._convertLatLngs(i[c]);return o},_project:function(){var i=new V;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),o=new N(i,i);this._rawPxBounds&&(this._pxBounds=new V([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(i,o,l){var c=i[0]instanceof ae,d=i.length,_,y;if(c){for(y=[],_=0;_<d;_++)y[_]=this._map.latLngToLayerPoint(i[_]),l.extend(y[_]);o.push(y)}else for(_=0;_<d;_++)this._projectLatlngs(i[_],o,l)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,l,c,d,_,y,S,T;for(l=0,d=0,_=this._rings.length;l<_;l++)for(T=this._rings[l],c=0,y=T.length;c<y-1;c++)S=od(T[c],T[c+1],i,c,!0),S&&(o[d]=o[d]||[],o[d].push(S[0]),(S[1]!==T[c+1]||c===y-2)&&(o[d].push(S[1]),d++))}},_simplifyPoints:function(){for(var i=this._parts,o=this.options.smoothFactor,l=0,c=i.length;l<c;l++)i[l]=id(i[l],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,o){var l,c,d,_,y,S,T=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(l=0,_=this._parts.length;l<_;l++)for(S=this._parts[l],c=0,y=S.length,d=y-1;c<y;d=c++)if(!(!o&&c===0)&&rd(i,S[d],S[c])<=T)return!0;return!1}});function Lw(i,o){return new sn(i,o)}sn._flat=ad;var Ri=sn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var o=sn.prototype._convertLatLngs.call(this,i),l=o.length;return l>=2&&o[0]instanceof ae&&o[0].equals(o[l-1])&&o.pop(),o},_setLatLngs:function(i){sn.prototype._setLatLngs.call(this,i),Pt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,o=this.options.weight,l=new N(o,o);if(i=new V(i.min.subtract(l),i.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,d=this._rings.length,_;c<d;c++)_=td(this._rings[c],i,!0),_.length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var o=!1,l,c,d,_,y,S,T,M;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(_=0,T=this._parts.length;_<T;_++)for(l=this._parts[_],y=0,M=l.length,S=M-1;y<M;S=y++)c=l[y],d=l[S],c.y>i.y!=d.y>i.y&&i.x<(d.x-c.x)*(i.y-c.y)/(d.y-c.y)+c.x&&(o=!o);return o||sn.prototype._containsPoint.call(this,i,!0)}});function Nw(i,o){return new Ri(i,o)}var on=rn.extend({initialize:function(i,o){k(this,o),this._layers={},i&&this.addData(i)},addData:function(i){var o=C(i)?i:i.features,l,c,d;if(o){for(l=0,c=o.length;l<c;l++)d=o[l],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var _=this.options;if(_.filter&&!_.filter(i))return this;var y=co(i,_);return y?(y.feature=po(i),y.defaultOptions=y.options,this.resetStyle(y),_.onEachFeature&&_.onEachFeature(i,y),this.addLayer(y)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=s({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(o){this._setLayerStyle(o,i)},this)},_setLayerStyle:function(i,o){i.setStyle&&(typeof o=="function"&&(o=o(i.feature)),i.setStyle(o))}});function co(i,o){var l=i.type==="Feature"?i.geometry:i,c=l?l.coordinates:null,d=[],_=o&&o.pointToLayer,y=o&&o.coordsToLatLng||Hl,S,T,M,b;if(!c&&!l)return null;switch(l.type){case"Point":return S=y(c),hd(_,i,S,o);case"MultiPoint":for(M=0,b=c.length;M<b;M++)S=y(c[M]),d.push(hd(_,i,S,o));return new rn(d);case"LineString":case"MultiLineString":return T=ho(c,l.type==="LineString"?0:1,y),new sn(T,o);case"Polygon":case"MultiPolygon":return T=ho(c,l.type==="Polygon"?1:2,y),new Ri(T,o);case"GeometryCollection":for(M=0,b=l.geometries.length;M<b;M++){var Z=co({geometry:l.geometries[M],type:"Feature",properties:i.properties},o);Z&&d.push(Z)}return new rn(d);case"FeatureCollection":for(M=0,b=l.features.length;M<b;M++){var J=co(l.features[M],o);J&&d.push(J)}return new rn(d);default:throw new Error("Invalid GeoJSON object.")}}function hd(i,o,l,c){return i?i(o,l):new lo(l,c&&c.markersInheritOptions&&c)}function Hl(i){return new ae(i[1],i[0],i[2])}function ho(i,o,l){for(var c=[],d=0,_=i.length,y;d<_;d++)y=o?ho(i[d],o-1,l):(l||Hl)(i[d]),c.push(y);return c}function Zl(i,o){return i=K(i),i.alt!==void 0?[g(i.lng,o),g(i.lat,o),g(i.alt,o)]:[g(i.lng,o),g(i.lat,o)]}function fo(i,o,l,c){for(var d=[],_=0,y=i.length;_<y;_++)d.push(o?fo(i[_],Pt(i[_])?0:o-1,l,c):Zl(i[_],c));return!o&&l&&d.length>0&&d.push(d[0].slice()),d}function Oi(i,o){return i.feature?s({},i.feature,{geometry:o}):po(o)}function po(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var jl={toGeoJSON:function(i){return Oi(this,{type:"Point",coordinates:Zl(this.getLatLng(),i)})}};lo.include(jl),Ul.include(jl),uo.include(jl),sn.include({toGeoJSON:function(i){var o=!Pt(this._latlngs),l=fo(this._latlngs,o?1:0,!1,i);return Oi(this,{type:(o?"Multi":"")+"LineString",coordinates:l})}}),Ri.include({toGeoJSON:function(i){var o=!Pt(this._latlngs),l=o&&!Pt(this._latlngs[0]),c=fo(this._latlngs,l?2:o?1:0,!0,i);return o||(c=[c]),Oi(this,{type:(l?"Multi":"")+"Polygon",coordinates:c})}}),Ni.include({toMultiPoint:function(i){var o=[];return this.eachLayer(function(l){o.push(l.toGeoJSON(i).geometry.coordinates)}),Oi(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(i){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(i);var l=o==="GeometryCollection",c=[];return this.eachLayer(function(d){if(d.toGeoJSON){var _=d.toGeoJSON(i);if(l)c.push(_.geometry);else{var y=po(_);y.type==="FeatureCollection"?c.push.apply(c,y.features):c.push(y)}}}),l?Oi(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function fd(i,o){return new on(i,o)}var Mw=fd,_o=Dt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,o,l){this._url=i,this._bounds=he(o),k(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(q(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Ii(this._image),this},bringToBack:function(){return this._map&&Li(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=he(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",o=this._image=i?this._url:le("img");if(q(o,"leaflet-image-layer"),this._zoomAnimated&&q(o,"leaflet-zoom-animated"),this.options.className&&q(o,this.options.className),o.onselectstart=m,o.onmousemove=m,o.onload=u(this.fire,this,"load"),o.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(i){var o=this._map.getZoomScale(i.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Jn(this._image,l,o)},_reset:function(){var i=this._image,o=new V(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=o.getSize();Me(i,o.min),i.style.width=l.x+"px",i.style.height=l.y+"px"},_updateOpacity:function(){Tt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Rw=function(i,o,l){return new _o(i,o,l)},dd=_o.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",o=this._image=i?this._url:le("video");if(q(o,"leaflet-image-layer"),this._zoomAnimated&&q(o,"leaflet-zoom-animated"),this.options.className&&q(o,this.options.className),o.onselectstart=m,o.onmousemove=m,o.onloadeddata=u(this.fire,this,"load"),i){for(var l=o.getElementsByTagName("source"),c=[],d=0;d<l.length;d++)c.push(l[d].src);this._url=l.length>0?c:[o.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var y=le("source");y.src=this._url[_],o.appendChild(y)}}});function Ow(i,o,l){return new dd(i,o,l)}var pd=_o.extend({_initImage:function(){var i=this._image=this._url;q(i,"leaflet-image-layer"),this._zoomAnimated&&q(i,"leaflet-zoom-animated"),this.options.className&&q(i,this.options.className),i.onselectstart=m,i.onmousemove=m}});function Aw(i,o,l){return new pd(i,o,l)}var qt=Dt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,o){i&&(i instanceof ae||C(i))?(this._latlng=K(i),k(this,o)):(k(this,i),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Tt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Tt(this._container,1),this.bringToFront(),this.options.interactive&&(q(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Tt(this._container,0),this._removeTimeout=setTimeout(u(Se,void 0,this._container),200)):Se(this._container),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=K(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ii(this._container),this},bringToBack:function(){return this._map&&Li(this._container),this},_prepareOpen:function(i){var o=this._source;if(!o._map)return!1;if(o instanceof rn){o=null;var l=this._source._layers;for(var c in l)if(l[c]._map){o=l[c];break}if(!o)return!1;this._source=o}if(!i)if(o.getCenter)i=o.getCenter();else if(o.getLatLng)i=o.getLatLng();else if(o.getBounds)i=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")i.innerHTML=o;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),o=A(this.options.offset),l=this._getAnchor();this._zoomAnimated?Me(this._container,i.add(l)):o=o.add(i).add(l);var c=this._containerBottom=-o.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=c+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});re.include({_initOverlay:function(i,o,l,c){var d=o;return d instanceof i||(d=new i(c).setContent(o)),l&&d.setLatLng(l),d}}),Dt.include({_initOverlay:function(i,o,l,c){var d=l;return d instanceof i?(k(d,c),d._source=this):(d=o&&!c?o:new i(c,this),d.setContent(l)),d}});var mo=qt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,qt.prototype.openOn.call(this,i)},onAdd:function(i){qt.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Tn||this._source.on("preclick",ti))},onRemove:function(i){qt.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Tn||this._source.off("preclick",ti))},getEvents:function(){var i=qt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",o=this._container=le("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=le("div",i+"-content-wrapper",o);if(this._contentNode=le("div",i+"-content",l),Rr(o),Ol(this._contentNode),Y(o,"contextmenu",ti),this._tipContainer=le("div",i+"-tip-container",o),this._tip=le("div",i+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=le("a",i+"-close-button",o);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',Y(c,"click",function(d){$e(d),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,o=i.style;o.width="",o.whiteSpace="nowrap";var l=i.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),o.width=l+1+"px",o.whiteSpace="",o.height="";var c=i.offsetHeight,d=this.options.maxHeight,_="leaflet-popup-scrolled";d&&c>d?(o.height=d+"px",q(i,_)):Le(i,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),l=this._getAnchor();Me(this._container,o.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,o=parseInt(Ir(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+o,c=this._containerWidth,d=new N(this._containerLeft,-l-this._containerBottom);d._add(ei(this._container));var _=i.layerPointToContainerPoint(d),y=A(this.options.autoPanPadding),S=A(this.options.autoPanPaddingTopLeft||y),T=A(this.options.autoPanPaddingBottomRight||y),M=i.getSize(),b=0,Z=0;_.x+c+T.x>M.x&&(b=_.x+c-M.x+T.x),_.x-b-S.x<0&&(b=_.x-S.x),_.y+l+T.y>M.y&&(Z=_.y+l-M.y+T.y),_.y-Z-S.y<0&&(Z=_.y-S.y),(b||Z)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([b,Z]))}},_getAnchor:function(){return A(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Dw=function(i,o){return new mo(i,o)};re.mergeOptions({closePopupOnClick:!0}),re.include({openPopup:function(i,o,l){return this._initOverlay(mo,i,o,l).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Dt.include({bindPopup:function(i,o){return this._popup=this._initOverlay(mo,this._popup,i,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof rn||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){ni(i);var o=i.layer||i.target;if(this._popup._source===o&&!(o instanceof Tn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=o,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var go=qt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){qt.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){qt.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=qt.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",o=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=le("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var o,l,c=this._map,d=this._container,_=c.latLngToContainerPoint(c.getCenter()),y=c.layerPointToContainerPoint(i),S=this.options.direction,T=d.offsetWidth,M=d.offsetHeight,b=A(this.options.offset),Z=this._getAnchor();S==="top"?(o=T/2,l=M):S==="bottom"?(o=T/2,l=0):S==="center"?(o=T/2,l=M/2):S==="right"?(o=0,l=M/2):S==="left"?(o=T,l=M/2):y.x<_.x?(S="right",o=0,l=M/2):(S="left",o=T+(b.x+Z.x)*2,l=M/2),i=i.subtract(A(o,l,!0)).add(b).add(Z),Le(d,"leaflet-tooltip-right"),Le(d,"leaflet-tooltip-left"),Le(d,"leaflet-tooltip-top"),Le(d,"leaflet-tooltip-bottom"),q(d,"leaflet-tooltip-"+S),Me(d,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Tt(this._container,i)},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(o)},_getAnchor:function(){return A(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),bw=function(i,o){return new go(i,o)};re.include({openTooltip:function(i,o,l){return this._initOverlay(go,i,o,l).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Dt.include({bindTooltip:function(i,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(go,this._tooltip,i,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var o=i?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[o](l),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof rn||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var o=typeof i.getElement=="function"&&i.getElement();o&&(Y(o,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Y(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var o=typeof i.getElement=="function"&&i.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var o=i.latlng,l,c;this._tooltip.options.sticky&&i.originalEvent&&(l=this._map.mouseEventToContainerPoint(i.originalEvent),c=this._map.containerPointToLayerPoint(l),o=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(o)}});var _d=Mi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var o=i&&i.tagName==="DIV"?i:document.createElement("div"),l=this.options;if(l.html instanceof Element?(no(o),o.appendChild(l.html)):o.innerHTML=l.html!==!1?l.html:"",l.bgPos){var c=A(l.bgPos);o.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function zw(i){return new _d(i)}Mi.Default=Dr;var br=Dt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:U.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){k(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Se(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ii(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Li(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof N?i:new N(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var o=this.getPane().children,l=-i(-1/0,1/0),c=0,d=o.length,_;c<d;c++)_=o[c].style.zIndex,o[c]!==this._container&&_&&(l=i(l,+_));isFinite(l)&&(this.options.zIndex=l+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!U.ielt9){Tt(this._container,this.options.opacity);var i=+new Date,o=!1,l=!1;for(var c in this._tiles){var d=this._tiles[c];if(!(!d.current||!d.loaded)){var _=Math.min(1,(i-d.loaded)/200);Tt(d.el,_),_<1?o=!0:(d.active?l=!0:this._onOpaqueTile(d),d.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),o&&(Fe(this._fadeFrame),this._fadeFrame=de(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,o=this.options.maxZoom;if(i!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===i?(this._levels[l].el.style.zIndex=o-Math.abs(i-l),this._onUpdateLevel(l)):(Se(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var c=this._levels[i],d=this._map;return c||(c=this._levels[i]={},c.el=le("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=o,c.origin=d.project(d.unproject(d.getPixelOrigin()),i).round(),c.zoom=i,this._setZoomTransform(c,d.getCenter(),d.getZoom()),m(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var i,o,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)o=this._tiles[i],o.retain=o.current;for(i in this._tiles)if(o=this._tiles[i],o.current&&!o.active){var c=o.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var o in this._tiles)this._tiles[o].coords.z===i&&this._removeTile(o)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Se(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,o,l,c){var d=Math.floor(i/2),_=Math.floor(o/2),y=l-1,S=new N(+d,+_);S.z=+y;var T=this._tileCoordsToKey(S),M=this._tiles[T];return M&&M.active?(M.retain=!0,!0):(M&&M.loaded&&(M.retain=!0),y>c?this._retainParent(d,_,y,c):!1)},_retainChildren:function(i,o,l,c){for(var d=2*i;d<2*i+2;d++)for(var _=2*o;_<2*o+2;_++){var y=new N(d,_);y.z=l+1;var S=this._tileCoordsToKey(y),T=this._tiles[S];if(T&&T.active){T.retain=!0;continue}else T&&T.loaded&&(T.retain=!0);l+1<c&&this._retainChildren(d,_,l+1,c)}},_resetView:function(i){var o=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var o=this.options;return o.minNativeZoom!==void 0&&i<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<i?o.maxNativeZoom:i},_setView:function(i,o,l,c){var d=Math.round(o);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var _=this.options.updateWhenZooming&&d!==this._tileZoom;(!c||_)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(i),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(i,o)},_setZoomTransforms:function(i,o){for(var l in this._levels)this._setZoomTransform(this._levels[l],i,o)},_setZoomTransform:function(i,o,l){var c=this._map.getZoomScale(l,i.zoom),d=i.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(o,l)).round();U.any3d?Jn(i.el,d,c):Me(i.el,d)},_resetGrid:function(){var i=this._map,o=i.options.crs,l=this._tileSize=this.getTileSize(),c=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,o.wrapLng[0]],c).x/l.x),Math.ceil(i.project([0,o.wrapLng[1]],c).x/l.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([o.wrapLat[0],0],c).y/l.x),Math.ceil(i.project([o.wrapLat[1],0],c).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var o=this._map,l=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),c=o.getZoomScale(l,this._tileZoom),d=o.project(i,this._tileZoom).floor(),_=o.getSize().divideBy(c*2);return new V(d.subtract(_),d.add(_))},_update:function(i){var o=this._map;if(o){var l=this._clampZoom(o.getZoom());if(i===void 0&&(i=o.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(i),d=this._pxBoundsToTileRange(c),_=d.getCenter(),y=[],S=this.options.keepBuffer,T=new V(d.getBottomLeft().subtract([S,-S]),d.getTopRight().add([S,-S]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var M in this._tiles){var b=this._tiles[M].coords;(b.z!==this._tileZoom||!T.contains(new N(b.x,b.y)))&&(this._tiles[M].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(i,l);return}for(var Z=d.min.y;Z<=d.max.y;Z++)for(var J=d.min.x;J<=d.max.x;J++){var nt=new N(J,Z);if(nt.z=this._tileZoom,!!this._isValidTile(nt)){var Be=this._tiles[this._tileCoordsToKey(nt)];Be?Be.current=!0:y.push(nt)}}if(y.sort(function(lt,Di){return lt.distanceTo(_)-Di.distanceTo(_)}),y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var kt=document.createDocumentFragment();for(J=0;J<y.length;J++)this._addTile(y[J],kt);this._level.el.appendChild(kt)}}}},_isValidTile:function(i){var o=this._map.options.crs;if(!o.infinite){var l=this._globalTileRange;if(!o.wrapLng&&(i.x<l.min.x||i.x>l.max.x)||!o.wrapLat&&(i.y<l.min.y||i.y>l.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(i);return he(this.options.bounds).overlaps(c)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var o=this._map,l=this.getTileSize(),c=i.scaleBy(l),d=c.add(l),_=o.unproject(c,i.z),y=o.unproject(d,i.z);return[_,y]},_tileCoordsToBounds:function(i){var o=this._tileCoordsToNwSe(i),l=new Ae(o[0],o[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var o=i.split(":"),l=new N(+o[0],+o[1]);return l.z=+o[2],l},_removeTile:function(i){var o=this._tiles[i];o&&(Se(o.el),delete this._tiles[i],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){q(i,"leaflet-tile");var o=this.getTileSize();i.style.width=o.x+"px",i.style.height=o.y+"px",i.onselectstart=m,i.onmousemove=m,U.ielt9&&this.options.opacity<1&&Tt(i,this.options.opacity)},_addTile:function(i,o){var l=this._getTilePos(i),c=this._tileCoordsToKey(i),d=this.createTile(this._wrapCoords(i),u(this._tileReady,this,i));this._initTile(d),this.createTile.length<2&&de(u(this._tileReady,this,i,null,d)),Me(d,l),this._tiles[c]={el:d,coords:i,current:!0},o.appendChild(d),this.fire("tileloadstart",{tile:d,coords:i})},_tileReady:function(i,o,l){o&&this.fire("tileerror",{error:o,tile:l,coords:i});var c=this._tileCoordsToKey(i);l=this._tiles[c],l&&(l.loaded=+new Date,this._map._fadeAnimated?(Tt(l.el,0),Fe(this._fadeFrame),this._fadeFrame=de(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),o||(q(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),U.ielt9||!this._map._fadeAnimated?de(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var o=new N(this._wrapX?v(i.x,this._wrapX):i.x,this._wrapY?v(i.y,this._wrapY):i.y);return o.z=i.z,o},_pxBoundsToTileRange:function(i){var o=this.getTileSize();return new V(i.min.unscaleBy(o).floor(),i.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Fw(i){return new br(i)}var Ai=br.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,o){this._url=i,o=k(this,o),o.detectRetina&&U.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,o){return this._url===i&&o===void 0&&(o=!0),this._url=i,o||this.redraw(),this},createTile:function(i,o){var l=document.createElement("img");return Y(l,"load",u(this._tileOnLoad,this,o,l)),Y(l,"error",u(this._tileOnError,this,o,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(i),l},getTileUrl:function(i){var o={r:U.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-i.y;this.options.tms&&(o.y=l),o["-y"]=l}return w(this._url,s(o,this.options))},_tileOnLoad:function(i,o){U.ielt9?setTimeout(u(i,this,null,o),0):i(null,o)},_tileOnError:function(i,o,l){var c=this.options.errorTileUrl;c&&o.getAttribute("src")!==c&&(o.src=c),i(l,o)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,o=this.options.maxZoom,l=this.options.zoomReverse,c=this.options.zoomOffset;return l&&(i=o-i),i+c},_getSubdomain:function(i){var o=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var i,o;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(o=this._tiles[i].el,o.onload=m,o.onerror=m,!o.complete)){o.src=D;var l=this._tiles[i].coords;Se(o),delete this._tiles[i],this.fire("tileabort",{tile:o,coords:l})}},_removeTile:function(i){var o=this._tiles[i];if(o)return o.el.setAttribute("src",D),br.prototype._removeTile.call(this,i)},_tileReady:function(i,o,l){if(!(!this._map||l&&l.getAttribute("src")===D))return br.prototype._tileReady.call(this,i,o,l)}});function md(i,o){return new Ai(i,o)}var gd=Ai.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,o){this._url=i;var l=s({},this.defaultWmsParams);for(var c in o)c in this.options||(l[c]=o[c]);o=k(this,o);var d=o.detectRetina&&U.retina?2:1,_=this.getTileSize();l.width=_.x*d,l.height=_.y*d,this.wmsParams=l},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,Ai.prototype.onAdd.call(this,i)},getTileUrl:function(i){var o=this._tileCoordsToNwSe(i),l=this._crs,c=se(l.project(o[0]),l.project(o[1])),d=c.min,_=c.max,y=(this._wmsVersion>=1.3&&this._crs===ud?[d.y,d.x,_.y,_.x]:[d.x,d.y,_.x,_.y]).join(","),S=Ai.prototype.getTileUrl.call(this,i);return S+H(this.wmsParams,S,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+y},setParams:function(i,o){return s(this.wmsParams,i),o||this.redraw(),this}});function Bw(i,o){return new gd(i,o)}Ai.WMS=gd,md.wms=Bw;var an=Dt.extend({options:{padding:.1},initialize:function(i){k(this,i),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),q(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,o){var l=this._map.getZoomScale(o,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,o),_=c.multiplyBy(-l).add(d).subtract(this._map._getNewPixelOrigin(i,o));U.any3d?Jn(this._container,_,l):Me(this._container,_)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,o=this._map.getSize(),l=this._map.containerPointToLayerPoint(o.multiplyBy(-i)).round();this._bounds=new V(l,l.add(o.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),vd=an.extend({options:{tolerance:0},getEvents:function(){var i=an.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){an.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Y(i,"mousemove",this._onMouseMove,this),Y(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Y(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Fe(this._redrawRequest),delete this._ctx,Se(this._container),pe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var o in this._layers)i=this._layers[o],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var i=this._bounds,o=this._container,l=i.getSize(),c=U.retina?2:1;Me(o,i.min),o.width=c*l.x,o.height=c*l.y,o.style.width=l.x+"px",o.style.height=l.y+"px",U.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){an.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[f(i)]=i;var o=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var o=i._order,l=o.next,c=o.prev;l?l.prev=c:this._drawLast=c,c?c.next=l:this._drawFirst=l,delete i._order,delete this._layers[f(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var o=i.options.dashArray.split(/[, ]+/),l=[],c,d;for(d=0;d<o.length;d++){if(c=Number(o[d]),isNaN(c))return;l.push(c)}i.options._dashArray=l}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||de(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var o=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new V,this._redrawBounds.extend(i._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(i._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var o=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,o=this._redrawBounds;if(this._ctx.save(),o){var l=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)i=c.layer,(!o||i._pxBounds&&i._pxBounds.intersects(o))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,o){if(this._drawing){var l,c,d,_,y=i._parts,S=y.length,T=this._ctx;if(S){for(T.beginPath(),l=0;l<S;l++){for(c=0,d=y[l].length;c<d;c++)_=y[l][c],T[c?"lineTo":"moveTo"](_.x,_.y);o&&T.closePath()}this._fillStroke(T,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var o=i._point,l=this._ctx,c=Math.max(Math.round(i._radius),1),d=(Math.max(Math.round(i._radiusY),1)||c)/c;d!==1&&(l.save(),l.scale(1,d)),l.beginPath(),l.arc(o.x,o.y/d,c,0,Math.PI*2,!1),d!==1&&l.restore(),this._fillStroke(l,i)}},_fillStroke:function(i,o){var l=o.options;l.fill&&(i.globalAlpha=l.fillOpacity,i.fillStyle=l.fillColor||l.color,i.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(i.setLineDash&&i.setLineDash(o.options&&o.options._dashArray||[]),i.globalAlpha=l.opacity,i.lineWidth=l.weight,i.strokeStyle=l.color,i.lineCap=l.lineCap,i.lineJoin=l.lineJoin,i.stroke())},_onClick:function(i){for(var o=this._map.mouseEventToLayerPoint(i),l,c,d=this._drawFirst;d;d=d.next)l=d.layer,l.options.interactive&&l._containsPoint(o)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(l))&&(c=l);this._fireEvent(c?[c]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,o)}},_handleMouseOut:function(i){var o=this._hoveredLayer;o&&(Le(this._container,"leaflet-interactive"),this._fireEvent([o],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,o){if(!this._mouseHoverThrottled){for(var l,c,d=this._drawFirst;d;d=d.next)l=d.layer,l.options.interactive&&l._containsPoint(o)&&(c=l);c!==this._hoveredLayer&&(this._handleMouseOut(i),c&&(q(this._container,"leaflet-interactive"),this._fireEvent([c],i,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,o,l){this._map._fireDOMEvent(o,l||o.type,i)},_bringToFront:function(i){var o=i._order;if(o){var l=o.next,c=o.prev;if(l)l.prev=c;else return;c?c.next=l:l&&(this._drawFirst=l),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(i)}},_bringToBack:function(i){var o=i._order;if(o){var l=o.next,c=o.prev;if(c)c.next=l;else return;l?l.prev=c:c&&(this._drawLast=c),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(i)}}});function yd(i){return U.canvas?new vd(i):null}var zr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ww={_initContainer:function(){this._container=le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(an.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var o=i._container=zr("shape");q(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",i._path=zr("path"),o.appendChild(i._path),this._updateStyle(i),this._layers[f(i)]=i},_addPath:function(i){var o=i._container;this._container.appendChild(o),i.options.interactive&&i.addInteractiveTarget(o)},_removePath:function(i){var o=i._container;Se(o),i.removeInteractiveTarget(o),delete this._layers[f(i)]},_updateStyle:function(i){var o=i._stroke,l=i._fill,c=i.options,d=i._container;d.stroked=!!c.stroke,d.filled=!!c.fill,c.stroke?(o||(o=i._stroke=zr("stroke")),d.appendChild(o),o.weight=c.weight+"px",o.color=c.color,o.opacity=c.opacity,c.dashArray?o.dashStyle=C(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=c.lineCap.replace("butt","flat"),o.joinstyle=c.lineJoin):o&&(d.removeChild(o),i._stroke=null),c.fill?(l||(l=i._fill=zr("fill")),d.appendChild(l),l.color=c.fillColor||c.color,l.opacity=c.fillOpacity):l&&(d.removeChild(l),i._fill=null)},_updateCircle:function(i){var o=i._point.round(),l=Math.round(i._radius),c=Math.round(i._radiusY||l);this._setPath(i,i._empty()?"M0 0":"AL "+o.x+","+o.y+" "+l+","+c+" 0,"+65535*360)},_setPath:function(i,o){i._path.v=o},_bringToFront:function(i){Ii(i._container)},_bringToBack:function(i){Li(i._container)}},vo=U.vml?zr:Sf,Fr=an.extend({_initContainer:function(){this._container=vo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=vo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Se(this._container),pe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var i=this._bounds,o=i.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,l.setAttribute("width",o.x),l.setAttribute("height",o.y)),Me(l,i.min),l.setAttribute("viewBox",[i.min.x,i.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(i){var o=i._path=vo("path");i.options.className&&q(o,i.options.className),i.options.interactive&&q(o,"leaflet-interactive"),this._updateStyle(i),this._layers[f(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Se(i._path),i.removeInteractiveTarget(i._path),delete this._layers[f(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var o=i._path,l=i.options;o&&(l.stroke?(o.setAttribute("stroke",l.color),o.setAttribute("stroke-opacity",l.opacity),o.setAttribute("stroke-width",l.weight),o.setAttribute("stroke-linecap",l.lineCap),o.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?o.setAttribute("stroke-dasharray",l.dashArray):o.removeAttribute("stroke-dasharray"),l.dashOffset?o.setAttribute("stroke-dashoffset",l.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),l.fill?(o.setAttribute("fill",l.fillColor||l.color),o.setAttribute("fill-opacity",l.fillOpacity),o.setAttribute("fill-rule",l.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(i,o){this._setPath(i,xf(i._parts,o))},_updateCircle:function(i){var o=i._point,l=Math.max(Math.round(i._radius),1),c=Math.max(Math.round(i._radiusY),1)||l,d="a"+l+","+c+" 0 1,0 ",_=i._empty()?"M0 0":"M"+(o.x-l)+","+o.y+d+l*2+",0 "+d+-l*2+",0 ";this._setPath(i,_)},_setPath:function(i,o){i._path.setAttribute("d",o)},_bringToFront:function(i){Ii(i._path)},_bringToBack:function(i){Li(i._path)}});U.vml&&Fr.include(Ww);function wd(i){return U.svg||U.vml?new Fr(i):null}re.include({getRenderer:function(i){var o=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var o=this._paneRenderers[i];return o===void 0&&(o=this._createRenderer({pane:i}),this._paneRenderers[i]=o),o},_createRenderer:function(i){return this.options.preferCanvas&&yd(i)||wd(i)}});var Cd=Ri.extend({initialize:function(i,o){Ri.prototype.initialize.call(this,this._boundsToLatLngs(i),o)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=he(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Uw(i,o){return new Cd(i,o)}Fr.create=vo,Fr.pointsToPath=xf,on.geometryToLayer=co,on.coordsToLatLng=Hl,on.coordsToLatLngs=ho,on.latLngToCoords=Zl,on.latLngsToCoords=fo,on.getFeature=Oi,on.asFeature=po,re.mergeOptions({boxZoom:!0});var Ed=Yt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Y(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Lr(),Tl(),this._startPoint=this._map.mouseEventToContainerPoint(i),Y(document,{contextmenu:ni,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=le("div","leaflet-zoom-box",this._container),q(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var o=new V(this._point,this._startPoint),l=o.getSize();Me(this._box,o.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(Se(this._box),Le(this._container,"leaflet-crosshair")),Nr(),Pl(),pe(document,{contextmenu:ni,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var o=new Ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});re.addInitHook("addHandler","boxZoom",Ed),re.mergeOptions({doubleClickZoom:!0});var Sd=Yt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var o=this._map,l=o.getZoom(),c=o.options.zoomDelta,d=i.originalEvent.shiftKey?l-c:l+c;o.options.doubleClickZoom==="center"?o.setZoom(d):o.setZoomAround(i.containerPoint,d)}});re.addInitHook("addHandler","doubleClickZoom",Sd),re.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var xd=Yt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new xn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}q(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Le(this._map._container,"leaflet-grab"),Le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=he(this._map.options.maxBounds);this._offsetLimit=se(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var o=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(o),this._prunePositions(o)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,o){return i-(i-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;i.x<o.min.x&&(i.x=this._viscousLimit(i.x,o.min.x)),i.y<o.min.y&&(i.y=this._viscousLimit(i.y,o.min.y)),i.x>o.max.x&&(i.x=this._viscousLimit(i.x,o.max.x)),i.y>o.max.y&&(i.y=this._viscousLimit(i.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,o=Math.round(i/2),l=this._initialWorldOffset,c=this._draggable._newPos.x,d=(c-o+l)%i+o-l,_=(c+o+l)%i-o-l,y=Math.abs(d+l)<Math.abs(_+l)?d:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=y},_onDragEnd:function(i){var o=this._map,l=o.options,c=!l.inertia||i.noInertia||this._times.length<2;if(o.fire("dragend",i),c)o.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),_=(this._lastTime-this._times[0])/1e3,y=l.easeLinearity,S=d.multiplyBy(y/_),T=S.distanceTo([0,0]),M=Math.min(l.inertiaMaxSpeed,T),b=S.multiplyBy(M/T),Z=M/(l.inertiaDeceleration*y),J=b.multiplyBy(-Z/2).round();!J.x&&!J.y?o.fire("moveend"):(J=o._limitOffset(J,o.options.maxBounds),de(function(){o.panBy(J,{duration:Z,easeLinearity:y,noMoveStart:!0,animate:!0})}))}}});re.addInitHook("addHandler","dragging",xd),re.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Td=Yt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Y(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,o=document.documentElement,l=i.scrollTop||o.scrollTop,c=i.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(c,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var o=this._panKeys={},l=this.keyCodes,c,d;for(c=0,d=l.left.length;c<d;c++)o[l.left[c]]=[-1*i,0];for(c=0,d=l.right.length;c<d;c++)o[l.right[c]]=[i,0];for(c=0,d=l.down.length;c<d;c++)o[l.down[c]]=[0,i];for(c=0,d=l.up.length;c<d;c++)o[l.up[c]]=[0,-1*i]},_setZoomDelta:function(i){var o=this._zoomKeys={},l=this.keyCodes,c,d;for(c=0,d=l.zoomIn.length;c<d;c++)o[l.zoomIn[c]]=i;for(c=0,d=l.zoomOut.length;c<d;c++)o[l.zoomOut[c]]=-i},_addHooks:function(){Y(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var o=i.keyCode,l=this._map,c;if(o in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(c=this._panKeys[o],i.shiftKey&&(c=A(c).multiplyBy(3)),l.options.maxBounds&&(c=l._limitOffset(A(c),l.options.maxBounds)),l.options.worldCopyJump){var d=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(c)));l.panTo(d)}else l.panBy(c)}else if(o in this._zoomKeys)l.setZoom(l.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;ni(i)}}});re.addInitHook("addHandler","keyboard",Td),re.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Pd=Yt.extend({addHooks:function(){Y(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var o=qf(i),l=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var c=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),ni(i)},_performZoom:function(){var i=this._map,o=i.getZoom(),l=this._map.options.zoomSnap||0;i._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,_=l?Math.ceil(d/l)*l:d,y=i._limitZoom(o+(this._delta>0?_:-_))-o;this._delta=0,this._startTime=null,y&&(i.options.scrollWheelZoom==="center"?i.setZoom(o+y):i.setZoomAround(this._lastMousePos,o+y))}});re.addInitHook("addHandler","scrollWheelZoom",Pd);var Hw=600;re.mergeOptions({tapHold:U.touchNative&&U.safari&&U.mobile,tapTolerance:15});var kd=Yt.extend({addHooks:function(){Y(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var o=i.touches[0];this._startPos=this._newPos=new N(o.clientX,o.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(Y(document,"touchend",$e),Y(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),Hw),Y(document,"touchend touchcancel contextmenu",this._cancel,this),Y(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){pe(document,"touchend",$e),pe(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),pe(document,"touchend touchcancel contextmenu",this._cancel,this),pe(document,"touchmove",this._onMove,this)},_onMove:function(i){var o=i.touches[0];this._newPos=new N(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,o){var l=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});l._simulated=!0,o.target.dispatchEvent(l)}});re.addInitHook("addHandler","tapHold",kd),re.mergeOptions({touchZoom:U.touch,bounceAtZoomLimits:!0});var Id=Yt.extend({addHooks:function(){q(this._map._container,"leaflet-touch-zoom"),Y(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),pe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var o=this._map;if(!(!i.touches||i.touches.length!==2||o._animatingZoom||this._zooming)){var l=o.mouseEventToContainerPoint(i.touches[0]),c=o.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(l.add(c)._divideBy(2))),this._startDist=l.distanceTo(c),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),Y(document,"touchmove",this._onTouchMove,this),Y(document,"touchend touchcancel",this._onTouchEnd,this),$e(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var o=this._map,l=o.mouseEventToContainerPoint(i.touches[0]),c=o.mouseEventToContainerPoint(i.touches[1]),d=l.distanceTo(c)/this._startDist;if(this._zoom=o.getScaleZoom(d,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&d<1||this._zoom>o.getMaxZoom()&&d>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var _=l._add(c)._divideBy(2)._subtract(this._centerPoint);if(d===1&&_.x===0&&_.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),Fe(this._animRequest);var y=u(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=de(y,this,!0),$e(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Fe(this._animRequest),pe(document,"touchmove",this._onTouchMove,this),pe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});re.addInitHook("addHandler","touchZoom",Id),re.BoxZoom=Ed,re.DoubleClickZoom=Sd,re.Drag=xd,re.Keyboard=Td,re.ScrollWheelZoom=Pd,re.TapHold=kd,re.TouchZoom=Id,n.Bounds=V,n.Browser=U,n.CRS=at,n.Canvas=vd,n.Circle=Ul,n.CircleMarker=uo,n.Class=xt,n.Control=At,n.DivIcon=_d,n.DivOverlay=qt,n.DomEvent=ow,n.DomUtil=rw,n.Draggable=xn,n.Evented=nn,n.FeatureGroup=rn,n.GeoJSON=on,n.GridLayer=br,n.Handler=Yt,n.Icon=Mi,n.ImageOverlay=_o,n.LatLng=ae,n.LatLngBounds=Ae,n.Layer=Dt,n.LayerGroup=Ni,n.LineUtil=yw,n.Map=re,n.Marker=lo,n.Mixin=dw,n.Path=Tn,n.Point=N,n.PolyUtil=pw,n.Polygon=Ri,n.Polyline=sn,n.Popup=mo,n.PosAnimation=Qf,n.Projection=ww,n.Rectangle=Cd,n.Renderer=an,n.SVG=Fr,n.SVGOverlay=pd,n.TileLayer=Ai,n.Tooltip=go,n.Transformation=dl,n.Util=Xn,n.VideoOverlay=dd,n.bind=u,n.bounds=se,n.canvas=yd,n.circle=Iw,n.circleMarker=kw,n.control=Or,n.divIcon=zw,n.extend=s,n.featureGroup=xw,n.geoJSON=fd,n.geoJson=Mw,n.gridLayer=Fw,n.icon=Tw,n.imageOverlay=Rw,n.latLng=K,n.latLngBounds=he,n.layerGroup=Sw,n.map=aw,n.marker=Pw,n.point=A,n.polygon=Nw,n.polyline=Lw,n.popup=Dw,n.rectangle=Uw,n.setOptions=k,n.stamp=f,n.svg=wd,n.svgOverlay=Aw,n.tileLayer=md,n.tooltip=bw,n.transformation=Tr,n.version=r,n.videoOverlay=Ow;var Zw=window.L;n.noConflict=function(){return window.L=Zw,this},window.L=n})})(Ec,Ec.exports);var $s=Ec.exports;const ME=O_($s);function Uh(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Hh(t,e){return e==null?function(r,s){const a=$.useRef();return a.current||(a.current=t(r,s)),a}:function(r,s){const a=$.useRef();a.current||(a.current=t(r,s));const u=$.useRef(r),{instance:h}=a.current;return $.useEffect(function(){u.current!==r&&(e(h,r,u.current),u.current=r)},[h,r,s]),a}}function RE(t,e){$.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Qg(t){return function(n){const r=Bh(),s=t(Wh(n,r),r);return Gg(r.map,n.attribution),qg(s.current,n.eventHandlers),RE(s.current,r),s}}function OE(t,e){const n=Hh(t,e),r=Qg(n);return kE(r)}function AE(t,e){const n=Hh(t),r=NE(n,e);return IE(r)}function DE(t,e){const n=Hh(t,e),r=Qg(n);return LE(r)}function bE(t,e,n){const{opacity:r,zIndex:s}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),s!=null&&s!==n.zIndex&&t.setZIndex(s)}function zE(){return Bh().map}function Sc(){return Sc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sc.apply(this,arguments)}function FE({bounds:t,boundsOptions:e,center:n,children:r,className:s,id:a,placeholder:u,style:h,whenReady:f,zoom:p,...v},m){const[g]=$.useState({className:s,id:a,style:h}),[x,P]=$.useState(null);$.useImperativeHandle(m,()=>(x==null?void 0:x.map)??null,[x]);const k=$.useCallback(E=>{if(E!==null&&x===null){const w=new $s.Map(E,v);n!=null&&p!=null?w.setView(n,p):t!=null&&w.fitBounds(t,e),f!=null&&w.whenReady(f),P(TE(w))}},[]);$.useEffect(()=>()=>{x==null||x.map.remove()},[x]);const H=x?Xo.createElement(Yg,{value:x},r):u??null;return Xo.createElement("div",Sc({},g,{ref:k}),H)}const BE=$.forwardRef(FE),WE=OE(function({position:e,...n},r){const s=new $s.Marker(e,n);return Uh(s,PE(r,{overlayContainer:s}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),UE=AE(function(e,n){const r=new $s.Popup(e,n.overlayContainer);return Uh(r,n)},function(e,n,{position:r},s){$.useEffect(function(){const{instance:u}=e;function h(p){p.popup===u&&(u.update(),s(!0))}function f(p){p.popup===u&&s(!1)}return n.map.on({popupopen:h,popupclose:f}),n.overlayContainer==null?(r!=null&&u.setLatLng(r),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){var v;n.map.off({popupopen:h,popupclose:f}),(v=n.overlayContainer)==null||v.unbindPopup(),n.map.removeLayer(u)}},[e,n,s,r])}),HE=DE(function({url:e,...n},r){const s=new $s.TileLayer(e,Wh(n,r));return Uh(s,r)},function(e,n,r){bE(e,n,r);const{url:s}=n;s!=null&&s!==r.url&&e.setUrl(s)});var Up={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t,e){if(!t)throw Er(e)},Er=function(t){return new Error("Firebase Database ("+Xg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ZE=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],u=t[n++],h=t[n++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Zh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],u=s+1<t.length,h=u?t[s+1]:0,f=s+2<t.length,p=f?t[s+2]:0,v=a>>2,m=(a&3)<<4|h>>4;let g=(h&15)<<2|p>>6,x=p&63;f||(x=64,u||(g=64)),r.push(n[v],n[m],n[g],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Jg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||h==null||p==null||m==null)throw new jE;const g=a<<2|h>>4;if(r.push(g),p!==64){const x=h<<4&240|p>>2;if(r.push(x),m!==64){const P=p<<6&192|m;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ev=function(t){const e=Jg(t);return Zh.encodeByteArray(e,!0)},Sa=function(t){return ev(t).replace(/\./g,"")},xc=function(t){try{return Zh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t){return tv(void 0,t)}function tv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!$E(n)||(t[n]=tv(t[n],e[n]));return t}function $E(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=()=>GE().__FIREBASE_DEFAULTS__,YE=()=>{if(typeof process>"u"||typeof Up>"u")return;const t=Up.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xc(t[1]);return e&&JSON.parse(e)},nv=()=>{try{return KE()||YE()||qE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QE=t=>{var e,n;return(n=(e=nv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},XE=t=>{const e=QE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iv=()=>{var t;return(t=nv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sa(JSON.stringify(n)),Sa(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(eS())}function tS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nS(){return Xg.NODE_ADMIN===!0}function iS(){try{return typeof indexedDB=="object"}catch{return!1}}function rS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="FirebaseError";class Gs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sS,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sv.prototype.create)}}class sv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?oS(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Gs(s,h,r)}}function oS(t,e){return t.replace(aS,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const aS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t){return JSON.parse(t)}function Ze(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=function(t){let e={},n={},r={},s="";try{const a=t.split(".");e=Rs(xc(a[0])||""),n=Rs(xc(a[1])||""),s=a[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},lS=function(t){const e=ov(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},uS=function(t){const e=ov(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _r(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Hp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xa(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Tc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],u=e[s];if(Zp(a)&&Zp(u)){if(!Tc(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Zp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)r[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)r[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const g=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(g<<1|g>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],h=this.chain_[3],f=this.chain_[4],p,v;for(let m=0;m<80;m++){m<40?m<20?(p=h^a&(u^h),v=1518500249):(p=a^u^h,v=1859775393):m<60?(p=a&u|h&(a|u),v=2400959708):(p=a^u^h,v=3395469782);const g=(s<<5|s>>>27)+p+f+v+r[m]&4294967295;f=h,h=u,u=(a<<30|a>>>2)&4294967295,a=s,s=g}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const a=this.buf_;let u=this.inbuf_;for(;s<n;){if(u===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(a[u]=e.charCodeAt(s),++u,++s,u===this.blockSize){this.compress_(a),u=0;break}}else for(;s<n;)if(a[u]=e[s],++u,++s,u===this.blockSize){this.compress_(a),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let a=24;a>=0;a-=8)e[r]=this.chain_[s]>>a&255,++r;return e}}function av(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const a=s-55296;r++,O(r<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(r)-56320;s=65536+(a<<10)+u}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},nl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){return t&&t._delegate?t._delegate:t}class Os{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_S(e))try{this.getOrInitializeService({instanceIdentifier:oi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oi){return this.instances.has(e)}getOptions(e=oi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oi){return this.component?this.component.multipleInstances?e:oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pS(t){return t===oi?void 0:t}function _S(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const gS={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},vS=_e.INFO,yS={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},wS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=yS[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lv{constructor(e){this.name=e,this._logLevel=vS,this._logHandler=wS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const CS=(t,e)=>e.some(n=>t instanceof n);let jp,Vp;function ES(){return jp||(jp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SS(){return Vp||(Vp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uv=new WeakMap,Pc=new WeakMap,cv=new WeakMap,vu=new WeakMap,Vh=new WeakMap;function xS(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Un(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&uv.set(n,t)}).catch(()=>{}),Vh.set(e,t),e}function TS(t){if(Pc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Pc.set(t,e)}let kc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PS(t){kc=t(kc)}function kS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yu(this),e,...n);return cv.set(r,e.sort?e.sort():[e]),Un(r)}:SS().includes(t)?function(...e){return t.apply(yu(this),e),Un(uv.get(this))}:function(...e){return Un(t.apply(yu(this),e))}}function IS(t){return typeof t=="function"?kS(t):(t instanceof IDBTransaction&&TS(t),CS(t,ES())?new Proxy(t,kc):t)}function Un(t){if(t instanceof IDBRequest)return xS(t);if(vu.has(t))return vu.get(t);const e=IS(t);return e!==t&&(vu.set(t,e),Vh.set(e,t)),e}const yu=t=>Vh.get(t);function LS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),h=Un(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Un(u.result),f.oldVersion,f.newVersion,Un(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const NS=["get","getKey","getAll","getAllKeys","count"],MS=["put","add","delete","clear"],wu=new Map;function $p(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wu.get(e))return wu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=MS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||NS.includes(n)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),s&&f.done]))[0]};return wu.set(e,a),a}PS(t=>({...t,get:(e,n,r)=>$p(e,n)||t.get(e,n,r),has:(e,n)=>!!$p(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ic="@firebase/app",Gp="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn=new lv("@firebase/app"),AS="@firebase/app-compat",DS="@firebase/analytics-compat",bS="@firebase/analytics",zS="@firebase/app-check-compat",FS="@firebase/app-check",BS="@firebase/auth",WS="@firebase/auth-compat",US="@firebase/database",HS="@firebase/data-connect",ZS="@firebase/database-compat",jS="@firebase/functions",VS="@firebase/functions-compat",$S="@firebase/installations",GS="@firebase/installations-compat",KS="@firebase/messaging",YS="@firebase/messaging-compat",qS="@firebase/performance",QS="@firebase/performance-compat",XS="@firebase/remote-config",JS="@firebase/remote-config-compat",ex="@firebase/storage",tx="@firebase/storage-compat",nx="@firebase/firestore",ix="@firebase/vertexai-preview",rx="@firebase/firestore-compat",sx="firebase",ox="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc="[DEFAULT]",ax={[Ic]:"fire-core",[AS]:"fire-core-compat",[bS]:"fire-analytics",[DS]:"fire-analytics-compat",[FS]:"fire-app-check",[zS]:"fire-app-check-compat",[BS]:"fire-auth",[WS]:"fire-auth-compat",[US]:"fire-rtdb",[HS]:"fire-data-connect",[ZS]:"fire-rtdb-compat",[jS]:"fire-fn",[VS]:"fire-fn-compat",[$S]:"fire-iid",[GS]:"fire-iid-compat",[KS]:"fire-fcm",[YS]:"fire-fcm-compat",[qS]:"fire-perf",[QS]:"fire-perf-compat",[XS]:"fire-rc",[JS]:"fire-rc-compat",[ex]:"fire-gcs",[tx]:"fire-gcs-compat",[nx]:"fire-fst",[rx]:"fire-fst-compat",[ix]:"fire-vertex","fire-js":"fire-js",[sx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new Map,lx=new Map,Nc=new Map;function Kp(t,e){try{t.container.addComponent(e)}catch(n){yn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pa(t){const e=t.name;if(Nc.has(e))return yn.debug(`There were multiple attempts to register component ${e}.`),!1;Nc.set(e,t);for(const n of Ta.values())Kp(n,t);for(const n of lx.values())Kp(n,t);return!0}function ux(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hn=new sv("app","Firebase",cx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=ox;function hv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lc,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Hn.create("bad-app-name",{appName:String(s)});if(n||(n=iv()),!n)throw Hn.create("no-options");const a=Ta.get(s);if(a){if(Tc(n,a.options)&&Tc(r,a.config))return a;throw Hn.create("duplicate-app",{appName:s})}const u=new mS(s);for(const f of Nc.values())u.addComponent(f);const h=new hx(n,r,u);return Ta.set(s,h),h}function dx(t=Lc){const e=Ta.get(t);if(!e&&t===Lc&&iv())return hv();if(!e)throw Hn.create("no-app",{appName:t});return e}function rr(t,e,n){var r;let s=(r=ax[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yn.warn(h.join(" "));return}Pa(new Os(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="firebase-heartbeat-database",_x=1,As="firebase-heartbeat-store";let Cu=null;function fv(){return Cu||(Cu=LS(px,_x,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(As)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hn.create("idb-open",{originalErrorMessage:t.message})})),Cu}async function mx(t){try{const n=(await fv()).transaction(As),r=await n.objectStore(As).get(dv(t));return await n.done,r}catch(e){if(e instanceof Gs)yn.warn(e.message);else{const n=Hn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yn.warn(n.message)}}}async function Yp(t,e){try{const r=(await fv()).transaction(As,"readwrite");await r.objectStore(As).put(e,dv(t)),await r.done}catch(n){if(n instanceof Gs)yn.warn(n.message);else{const r=Hn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yn.warn(r.message)}}}function dv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=1024,vx=30*24*60*60*1e3;class yx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Cx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=qp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=vx}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qp(),{heartbeatsToSend:r,unsentEntries:s}=wx(this._heartbeatsCache.heartbeats),a=Sa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return yn.warn(n),""}}}function qp(){return new Date().toISOString().substring(0,10)}function wx(t,e=gx){const n=[];let r=t.slice();for(const s of t){const a=n.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),Qp(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Qp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Cx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iS()?rS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Yp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Yp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Qp(t){return Sa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t){Pa(new Os("platform-logger",e=>new RS(e),"PRIVATE")),Pa(new Os("heartbeat",e=>new yx(e),"PRIVATE")),rr(Ic,Gp,t),rr(Ic,Gp,"esm2017"),rr("fire-js","")}Ex("");var Sx="firebase",xx="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(Sx,xx,"app");var Xp={};const Jp="@firebase/database",e_="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pv="";function Tx(t){pv=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ze(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Rs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return En(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Px(e)}}catch{}return new kx},hi=_v("localStorage"),Ix=_v("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new lv("@firebase/database"),Lx=function(){let t=1;return function(){return t++}}(),mv=function(t){const e=fS(t),n=new hS;n.update(e);const r=n.digest();return Zh.encodeByteArray(r)},Ks=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ks.apply(null,r):typeof r=="object"?e+=Ze(r):e+=r,e+=" "}return e};let cs=null,t_=!0;const Nx=function(t,e){O(!0,"Can't turn on custom loggers persistently."),sr.logLevel=_e.VERBOSE,cs=sr.log.bind(sr)},Je=function(...t){if(t_===!0&&(t_=!1,cs===null&&Ix.get("logging_enabled")===!0&&Nx()),cs){const e=Ks.apply(null,t);cs(e)}},Ys=function(t){return function(...e){Je(t,...e)}},Mc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ks(...t);sr.error(e)},wn=function(...t){const e=`FIREBASE FATAL ERROR: ${Ks(...t)}`;throw sr.error(e),new Error(e)},wt=function(...t){const e="FIREBASE WARNING: "+Ks(...t);sr.warn(e)},Mx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},gv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Rx=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},mr="[MIN_NAME]",yi="[MAX_NAME]",Sr=function(t,e){if(t===e)return 0;if(t===mr||e===yi)return-1;if(e===mr||t===yi)return 1;{const n=n_(t),r=n_(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Ox=function(t,e){return t===e?0:t<e?-1:1},Gr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ze(e))},$h=function(t){if(typeof t!="object"||t===null)return Ze(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ze(e[r]),n+=":",n+=$h(t[e[r]]);return n+="}",n},vv=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const yv=function(t){O(!gv(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,a,u,h,f;t===0?(a=0,u=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),a=h+r,u=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(a=0,u=Math.round(t/Math.pow(2,1-r-n))));const p=[];for(f=n;f;f-=1)p.push(u%2?1:0),u=Math.floor(u/2);for(f=e;f;f-=1)p.push(a%2?1:0),a=Math.floor(a/2);p.push(s?1:0),p.reverse();const v=p.join("");let m="";for(f=0;f<64;f+=8){let g=parseInt(v.substr(f,8),2).toString(16);g.length===1&&(g="0"+g),m=m+g}return m.toLowerCase()},Ax=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Dx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function bx(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const zx=new RegExp("^-?(0*)\\d{1,10}$"),Fx=-2147483648,Bx=2147483647,n_=function(t){if(zx.test(t)){const e=Number(t);if(e>=Fx&&e<=Bx)return e}return null},qs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Wx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},hs=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){wt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wt(e)}}class Qo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Qo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="5",wv="v",Cv="s",Ev="r",Sv="f",xv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Tv="ls",Pv="p",Rc="ac",kv="websocket",Iv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n,r,s,a=!1,u="",h=!1,f=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&hi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Zx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Nv(t,e,n){O(typeof e=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let r;if(e===kv)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Iv)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Zx(t)&&(n.ns=t.namespace);const s=[];return mt(n,(a,u)=>{s.push(a+"="+u)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.counters_={}}incrementCounter(e,n=1){En(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return VE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu={},Su={};function Kh(t){const e=t.toString();return Eu[e]||(Eu[e]=new jx),Eu[e]}function Vx(t,e){const n=t.toString();return Su[n]||(Su[n]=e()),Su[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&qs(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="start",Gx="close",Kx="pLPCommand",Yx="pRTLPCB",Mv="id",Rv="pw",Ov="ser",qx="cb",Qx="seg",Xx="ts",Jx="d",eT="dframe",Av=1870,Dv=30,tT=Av-Dv,nT=25e3,iT=3e4;class qi{constructor(e,n,r,s,a,u,h){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ys(e),this.stats_=Kh(n),this.urlFn=f=>(this.appCheckToken&&(f[Rc]=this.appCheckToken),Nv(n,Iv,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new $x(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(iT)),Rx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Yh((...a)=>{const[u,h,f,p,v]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===i_)this.id=h,this.password=f;else if(u===Gx)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...a)=>{const[u,h]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[i_]="t",r[Ov]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[qx]=this.scriptTagHolder.uniqueCallbackIdentifier),r[wv]=Gh,this.transportSessionId&&(r[Cv]=this.transportSessionId),this.lastSessionId&&(r[Tv]=this.lastSessionId),this.applicationId&&(r[Pv]=this.applicationId),this.appCheckToken&&(r[Rc]=this.appCheckToken),typeof location<"u"&&location.hostname&&xv.test(location.hostname)&&(r[Ev]=Sv);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qi.forceAllow_=!0}static forceDisallow(){qi.forceDisallow_=!0}static isAvailable(){return qi.forceAllow_?!0:!qi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ax()&&!Dx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ev(n),s=vv(r,tT);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[eT]="t",r[Mv]=e,r[Rv]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ze(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Yh{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Lx(),window[Kx+this.uniqueCallbackIdentifier]=e,window[Yx+this.uniqueCallbackIdentifier]=n,this.myIFrame=Yh.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){Je("frame writing exception"),h.stack&&Je(h.stack),Je(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Je("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Mv]=this.myID,e[Rv]=this.myPW,e[Ov]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Dv+r.length<=Av;){const u=this.pendingSegs.shift();r=r+"&"+Qx+s+"="+u.seg+"&"+Xx+s+"="+u.ts+"&"+Jx+s+"="+u.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(nT)),a=()=>{clearTimeout(s),r()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Je("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=16384,sT=45e3;let ka=null;typeof MozWebSocket<"u"?ka=MozWebSocket:typeof WebSocket<"u"&&(ka=WebSocket);class Wt{constructor(e,n,r,s,a,u,h){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ys(this.connId),this.stats_=Kh(n),this.connURL=Wt.connectionURL_(n,u,h,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,a){const u={};return u[wv]=Gh,typeof location<"u"&&location.hostname&&xv.test(location.hostname)&&(u[Ev]=Sv),n&&(u[Cv]=n),r&&(u[Tv]=r),s&&(u[Rc]=s),a&&(u[Pv]=a),Nv(e,kv,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hi.set("previous_websocket_failure",!0);try{let r;nS(),this.mySock=new ka(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Wt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ka!==null&&!Wt.forceDisallow_}static previouslyFailed(){return hi.isInMemoryStorage||hi.get("previous_websocket_failure")===!0}markConnectionHealthy(){hi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Rs(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(O(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=vv(n,rT);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(sT))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Wt.responsesRequiredToBeHealthy=2;Wt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[qi,Wt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Wt&&Wt.isAvailable();let r=n&&!Wt.previouslyFailed();if(e.webSocketOnly&&(n||wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Wt];else{const s=this.transports_=[];for(const a of Ds.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);Ds.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ds.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=6e4,aT=5e3,lT=10*1024,uT=100*1024,xu="t",r_="d",cT="s",s_="r",hT="e",o_="o",a_="a",l_="n",u_="p",fT="h";class dT{constructor(e,n,r,s,a,u,h,f,p,v){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=f,this.onKill_=p,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ys("c:"+this.id+":"),this.transportManager_=new Ds(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=hs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>uT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>lT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(xu in e){const n=e[xu];n===a_?this.upgradeIfSecondaryHealthy_():n===s_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===o_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Gr("t",e),r=Gr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:u_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:a_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:l_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Gr("t",e),r=Gr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Gr(xu,e);if(r_ in e){const r=e[r_];if(n===fT){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===l_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===cT?this.onConnectionShutdown_(r):n===s_?this.onReset_(r):n===hT?Mc("Server Error: "+r):n===o_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Mc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Gh!==r&&wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),hs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(oT))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(aT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:u_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let a=0;a<s.length;a++)if(s[a].callback===n&&(!r||r===s[a].context)){s.splice(a,1);return}}validateEventType_(e){O(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends zv{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!rv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ia}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=32,h_=768;class fe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ue(){return new fe("")}function te(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function $n(t){return t.pieces_.length-t.pieceNum_}function me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new fe(t.pieces_,e)}function Fv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function pT(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Bv(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Wv(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new fe(e,0)}function be(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof fe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new fe(n,0)}function ne(t){return t.pieceNum_>=t.pieces_.length}function ht(t,e){const n=te(t),r=te(e);if(n===null)return e;if(n===r)return ht(me(t),me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function qh(t,e){if($n(t)!==$n(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ut(t,e){let n=t.pieceNum_,r=e.pieceNum_;if($n(t)>$n(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class _T{constructor(e,n){this.errorPrefix_=n,this.parts_=Bv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=nl(this.parts_[r]);Uv(this)}}function mT(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=nl(e),Uv(t)}function gT(t){const e=t.parts_.pop();t.byteLength_-=nl(e),t.parts_.length>0&&(t.byteLength_-=1)}function Uv(t){if(t.byteLength_>h_)throw new Error(t.errorPrefix_+"has a key path longer than "+h_+" bytes ("+t.byteLength_+").");if(t.parts_.length>c_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+c_+") or object contains a cycle "+ai(t))}function ai(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends zv{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Qh}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=1e3,vT=60*5*1e3,f_=30*1e3,yT=1.3,wT=3e4,CT="server_kill",d_=3;class pn extends bv{constructor(e,n,r,s,a,u,h,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=f,this.id=pn.nextPersistentConnectionId_++,this.log_=Ys("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Kr,this.maxReconnectDelay_=vT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Qh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ia.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,a={r:s,a:e,b:n};this.log_(Ze(a)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new jh,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const h=u.d;u.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,r,s){this.initConnection_();const a=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");const h={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(u).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const a={p:r},u="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(u,a,h=>{const f=h.d,p=h.s;pn.warnOnListenWarnings_(f,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(p,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&En(e,"w")){const r=_r(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||uS(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=f_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=lS(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const a=s.s,u=s.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const a={p:e},u="n";s&&(a.q=r,a.t=s),this.sendRequest(u,a)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const a={p:n,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,u=>{s&&setTimeout(()=>{s(u.s,u.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,a){this.initConnection_();const u={p:n,d:r};a!==void 0&&(u.h=a),this.outstandingPuts_.push({action:e,request:u,onComplete:s}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ze(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Mc("Unrecognized action received from server: "+Ze(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Kr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Kr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>wT&&(this.reconnectDelay_=Kr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*yT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+pn.nextConnectionId_++,a=this.lastSessionId;let u=!1,h=null;const f=function(){h?h.close():(u=!0,r())},p=function(m){O(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(m)};this.realtime_={close:f,sendRequest:p};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,g]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);u?Je("getToken() completed but was canceled"):(Je("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,h=new dT(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,x=>{wt(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(CT)},a))}catch(m){this.log_("Failed to get token: "+m),u||(this.repoInfo_.nodeAdmin&&wt(m),f())}}}interrupt(e){Je("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Je("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Hp(this.interruptReasons_)&&(this.reconnectDelay_=Kr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(a=>$h(a)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new fe(e).toString();let s;if(this.listens.has(r)){const a=this.listens.get(r);s=a.get(n),a.delete(n),a.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Je("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=d_&&(this.reconnectDelay_=f_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Je("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=d_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+pv.replace(/\./g,"-")]=1,rv()?e["framework.cordova"]=1:tS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ia.getInstance().currentlyOnline();return Hp(this.interruptReasons_)&&e}}pn.nextPersistentConnectionId_=0;pn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ee(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ee(mr,e),s=new ee(mr,n);return this.compare(r,s)!==0}minPost(){return ee.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo;class Hv extends rl{static get __EMPTY_NODE(){return zo}static set __EMPTY_NODE(e){zo=e}compare(e,n){return Sr(e.name,n.name)}isDefinedOn(e){throw Er("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ee.MIN}maxPost(){return new ee(yi,zo)}makePost(e,n){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new ee(e,zo)}toString(){return".key"}}const or=new Hv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n,r,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?r(e.key,n):1,s&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class He{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??He.RED,this.left=s??ft.EMPTY_NODE,this.right=a??ft.EMPTY_NODE}copy(e,n,r,s,a){return new He(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ft.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ft.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}He.RED=!0;He.BLACK=!1;class ET{copy(e,n,r,s,a){return this}insert(e,n,r){return new He(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ft{constructor(e,n=ft.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ft(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,He.BLACK,null,null))}remove(e){return new ft(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,He.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Fo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Fo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Fo(this.root_,null,this.comparator_,!0,e)}}ft.EMPTY_NODE=new ET;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(t,e){return Sr(t.name,e.name)}function Xh(t,e){return Sr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc;function xT(t){Oc=t}const Zv=function(t){return typeof t=="number"?"number:"+yv(t):"string:"+t},jv=function(t){if(t.isLeafNode()){const e=t.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&En(e,".sv"),"Priority must be a string or number.")}else O(t===Oc||t.isEmpty(),"priority of unexpected type.");O(t===Oc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p_;class We{constructor(e,n=We.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jv(this.priorityNode_)}static set __childrenNodeConstructor(e){p_=e}static get __childrenNodeConstructor(){return p_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new We(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ne(e)?this:te(e)===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:We.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=te(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(O(r!==".priority"||$n(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,We.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Zv(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=yv(this.value_):e+=this.value_,this.lazyHash_=mv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===We.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof We.__childrenNodeConstructor?-1:(O(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=We.VALUE_TYPE_ORDER.indexOf(n),a=We.VALUE_TYPE_ORDER.indexOf(r);return O(s>=0,"Unknown leaf type: "+n),O(a>=0,"Unknown leaf type: "+r),s===a?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}We.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vv,$v;function TT(t){Vv=t}function PT(t){$v=t}class kT extends rl{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),a=r.compareTo(s);return a===0?Sr(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(yi,new We("[PRIORITY-POST]",$v))}makePost(e,n){const r=Vv(e);return new ee(n,new We("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ie=new kT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=Math.log(2);class LT{constructor(e){const n=a=>parseInt(Math.log(a)/IT,10),r=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const La=function(t,e,n,r){t.sort(e);const s=function(f,p){const v=p-f;let m,g;if(v===0)return null;if(v===1)return m=t[f],g=n?n(m):m,new He(g,m.node,He.BLACK,null,null);{const x=parseInt(v/2,10)+f,P=s(f,x),k=s(x+1,p);return m=t[x],g=n?n(m):m,new He(g,m.node,He.BLACK,P,k)}},a=function(f){let p=null,v=null,m=t.length;const g=function(P,k){const H=m-P,E=m;m-=P;const w=s(H+1,E),C=t[H],I=n?n(C):C;x(new He(I,C.node,k,null,w))},x=function(P){p?(p.left=P,p=P):(v=P,p=P)};for(let P=0;P<f.count;++P){const k=f.nextBitIsOne(),H=Math.pow(2,f.count-(P+1));k?g(H,He.BLACK):(g(H,He.BLACK),g(H,He.RED))}return v},u=new LT(t.length),h=a(u);return new ft(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu;const zi={};class fn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return O(zi&&Ie,"ChildrenNode.ts has not been loaded"),Tu=Tu||new fn({".priority":zi},{".priority":Ie}),Tu}get(e){const n=_r(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ft?n:null}hasIndex(e){return En(this.indexSet_,e.toString())}addIndex(e,n){O(e!==or,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const a=n.getIterator(ee.Wrap);let u=a.getNext();for(;u;)s=s||e.isDefinedOn(u.node),r.push(u),u=a.getNext();let h;s?h=La(r,e.getCompare()):h=zi;const f=e.toString(),p=Object.assign({},this.indexSet_);p[f]=e;const v=Object.assign({},this.indexes_);return v[f]=h,new fn(v,p)}addToIndexes(e,n){const r=xa(this.indexes_,(s,a)=>{const u=_r(this.indexSet_,a);if(O(u,"Missing index implementation for "+a),s===zi)if(u.isDefinedOn(e.node)){const h=[],f=n.getIterator(ee.Wrap);let p=f.getNext();for(;p;)p.name!==e.name&&h.push(p),p=f.getNext();return h.push(e),La(h,u.getCompare())}else return zi;else{const h=n.get(e.name);let f=s;return h&&(f=f.remove(new ee(e.name,h))),f.insert(e,e.node)}});return new fn(r,this.indexSet_)}removeFromIndexes(e,n){const r=xa(this.indexes_,s=>{if(s===zi)return s;{const a=n.get(e.name);return a?s.remove(new ee(e.name,a)):s}});return new fn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yr;class j{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&jv(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Yr||(Yr=new j(new ft(Xh),null,fn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Yr}updatePriority(e){return this.children_.isEmpty()?this:new j(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Yr:n}}getChild(e){const n=te(e);return n===null?this:this.getImmediateChild(n).getChild(me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(O(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ee(e,n);let s,a;n.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));const u=s.isEmpty()?Yr:this.priorityNode_;return new j(s,u,a)}}updateChild(e,n){const r=te(e);if(r===null)return n;{O(te(e)!==".priority"||$n(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(me(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,a=!0;if(this.forEachChild(Ie,(u,h)=>{n[u]=h.val(e),r++,a&&j.INTEGER_REGEXP_.test(u)?s=Math.max(s,Number(u)):a=!1}),!e&&a&&s<2*r){const u=[];for(const h in n)u[h]=n[h];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Zv(this.getPriority().val())+":"),this.forEachChild(Ie,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":mv(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const a=s.getPredecessorKey(new ee(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ee(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ee(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ee.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ee.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Qs?-1:0}withIndex(e){if(e===or||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new j(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===or||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ie),s=n.getIterator(Ie);let a=r.getNext(),u=s.getNext();for(;a&&u;){if(a.name!==u.name||!a.node.equals(u.node))return!1;a=r.getNext(),u=s.getNext()}return a===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===or?null:this.indexMap_.get(e.toString())}}j.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class NT extends j{constructor(){super(new ft(Xh),j.EMPTY_NODE,fn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return j.EMPTY_NODE}isEmpty(){return!1}}const Qs=new NT;Object.defineProperties(ee,{MIN:{value:new ee(mr,j.EMPTY_NODE)},MAX:{value:new ee(yi,Qs)}});Hv.__EMPTY_NODE=j.EMPTY_NODE;We.__childrenNodeConstructor=j;xT(Qs);PT(Qs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=!0;function et(t,e=null){if(t===null)return j.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new We(n,et(e))}if(!(t instanceof Array)&&MT){const n=[];let r=!1;if(mt(t,(u,h)=>{if(u.substring(0,1)!=="."){const f=et(h);f.isEmpty()||(r=r||!f.getPriority().isEmpty(),n.push(new ee(u,f)))}}),n.length===0)return j.EMPTY_NODE;const a=La(n,ST,u=>u.name,Xh);if(r){const u=La(n,Ie.getCompare());return new j(a,et(e),new fn({".priority":u},{".priority":Ie}))}else return new j(a,et(e),fn.Default)}else{let n=j.EMPTY_NODE;return mt(t,(r,s)=>{if(En(t,r)&&r.substring(0,1)!=="."){const a=et(s);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(r,a))}}),n.updatePriority(et(e))}}TT(et);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT extends rl{constructor(e){super(),this.indexPath_=e,O(!ne(e)&&te(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),a=r.compareTo(s);return a===0?Sr(e.name,n.name):a}makePost(e,n){const r=et(e),s=j.EMPTY_NODE.updateChild(this.indexPath_,r);return new ee(n,s)}maxPost(){const e=j.EMPTY_NODE.updateChild(this.indexPath_,Qs);return new ee(yi,e)}toString(){return Bv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT extends rl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Sr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(e,n){const r=et(e);return new ee(n,r)}toString(){return".value"}}const AT=new OT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t){return{type:"value",snapshotNode:t}}function gr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function bs(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function zs(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function DT(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.index_=e}updateChild(e,n,r,s,a,u){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(s).equals(r.getChild(s))&&h.isEmpty()===r.isEmpty()||(u!=null&&(r.isEmpty()?e.hasChild(n)?u.trackChildChange(bs(n,h)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(gr(n,r)):u.trackChildChange(zs(n,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ie,(s,a)=>{n.hasChild(s)||r.trackChildChange(bs(s,a))}),n.isLeafNode()||n.forEachChild(Ie,(s,a)=>{if(e.hasChild(s)){const u=e.getImmediateChild(s);u.equals(a)||r.trackChildChange(zs(s,a,u))}else r.trackChildChange(gr(s,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?j.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.indexedFilter_=new Jh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Fs.getStartPost_(e),this.endPost_=Fs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,a,u){return this.matches(new ee(n,r))||(r=j.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,a,u)}updateFullNode(e,n,r){n.isLeafNode()&&(n=j.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(j.EMPTY_NODE);const a=this;return n.forEachChild(Ie,(u,h)=>{a.matches(new ee(u,h))||(s=s.updateImmediateChild(u,j.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Fs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,a,u){return this.rangedFilter_.matches(new ee(n,r))||(r=j.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,a,u):this.fullLimitUpdateChild_(e,n,r,a,u)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=j.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=j.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;a.hasNext()&&u<this.limit_;){const h=a.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))s=s.updateImmediateChild(h.name,h.node),u++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(j.EMPTY_NODE);let a;this.reverse_?a=s.getReverseIterator(this.index_):a=s.getIterator(this.index_);let u=0;for(;a.hasNext();){const h=a.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:s=s.updateImmediateChild(h.name,j.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,a){let u;if(this.reverse_){const m=this.index_.getCompare();u=(g,x)=>m(x,g)}else u=this.index_.getCompare();const h=e;O(h.numChildren()===this.limit_,"");const f=new ee(n,r),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),v=this.rangedFilter_.matches(f);if(h.hasChild(n)){const m=h.getImmediateChild(n);let g=s.getChildAfterChild(this.index_,p,this.reverse_);for(;g!=null&&(g.name===n||h.hasChild(g.name));)g=s.getChildAfterChild(this.index_,g,this.reverse_);const x=g==null?1:u(g,f);if(v&&!r.isEmpty()&&x>=0)return a!=null&&a.trackChildChange(zs(n,r,m)),h.updateImmediateChild(n,r);{a!=null&&a.trackChildChange(bs(n,m));const k=h.updateImmediateChild(n,j.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(a!=null&&a.trackChildChange(gr(g.name,g.node)),k.updateImmediateChild(g.name,g.node)):k}}else return r.isEmpty()?e:v&&u(p,f)>=0?(a!=null&&(a.trackChildChange(bs(p.name,p.node)),a.trackChildChange(gr(n,r))),h.updateImmediateChild(n,r).updateImmediateChild(p.name,j.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mr}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ie}copy(){const e=new ef;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function zT(t){return t.loadsAllData()?new Jh(t.getIndex()):t.hasLimit()?new bT(t):new Fs(t)}function __(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ie?n="$priority":t.index_===AT?n="$value":t.index_===or?n="$key":(O(t.index_ instanceof RT,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ze(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ze(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ze(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ze(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ze(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function m_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ie&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends bv{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Ys("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const u=Na.getListenId_(e,r),h={};this.listens_[u]=h;const f=__(e._queryParams);this.restRequest_(a+".json",f,(p,v)=>{let m=v;if(p===404&&(m=null,p=null),p===null&&this.onDataUpdate_(a,m,!1,r),_r(this.listens_,u)===h){let g;p?p===401?g="permission_denied":g="rest_error:"+p:g="ok",s(g,null)}})}unlisten(e,n){const r=Na.getListenId_(e,n);delete this.listens_[r]}get(e){const n=__(e._queryParams),r=e._path.toString(),s=new jh;return this.restRequest_(r+".json",n,(a,u)=>{let h=u;a===404&&(h=null,a=null),a===null?(this.onDataUpdate_(r,h,!1,null),s.resolve(h)):s.reject(new Error(h))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(n.auth=s.accessToken),a&&a.token&&(n.ac=a.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+cS(n);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let f=null;if(h.status>=200&&h.status<300){try{f=Rs(h.responseText)}catch{wt("Failed to parse JSON response for "+u+": "+h.responseText)}r(null,f)}else h.status!==401&&h.status!==404&&wt("Got unsuccessful REST response for "+u+" Status: "+h.status),r(h.status);r=null}},h.open("GET",u,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.rootNode_=j.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(){return{value:null,children:new Map}}function Kv(t,e,n){if(ne(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=te(e);t.children.has(r)||t.children.set(r,Ma());const s=t.children.get(r);e=me(e),Kv(s,e,n)}}function Ac(t,e,n){t.value!==null?n(e,t.value):BT(t,(r,s)=>{const a=new fe(e.toString()+"/"+r);Ac(s,a,n)})}function BT(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&mt(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=10*1e3,UT=30*1e3,HT=5*60*1e3;class ZT{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new WT(e);const r=g_+(UT-g_)*Math.random();hs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;mt(e,(s,a)=>{a>0&&En(this.statsToReport_,s)&&(n[s]=a,r=!0)}),r&&this.server_.reportStats(n),hs(this.reportStats_.bind(this),Math.floor(Math.random()*2*HT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ht||(Ht={}));function Yv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function tf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function nf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ht.ACK_USER_WRITE,this.source=Yv()}operationForChild(e){if(ne(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new fe(e));return new Ra(ue(),n,this.revert)}}else return O(te(this.path)===e,"operationForChild called for unrelated child."),new Ra(me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){this.source=e,this.path=n,this.type=Ht.LISTEN_COMPLETE}operationForChild(e){return ne(this.path)?new Bs(this.source,ue()):new Bs(this.source,me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ht.OVERWRITE}operationForChild(e){return ne(this.path)?new wi(this.source,ue(),this.snap.getImmediateChild(e)):new wi(this.source,me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ht.MERGE}operationForChild(e){if(ne(this.path)){const n=this.children.subtree(new fe(e));return n.isEmpty()?null:n.value?new wi(this.source,ue(),n.value):new Ws(this.source,ue(),n)}else return O(te(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ws(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ne(e))return this.isFullyInitialized()&&!this.filtered_;const n=te(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function VT(t,e,n,r){const s=[],a=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&a.push(DT(u.childName,u.snapshotNode))}),qr(t,s,"child_removed",e,r,n),qr(t,s,"child_added",e,r,n),qr(t,s,"child_moved",a,r,n),qr(t,s,"child_changed",e,r,n),qr(t,s,"value",e,r,n),s}function qr(t,e,n,r,s,a){const u=r.filter(h=>h.type===n);u.sort((h,f)=>GT(t,h,f)),u.forEach(h=>{const f=$T(t,h,a);s.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(f,t.query_))})})}function $T(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function GT(t,e,n){if(e.childName==null||n.childName==null)throw Er("Should only compare child_ events.");const r=new ee(e.childName,e.snapshotNode),s=new ee(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t,e){return{eventCache:t,serverCache:e}}function fs(t,e,n,r){return sl(new Ci(e,n,r),t.serverCache)}function qv(t,e,n,r){return sl(t.eventCache,new Ci(e,n,r))}function Dc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ei(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu;const KT=()=>(Pu||(Pu=new ft(Ox)),Pu);class we{constructor(e,n=KT()){this.value=e,this.children=n}static fromObject(e){let n=new we(null);return mt(e,(r,s)=>{n=n.set(new fe(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ue(),value:this.value};if(ne(e))return null;{const r=te(e),s=this.children.get(r);if(s!==null){const a=s.findRootMostMatchingPathAndValue(me(e),n);return a!=null?{path:be(new fe(r),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ne(e))return this;{const n=te(e),r=this.children.get(n);return r!==null?r.subtree(me(e)):new we(null)}}set(e,n){if(ne(e))return new we(n,this.children);{const r=te(e),a=(this.children.get(r)||new we(null)).set(me(e),n),u=this.children.insert(r,a);return new we(this.value,u)}}remove(e){if(ne(e))return this.children.isEmpty()?new we(null):new we(null,this.children);{const n=te(e),r=this.children.get(n);if(r){const s=r.remove(me(e));let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),this.value===null&&a.isEmpty()?new we(null):new we(this.value,a)}else return this}}get(e){if(ne(e))return this.value;{const n=te(e),r=this.children.get(n);return r?r.get(me(e)):null}}setTree(e,n){if(ne(e))return n;{const r=te(e),a=(this.children.get(r)||new we(null)).setTree(me(e),n);let u;return a.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,a),new we(this.value,u)}}fold(e){return this.fold_(ue(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,a)=>{r[s]=a.fold_(be(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ue(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(ne(e))return null;{const a=te(e),u=this.children.get(a);return u?u.findOnPath_(me(e),be(n,a),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ue(),n)}foreachOnPath_(e,n,r){if(ne(e))return this;{this.value&&r(n,this.value);const s=te(e),a=this.children.get(s);return a?a.foreachOnPath_(me(e),be(n,s),r):new we(null)}}foreach(e){this.foreach_(ue(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(be(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.writeTree_=e}static empty(){return new Vt(new we(null))}}function ds(t,e,n){if(ne(e))return new Vt(new we(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let a=r.value;const u=ht(s,e);return a=a.updateChild(u,n),new Vt(t.writeTree_.set(s,a))}else{const s=new we(n),a=t.writeTree_.setTree(e,s);return new Vt(a)}}}function v_(t,e,n){let r=t;return mt(n,(s,a)=>{r=ds(r,be(e,s),a)}),r}function y_(t,e){if(ne(e))return Vt.empty();{const n=t.writeTree_.setTree(e,new we(null));return new Vt(n)}}function bc(t,e){return Ti(t,e)!=null}function Ti(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ht(n.path,e)):null}function w_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ie,(r,s)=>{e.push(new ee(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ee(r,s.value))}),e}function Zn(t,e){if(ne(e))return t;{const n=Ti(t,e);return n!=null?new Vt(new we(n)):new Vt(t.writeTree_.subtree(e))}}function zc(t){return t.writeTree_.isEmpty()}function vr(t,e){return Qv(ue(),t.writeTree_,e)}function Qv(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,a)=>{s===".priority"?(O(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):n=Qv(be(t,s),a,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(be(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t,e){return ty(e,t)}function YT(t,e,n,r,s){O(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=ds(t.visibleWrites,e,n)),t.lastWriteId=r}function qT(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function QT(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);O(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,a=!1,u=t.allWrites.length-1;for(;s&&u>=0;){const h=t.allWrites[u];h.visible&&(u>=n&&XT(h,r.path)?s=!1:Ut(r.path,h.path)&&(a=!0)),u--}if(s){if(a)return JT(t),!0;if(r.snap)t.visibleWrites=y_(t.visibleWrites,r.path);else{const h=r.children;mt(h,f=>{t.visibleWrites=y_(t.visibleWrites,be(r.path,f))})}return!0}else return!1}function XT(t,e){if(t.snap)return Ut(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ut(be(t.path,n),e))return!0;return!1}function JT(t){t.visibleWrites=Xv(t.allWrites,e1,ue()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function e1(t){return t.visible}function Xv(t,e,n){let r=Vt.empty();for(let s=0;s<t.length;++s){const a=t[s];if(e(a)){const u=a.path;let h;if(a.snap)Ut(n,u)?(h=ht(n,u),r=ds(r,h,a.snap)):Ut(u,n)&&(h=ht(u,n),r=ds(r,ue(),a.snap.getChild(h)));else if(a.children){if(Ut(n,u))h=ht(n,u),r=v_(r,h,a.children);else if(Ut(u,n))if(h=ht(u,n),ne(h))r=v_(r,ue(),a.children);else{const f=_r(a.children,te(h));if(f){const p=f.getChild(me(h));r=ds(r,ue(),p)}}}else throw Er("WriteRecord should have .snap or .children")}}return r}function Jv(t,e,n,r,s){if(!r&&!s){const a=Ti(t.visibleWrites,e);if(a!=null)return a;{const u=Zn(t.visibleWrites,e);if(zc(u))return n;if(n==null&&!bc(u,ue()))return null;{const h=n||j.EMPTY_NODE;return vr(u,h)}}}else{const a=Zn(t.visibleWrites,e);if(!s&&zc(a))return n;if(!s&&n==null&&!bc(a,ue()))return null;{const u=function(p){return(p.visible||s)&&(!r||!~r.indexOf(p.writeId))&&(Ut(p.path,e)||Ut(e,p.path))},h=Xv(t.allWrites,u,e),f=n||j.EMPTY_NODE;return vr(h,f)}}}function t1(t,e,n){let r=j.EMPTY_NODE;const s=Ti(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Ie,(a,u)=>{r=r.updateImmediateChild(a,u)}),r;if(n){const a=Zn(t.visibleWrites,e);return n.forEachChild(Ie,(u,h)=>{const f=vr(Zn(a,new fe(u)),h);r=r.updateImmediateChild(u,f)}),w_(a).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}else{const a=Zn(t.visibleWrites,e);return w_(a).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}}function n1(t,e,n,r,s){O(r||s,"Either existingEventSnap or existingServerSnap must exist");const a=be(e,n);if(bc(t.visibleWrites,a))return null;{const u=Zn(t.visibleWrites,a);return zc(u)?s.getChild(n):vr(u,s.getChild(n))}}function i1(t,e,n,r){const s=be(e,n),a=Ti(t.visibleWrites,s);if(a!=null)return a;if(r.isCompleteForChild(n)){const u=Zn(t.visibleWrites,s);return vr(u,r.getNode().getImmediateChild(n))}else return null}function r1(t,e){return Ti(t.visibleWrites,e)}function s1(t,e,n,r,s,a,u){let h;const f=Zn(t.visibleWrites,e),p=Ti(f,ue());if(p!=null)h=p;else if(n!=null)h=vr(f,n);else return[];if(h=h.withIndex(u),!h.isEmpty()&&!h.isLeafNode()){const v=[],m=u.getCompare(),g=a?h.getReverseIteratorFrom(r,u):h.getIteratorFrom(r,u);let x=g.getNext();for(;x&&v.length<s;)m(x,r)!==0&&v.push(x),x=g.getNext();return v}else return[]}function o1(){return{visibleWrites:Vt.empty(),allWrites:[],lastWriteId:-1}}function Oa(t,e,n,r){return Jv(t.writeTree,t.treePath,e,n,r)}function sf(t,e){return t1(t.writeTree,t.treePath,e)}function C_(t,e,n,r){return n1(t.writeTree,t.treePath,e,n,r)}function Aa(t,e){return r1(t.writeTree,be(t.treePath,e))}function a1(t,e,n,r,s,a){return s1(t.writeTree,t.treePath,e,n,r,s,a)}function of(t,e,n){return i1(t.writeTree,t.treePath,e,n)}function ey(t,e){return ty(be(t.treePath,e),t.writeTree)}function ty(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const a=s.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(r,zs(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(r,bs(r,s.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(r,gr(r,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(r,zs(r,e.snapshotNode,s.oldSnap));else throw Er("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const ny=new u1;class af{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ci(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return of(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ei(this.viewCache_),a=a1(this.writes_,s,n,1,r,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t){return{filter:t}}function h1(t,e){O(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function f1(t,e,n,r,s){const a=new l1;let u,h;if(n.type===Ht.OVERWRITE){const p=n;p.source.fromUser?u=Fc(t,e,p.path,p.snap,r,s,a):(O(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!ne(p.path),u=Da(t,e,p.path,p.snap,r,s,h,a))}else if(n.type===Ht.MERGE){const p=n;p.source.fromUser?u=p1(t,e,p.path,p.children,r,s,a):(O(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),u=Bc(t,e,p.path,p.children,r,s,h,a))}else if(n.type===Ht.ACK_USER_WRITE){const p=n;p.revert?u=g1(t,e,p.path,r,s,a):u=_1(t,e,p.path,p.affectedTree,r,s,a)}else if(n.type===Ht.LISTEN_COMPLETE)u=m1(t,e,n.path,r,a);else throw Er("Unknown operation type: "+n.type);const f=a.getChanges();return d1(e,u,f),{viewCache:u,changes:f}}function d1(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Dc(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Gv(Dc(e)))}}function iy(t,e,n,r,s,a){const u=e.eventCache;if(Aa(r,n)!=null)return e;{let h,f;if(ne(n))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Ei(e),v=p instanceof j?p:j.EMPTY_NODE,m=sf(r,v);h=t.filter.updateFullNode(e.eventCache.getNode(),m,a)}else{const p=Oa(r,Ei(e));h=t.filter.updateFullNode(e.eventCache.getNode(),p,a)}else{const p=te(n);if(p===".priority"){O($n(n)===1,"Can't have a priority with additional path components");const v=u.getNode();f=e.serverCache.getNode();const m=C_(r,n,v,f);m!=null?h=t.filter.updatePriority(v,m):h=u.getNode()}else{const v=me(n);let m;if(u.isCompleteForChild(p)){f=e.serverCache.getNode();const g=C_(r,n,u.getNode(),f);g!=null?m=u.getNode().getImmediateChild(p).updateChild(v,g):m=u.getNode().getImmediateChild(p)}else m=of(r,p,e.serverCache);m!=null?h=t.filter.updateChild(u.getNode(),p,m,v,s,a):h=u.getNode()}}return fs(e,h,u.isFullyInitialized()||ne(n),t.filter.filtersNodes())}}function Da(t,e,n,r,s,a,u,h){const f=e.serverCache;let p;const v=u?t.filter:t.filter.getIndexedFilter();if(ne(n))p=v.updateFullNode(f.getNode(),r,null);else if(v.filtersNodes()&&!f.isFiltered()){const x=f.getNode().updateChild(n,r);p=v.updateFullNode(f.getNode(),x,null)}else{const x=te(n);if(!f.isCompleteForPath(n)&&$n(n)>1)return e;const P=me(n),H=f.getNode().getImmediateChild(x).updateChild(P,r);x===".priority"?p=v.updatePriority(f.getNode(),H):p=v.updateChild(f.getNode(),x,H,P,ny,null)}const m=qv(e,p,f.isFullyInitialized()||ne(n),v.filtersNodes()),g=new af(s,m,a);return iy(t,m,n,s,g,h)}function Fc(t,e,n,r,s,a,u){const h=e.eventCache;let f,p;const v=new af(s,e,a);if(ne(n))p=t.filter.updateFullNode(e.eventCache.getNode(),r,u),f=fs(e,p,!0,t.filter.filtersNodes());else{const m=te(n);if(m===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),r),f=fs(e,p,h.isFullyInitialized(),h.isFiltered());else{const g=me(n),x=h.getNode().getImmediateChild(m);let P;if(ne(g))P=r;else{const k=v.getCompleteChild(m);k!=null?Fv(g)===".priority"&&k.getChild(Wv(g)).isEmpty()?P=k:P=k.updateChild(g,r):P=j.EMPTY_NODE}if(x.equals(P))f=e;else{const k=t.filter.updateChild(h.getNode(),m,P,g,v,u);f=fs(e,k,h.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function E_(t,e){return t.eventCache.isCompleteForChild(e)}function p1(t,e,n,r,s,a,u){let h=e;return r.foreach((f,p)=>{const v=be(n,f);E_(e,te(v))&&(h=Fc(t,h,v,p,s,a,u))}),r.foreach((f,p)=>{const v=be(n,f);E_(e,te(v))||(h=Fc(t,h,v,p,s,a,u))}),h}function S_(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Bc(t,e,n,r,s,a,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,p;ne(n)?p=r:p=new we(null).setTree(n,r);const v=e.serverCache.getNode();return p.children.inorderTraversal((m,g)=>{if(v.hasChild(m)){const x=e.serverCache.getNode().getImmediateChild(m),P=S_(t,x,g);f=Da(t,f,new fe(m),P,s,a,u,h)}}),p.children.inorderTraversal((m,g)=>{const x=!e.serverCache.isCompleteForChild(m)&&g.value===null;if(!v.hasChild(m)&&!x){const P=e.serverCache.getNode().getImmediateChild(m),k=S_(t,P,g);f=Da(t,f,new fe(m),k,s,a,u,h)}}),f}function _1(t,e,n,r,s,a,u){if(Aa(s,n)!=null)return e;const h=e.serverCache.isFiltered(),f=e.serverCache;if(r.value!=null){if(ne(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return Da(t,e,n,f.getNode().getChild(n),s,a,h,u);if(ne(n)){let p=new we(null);return f.getNode().forEachChild(or,(v,m)=>{p=p.set(new fe(v),m)}),Bc(t,e,n,p,s,a,h,u)}else return e}else{let p=new we(null);return r.foreach((v,m)=>{const g=be(n,v);f.isCompleteForPath(g)&&(p=p.set(v,f.getNode().getChild(g)))}),Bc(t,e,n,p,s,a,h,u)}}function m1(t,e,n,r,s){const a=e.serverCache,u=qv(e,a.getNode(),a.isFullyInitialized()||ne(n),a.isFiltered());return iy(t,u,n,r,ny,s)}function g1(t,e,n,r,s,a){let u;if(Aa(r,n)!=null)return e;{const h=new af(r,e,s),f=e.eventCache.getNode();let p;if(ne(n)||te(n)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=Oa(r,Ei(e));else{const m=e.serverCache.getNode();O(m instanceof j,"serverChildren would be complete if leaf node"),v=sf(r,m)}v=v,p=t.filter.updateFullNode(f,v,a)}else{const v=te(n);let m=of(r,v,e.serverCache);m==null&&e.serverCache.isCompleteForChild(v)&&(m=f.getImmediateChild(v)),m!=null?p=t.filter.updateChild(f,v,m,me(n),h,a):e.eventCache.getNode().hasChild(v)?p=t.filter.updateChild(f,v,j.EMPTY_NODE,me(n),h,a):p=f,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Oa(r,Ei(e)),u.isLeafNode()&&(p=t.filter.updateFullNode(p,u,a)))}return u=e.serverCache.isFullyInitialized()||Aa(r,ue())!=null,fs(e,p,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new Jh(r.getIndex()),a=zT(r);this.processor_=c1(a);const u=n.serverCache,h=n.eventCache,f=s.updateFullNode(j.EMPTY_NODE,u.getNode(),null),p=a.updateFullNode(j.EMPTY_NODE,h.getNode(),null),v=new Ci(f,u.isFullyInitialized(),s.filtersNodes()),m=new Ci(p,h.isFullyInitialized(),a.filtersNodes());this.viewCache_=sl(m,v),this.eventGenerator_=new jT(this.query_)}get query(){return this.query_}}function y1(t){return t.viewCache_.serverCache.getNode()}function w1(t,e){const n=Ei(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ne(e)&&!n.getImmediateChild(te(e)).isEmpty())?n.getChild(e):null}function x_(t){return t.eventRegistrations_.length===0}function C1(t,e){t.eventRegistrations_.push(e)}function T_(t,e,n){const r=[];if(n){O(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(a=>{const u=a.createCancelEvent(n,s);u&&r.push(u)})}if(e){let s=[];for(let a=0;a<t.eventRegistrations_.length;++a){const u=t.eventRegistrations_[a];if(!u.matches(e))s.push(u);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function P_(t,e,n,r){e.type===Ht.MERGE&&e.source.queryId!==null&&(O(Ei(t.viewCache_),"We should always have a full cache before handling merges"),O(Dc(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,a=f1(t.processor_,s,e,n,r);return h1(t.processor_,a.viewCache),O(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,ry(t,a.changes,a.viewCache.eventCache.getNode(),null)}function E1(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ie,(a,u)=>{r.push(gr(a,u))}),n.isFullyInitialized()&&r.push(Gv(n.getNode())),ry(t,r,n.getNode(),e)}function ry(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return VT(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba;class S1{constructor(){this.views=new Map}}function x1(t){O(!ba,"__referenceConstructor has already been defined"),ba=t}function T1(){return O(ba,"Reference.ts has not been loaded"),ba}function P1(t){return t.views.size===0}function lf(t,e,n,r){const s=e.source.queryId;if(s!==null){const a=t.views.get(s);return O(a!=null,"SyncTree gave us an op for an invalid query."),P_(a,e,n,r)}else{let a=[];for(const u of t.views.values())a=a.concat(P_(u,e,n,r));return a}}function k1(t,e,n,r,s){const a=e._queryIdentifier,u=t.views.get(a);if(!u){let h=Oa(n,s?r:null),f=!1;h?f=!0:r instanceof j?(h=sf(n,r),f=!1):(h=j.EMPTY_NODE,f=!1);const p=sl(new Ci(h,f,!1),new Ci(r,s,!1));return new v1(e,p)}return u}function I1(t,e,n,r,s,a){const u=k1(t,e,r,s,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),C1(u,n),E1(u,n)}function L1(t,e,n,r){const s=e._queryIdentifier,a=[];let u=[];const h=Gn(t);if(s==="default")for(const[f,p]of t.views.entries())u=u.concat(T_(p,n,r)),x_(p)&&(t.views.delete(f),p.query._queryParams.loadsAllData()||a.push(p.query));else{const f=t.views.get(s);f&&(u=u.concat(T_(f,n,r)),x_(f)&&(t.views.delete(s),f.query._queryParams.loadsAllData()||a.push(f.query)))}return h&&!Gn(t)&&a.push(new(T1())(e._repo,e._path)),{removed:a,events:u}}function sy(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ar(t,e){let n=null;for(const r of t.views.values())n=n||w1(r,e);return n}function oy(t,e){if(e._queryParams.loadsAllData())return ol(t);{const r=e._queryIdentifier;return t.views.get(r)}}function ay(t,e){return oy(t,e)!=null}function Gn(t){return ol(t)!=null}function ol(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za;function N1(t){O(!za,"__referenceConstructor has already been defined"),za=t}function M1(){return O(za,"Reference.ts has not been loaded"),za}let R1=1;class k_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new we(null),this.pendingWriteTree_=o1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function O1(t,e,n,r,s){return YT(t.pendingWriteTree_,e,n,r,s),s?Xs(t,new wi(Yv(),e,n)):[]}function Qi(t,e,n=!1){const r=qT(t.pendingWriteTree_,e);if(QT(t.pendingWriteTree_,e)){let a=new we(null);return r.snap!=null?a=a.set(ue(),!0):mt(r.children,u=>{a=a.set(new fe(u),!0)}),Xs(t,new Ra(r.path,a,n))}else return[]}function al(t,e,n){return Xs(t,new wi(tf(),e,n))}function A1(t,e,n){const r=we.fromObject(n);return Xs(t,new Ws(tf(),e,r))}function D1(t,e){return Xs(t,new Bs(tf(),e))}function b1(t,e,n){const r=uf(t,n);if(r){const s=cf(r),a=s.path,u=s.queryId,h=ht(a,e),f=new Bs(nf(u),h);return hf(t,a,f)}else return[]}function Wc(t,e,n,r,s=!1){const a=e._path,u=t.syncPointTree_.get(a);let h=[];if(u&&(e._queryIdentifier==="default"||ay(u,e))){const f=L1(u,e,n,r);P1(u)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const p=f.removed;if(h=f.events,!s){const v=p.findIndex(g=>g._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(a,(g,x)=>Gn(x));if(v&&!m){const g=t.syncPointTree_.subtree(a);if(!g.isEmpty()){const x=B1(g);for(let P=0;P<x.length;++P){const k=x[P],H=k.query,E=hy(t,k);t.listenProvider_.startListening(ps(H),Fa(t,H),E.hashFn,E.onComplete)}}}!m&&p.length>0&&!r&&(v?t.listenProvider_.stopListening(ps(e),null):p.forEach(g=>{const x=t.queryToTagMap.get(ll(g));t.listenProvider_.stopListening(ps(g),x)}))}W1(t,p)}return h}function z1(t,e,n,r){const s=uf(t,r);if(s!=null){const a=cf(s),u=a.path,h=a.queryId,f=ht(u,e),p=new wi(nf(h),f,n);return hf(t,u,p)}else return[]}function F1(t,e,n,r){const s=uf(t,r);if(s){const a=cf(s),u=a.path,h=a.queryId,f=ht(u,e),p=we.fromObject(n),v=new Ws(nf(h),f,p);return hf(t,u,v)}else return[]}function I_(t,e,n,r=!1){const s=e._path;let a=null,u=!1;t.syncPointTree_.foreachOnPath(s,(g,x)=>{const P=ht(g,s);a=a||ar(x,P),u=u||Gn(x)});let h=t.syncPointTree_.get(s);h?(u=u||Gn(h),a=a||ar(h,ue())):(h=new S1,t.syncPointTree_=t.syncPointTree_.set(s,h));let f;a!=null?f=!0:(f=!1,a=j.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((x,P)=>{const k=ar(P,ue());k&&(a=a.updateImmediateChild(x,k))}));const p=ay(h,e);if(!p&&!e._queryParams.loadsAllData()){const g=ll(e);O(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const x=U1();t.queryToTagMap.set(g,x),t.tagToQueryMap.set(x,g)}const v=rf(t.pendingWriteTree_,s);let m=I1(h,e,n,v,a,f);if(!p&&!u&&!r){const g=oy(h,e);m=m.concat(H1(t,e,g))}return m}function ly(t,e,n){const s=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(u,h)=>{const f=ht(u,e),p=ar(h,f);if(p)return p});return Jv(s,e,a,n,!0)}function Xs(t,e){return uy(e,t.syncPointTree_,null,rf(t.pendingWriteTree_,ue()))}function uy(t,e,n,r){if(ne(t.path))return cy(t,e,n,r);{const s=e.get(ue());n==null&&s!=null&&(n=ar(s,ue()));let a=[];const u=te(t.path),h=t.operationForChild(u),f=e.children.get(u);if(f&&h){const p=n?n.getImmediateChild(u):null,v=ey(r,u);a=a.concat(uy(h,f,p,v))}return s&&(a=a.concat(lf(s,t,r,n))),a}}function cy(t,e,n,r){const s=e.get(ue());n==null&&s!=null&&(n=ar(s,ue()));let a=[];return e.children.inorderTraversal((u,h)=>{const f=n?n.getImmediateChild(u):null,p=ey(r,u),v=t.operationForChild(u);v&&(a=a.concat(cy(v,h,f,p)))}),s&&(a=a.concat(lf(s,t,r,n))),a}function hy(t,e){const n=e.query,r=Fa(t,n);return{hashFn:()=>(y1(e)||j.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?b1(t,n._path,r):D1(t,n._path);{const a=bx(s,n);return Wc(t,n,null,a)}}}}function Fa(t,e){const n=ll(e);return t.queryToTagMap.get(n)}function ll(t){return t._path.toString()+"$"+t._queryIdentifier}function uf(t,e){return t.tagToQueryMap.get(e)}function cf(t){const e=t.indexOf("$");return O(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new fe(t.substr(0,e))}}function hf(t,e,n){const r=t.syncPointTree_.get(e);O(r,"Missing sync point for query tag that we're tracking");const s=rf(t.pendingWriteTree_,e);return lf(r,n,s,null)}function B1(t){return t.fold((e,n,r)=>{if(n&&Gn(n))return[ol(n)];{let s=[];return n&&(s=sy(n)),mt(r,(a,u)=>{s=s.concat(u)}),s}})}function ps(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(M1())(t._repo,t._path):t}function W1(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=ll(r),a=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(a)}}}function U1(){return R1++}function H1(t,e,n){const r=e._path,s=Fa(t,e),a=hy(t,n),u=t.listenProvider_.startListening(ps(e),s,a.hashFn,a.onComplete),h=t.syncPointTree_.subtree(r);if(s)O(!Gn(h.value),"If we're adding a query, it shouldn't be shadowed");else{const f=h.fold((p,v,m)=>{if(!ne(p)&&v&&Gn(v))return[ol(v).query];{let g=[];return v&&(g=g.concat(sy(v).map(x=>x.query))),mt(m,(x,P)=>{g=g.concat(P)}),g}});for(let p=0;p<f.length;++p){const v=f[p];t.listenProvider_.stopListening(ps(v),Fa(t,v))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new ff(n)}node(){return this.node_}}class df{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=be(this.path_,e);return new df(this.syncTree_,n)}node(){return ly(this.syncTree_,this.path_)}}const Z1=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},L_=function(t,e,n){if(!t||typeof t!="object")return t;if(O(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return j1(t[".sv"],e,n);if(typeof t[".sv"]=="object")return V1(t[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},j1=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+t)}},V1=function(t,e,n){t.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&O(!1,"Unexpected increment value: "+r);const s=e.node();if(O(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const u=s.getValue();return typeof u!="number"?r:u+r},$1=function(t,e,n,r){return pf(e,new df(n,t),r)},G1=function(t,e,n){return pf(t,new ff(e),n)};function pf(t,e,n){const r=t.getPriority().val(),s=L_(r,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const u=t,h=L_(u.getValue(),e,n);return h!==u.getValue()||s!==u.getPriority().val()?new We(h,et(s)):t}else{const u=t;return a=u,s!==u.getPriority().val()&&(a=a.updatePriority(new We(s))),u.forEachChild(Ie,(h,f)=>{const p=pf(f,e.getImmediateChild(h),n);p!==f&&(a=a.updateImmediateChild(h,p))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function mf(t,e){let n=e instanceof fe?e:new fe(e),r=t,s=te(n);for(;s!==null;){const a=_r(r.node.children,s)||{children:{},childCount:0};r=new _f(s,r,a),n=me(n),s=te(n)}return r}function xr(t){return t.node.value}function fy(t,e){t.node.value=e,Uc(t)}function dy(t){return t.node.childCount>0}function K1(t){return xr(t)===void 0&&!dy(t)}function ul(t,e){mt(t.node.children,(n,r)=>{e(new _f(n,t,r))})}function py(t,e,n,r){n&&e(t),ul(t,s=>{py(s,e,!0)})}function Y1(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Js(t){return new fe(t.parent===null?t.name:Js(t.parent)+"/"+t.name)}function Uc(t){t.parent!==null&&q1(t.parent,t.name,t)}function q1(t,e,n){const r=K1(n),s=En(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Uc(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Uc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=/[\[\].#$\/\u0000-\u001F\u007F]/,X1=/[\[\].#$\u0000-\u001F\u007F]/,ku=10*1024*1024,_y=function(t){return typeof t=="string"&&t.length!==0&&!Q1.test(t)},my=function(t){return typeof t=="string"&&t.length!==0&&!X1.test(t)},J1=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),my(t)},gy=function(t,e,n){const r=n instanceof fe?new _T(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ai(r));if(typeof e=="function")throw new Error(t+"contains a function "+ai(r)+" with contents = "+e.toString());if(gv(e))throw new Error(t+"contains "+e.toString()+" "+ai(r));if(typeof e=="string"&&e.length>ku/3&&nl(e)>ku)throw new Error(t+"contains a string greater than "+ku+" utf8 bytes "+ai(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,a=!1;if(mt(e,(u,h)=>{if(u===".value")s=!0;else if(u!==".priority"&&u!==".sv"&&(a=!0,!_y(u)))throw new Error(t+" contains an invalid key ("+u+") "+ai(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);mT(r,u),gy(t,h,r),gT(r)}),s&&a)throw new Error(t+' contains ".value" child '+ai(r)+" in addition to actual children.")}},vy=function(t,e,n,r){if(!my(n))throw new Error(av(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},eP=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vy(t,e,n)},tP=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!_y(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!J1(n))throw new Error(av(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yy(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],a=s.getPath();n!==null&&!qh(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(s)}n&&t.eventLists_.push(n)}function wy(t,e,n){yy(t,n),Cy(t,r=>qh(r,e))}function Pi(t,e,n){yy(t,n),Cy(t,r=>Ut(r,e)||Ut(e,r))}function Cy(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const a=s.path;e(a)?(iP(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function iP(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();cs&&Je("event: "+n.toString()),qs(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="repo_interrupt",sP=25;class oP{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ma(),this.transactionQueueTree_=new _f,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function aP(t,e,n){if(t.stats_=Kh(t.repoInfo_),t.forceRestClient_||Wx())t.server_=new Na(t.repoInfo_,(r,s,a,u)=>{N_(t,r,s,a,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>M_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ze(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new pn(t.repoInfo_,e,(r,s,a,u)=>{N_(t,r,s,a,u)},r=>{M_(t,r)},r=>{uP(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Vx(t.repoInfo_,()=>new ZT(t.stats_,t.server_)),t.infoData_=new FT,t.infoSyncTree_=new k_({startListening:(r,s,a,u)=>{let h=[];const f=t.infoData_.getNode(r._path);return f.isEmpty()||(h=al(t.infoSyncTree_,r._path,f),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),gf(t,"connected",!1),t.serverSyncTree_=new k_({startListening:(r,s,a,u)=>(t.server_.listen(r,a,s,(h,f)=>{const p=u(h,f);Pi(t.eventQueue_,r._path,p)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function lP(t){const n=t.infoData_.getNode(new fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ey(t){return Z1({timestamp:lP(t)})}function N_(t,e,n,r,s){t.dataUpdateCount++;const a=new fe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(s)if(r){const f=xa(n,p=>et(p));u=F1(t.serverSyncTree_,a,f,s)}else{const f=et(n);u=z1(t.serverSyncTree_,a,f,s)}else if(r){const f=xa(n,p=>et(p));u=A1(t.serverSyncTree_,a,f)}else{const f=et(n);u=al(t.serverSyncTree_,a,f)}let h=a;u.length>0&&(h=yf(t,a)),Pi(t.eventQueue_,h,u)}function M_(t,e){gf(t,"connected",e),e===!1&&hP(t)}function uP(t,e){mt(e,(n,r)=>{gf(t,n,r)})}function gf(t,e,n){const r=new fe("/.info/"+e),s=et(n);t.infoData_.updateSnapshot(r,s);const a=al(t.infoSyncTree_,r,s);Pi(t.eventQueue_,r,a)}function cP(t){return t.nextWriteId_++}function hP(t){Sy(t,"onDisconnectEvents");const e=Ey(t),n=Ma();Ac(t.onDisconnect_,ue(),(s,a)=>{const u=$1(s,a,t.serverSyncTree_,e);Kv(n,s,u)});let r=[];Ac(n,ue(),(s,a)=>{r=r.concat(al(t.serverSyncTree_,s,a));const u=mP(t,s);yf(t,u)}),t.onDisconnect_=Ma(),Pi(t.eventQueue_,ue(),r)}function fP(t,e,n){let r;te(e._path)===".info"?r=I_(t.infoSyncTree_,e,n):r=I_(t.serverSyncTree_,e,n),wy(t.eventQueue_,e._path,r)}function Hc(t,e,n){let r;te(e._path)===".info"?r=Wc(t.infoSyncTree_,e,n):r=Wc(t.serverSyncTree_,e,n),wy(t.eventQueue_,e._path,r)}function dP(t){t.persistentConnection_&&t.persistentConnection_.interrupt(rP)}function Sy(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Je(n,...e)}function xy(t,e,n){return ly(t.serverSyncTree_,e,n)||j.EMPTY_NODE}function vf(t,e=t.transactionQueueTree_){if(e||cl(t,e),xr(e)){const n=Py(t,e);O(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&pP(t,Js(e),n)}else dy(e)&&ul(e,n=>{vf(t,n)})}function pP(t,e,n){const r=n.map(p=>p.currentWriteId),s=xy(t,e,r);let a=s;const u=s.hash();for(let p=0;p<n.length;p++){const v=n[p];O(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const m=ht(e,v.path);a=a.updateChild(m,v.currentOutputSnapshotRaw)}const h=a.val(!0),f=e;t.server_.put(f.toString(),h,p=>{Sy(t,"transaction put response",{path:f.toString(),status:p});let v=[];if(p==="ok"){const m=[];for(let g=0;g<n.length;g++)n[g].status=2,v=v.concat(Qi(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&m.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();cl(t,mf(t.transactionQueueTree_,e)),vf(t,t.transactionQueueTree_),Pi(t.eventQueue_,e,v);for(let g=0;g<m.length;g++)qs(m[g])}else{if(p==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{wt("transaction at "+f.toString()+" failed: "+p);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=p}yf(t,e)}},u)}function yf(t,e){const n=Ty(t,e),r=Js(n),s=Py(t,n);return _P(t,s,r),r}function _P(t,e,n){if(e.length===0)return;const r=[];let s=[];const u=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const f=e[h],p=ht(n,f.path);let v=!1,m;if(O(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)v=!0,m=f.abortReason,s=s.concat(Qi(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=sP)v=!0,m="maxretry",s=s.concat(Qi(t.serverSyncTree_,f.currentWriteId,!0));else{const g=xy(t,f.path,u);f.currentInputSnapshot=g;const x=e[h].update(g.val());if(x!==void 0){gy("transaction failed: Data returned ",x,f.path);let P=et(x);typeof x=="object"&&x!=null&&En(x,".priority")||(P=P.updatePriority(g.getPriority()));const H=f.currentWriteId,E=Ey(t),w=G1(P,g,E);f.currentOutputSnapshotRaw=P,f.currentOutputSnapshotResolved=w,f.currentWriteId=cP(t),u.splice(u.indexOf(H),1),s=s.concat(O1(t.serverSyncTree_,f.path,w,f.currentWriteId,f.applyLocally)),s=s.concat(Qi(t.serverSyncTree_,H,!0))}else v=!0,m="nodata",s=s.concat(Qi(t.serverSyncTree_,f.currentWriteId,!0))}Pi(t.eventQueue_,n,s),s=[],v&&(e[h].status=2,function(g){setTimeout(g,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(m==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(m),!1,null))))}cl(t,t.transactionQueueTree_);for(let h=0;h<r.length;h++)qs(r[h]);vf(t,t.transactionQueueTree_)}function Ty(t,e){let n,r=t.transactionQueueTree_;for(n=te(e);n!==null&&xr(r)===void 0;)r=mf(r,n),e=me(e),n=te(e);return r}function Py(t,e){const n=[];return ky(t,e,n),n.sort((r,s)=>r.order-s.order),n}function ky(t,e,n){const r=xr(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);ul(e,s=>{ky(t,s,n)})}function cl(t,e){const n=xr(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,fy(e,n.length>0?n:void 0)}ul(e,r=>{cl(t,r)})}function mP(t,e){const n=Js(Ty(t,e)),r=mf(t.transactionQueueTree_,e);return Y1(r,s=>{Iu(t,s)}),Iu(t,r),py(r,s=>{Iu(t,s)}),n}function Iu(t,e){const n=xr(e);if(n){const r=[];let s=[],a=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(O(a===u-1,"All SENT items should be at beginning of queue."),a=u,n[u].status=3,n[u].abortReason="set"):(O(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),s=s.concat(Qi(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&r.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));a===-1?fy(e,void 0):n.length=a+1,Pi(t.eventQueue_,Js(e),s);for(let u=0;u<r.length;u++)qs(r[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function vP(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const R_=function(t,e){const n=yP(t),r=n.namespace;n.domain==="firebase.com"&&wn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&wn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Mx();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Lv(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new fe(n.pathString)}},yP=function(t){let e="",n="",r="",s="",a="",u=!0,h="https",f=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(h=t.substring(0,p-1),t=t.substring(p+2));let v=t.indexOf("/");v===-1&&(v=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(v,m)),v<m&&(s=gP(t.substring(v,m)));const g=vP(t.substring(Math.min(t.length,m)));p=e.indexOf(":"),p>=0?(u=h==="https"||h==="wss",f=parseInt(e.substring(p+1),10)):p=e.length;const x=e.slice(0,p);if(x.toLowerCase()==="localhost")n="localhost";else if(x.split(".").length<=2)n=x;else{const P=e.indexOf(".");r=e.substring(0,P).toLowerCase(),n=e.substring(P+1),a=r}"ns"in g&&(a=g.ns)}return{host:e,port:f,domain:n,subdomain:r,secure:u,scheme:h,pathString:s,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ze(this.snapshot.exportVal())}}class CP{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return ne(this._path)?null:Fv(this._path)}get ref(){return new Qn(this._repo,this._path)}get _queryIdentifier(){const e=m_(this._queryParams),n=$h(e);return n==="{}"?"default":n}get _queryObject(){return m_(this._queryParams)}isEqual(e){if(e=il(e),!(e instanceof wf))return!1;const n=this._repo===e._repo,r=qh(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+pT(this._path)}}class Qn extends wf{constructor(e,n){super(e,n,new ef,!1)}get parent(){const e=Wv(this._path);return e===null?null:new Qn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ba{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new fe(e),r=Zc(this.ref,e);return new Ba(this._node.getChild(n),r,Ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Ba(s,Zc(this.ref,r),Ie)))}hasChild(e){const n=new fe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function SP(t,e){return t=il(t),t._checkNotDeleted("ref"),e!==void 0?Zc(t._root,e):t._root}function Zc(t,e){return t=il(t),te(t._path)===null?eP("child","path",e):vy("child","path",e),new Qn(t._repo,be(t._path,e))}class Cf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new wP("value",this,new Ba(e.snapshotNode,new Qn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new CP(this,e,n):null}matches(e){return e instanceof Cf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function xP(t,e,n,r,s){let a;if(typeof r=="object"&&(a=void 0,s=r),typeof r=="function"&&(a=r),s&&s.onlyOnce){const f=n,p=(v,m)=>{Hc(t._repo,t,h),f(v,m)};p.userCallback=n.userCallback,p.context=n.context,n=p}const u=new EP(n,a||void 0),h=new Cf(u);return fP(t._repo,t,h),()=>Hc(t._repo,t,h)}function TP(t,e,n,r){return xP(t,"value",e,n,r)}function PP(t,e,n){Hc(t._repo,t,null)}x1(Qn);N1(Qn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="FIREBASE_DATABASE_EMULATOR_HOST",jc={};let IP=!1;function LP(t,e,n,r){t.repoInfo_=new Lv(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function NP(t,e,n,r,s){let a=r||t.options.databaseURL;a===void 0&&(t.options.projectId||wn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Je("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=R_(a,s),h=u.repoInfo,f;typeof process<"u"&&Xp&&(f=Xp[kP]),f?(a=`http://${f}?ns=${h.namespace}`,u=R_(a,s),h=u.repoInfo):u.repoInfo.secure;const p=new Hx(t.name,t.options,e);tP("Invalid Firebase Database URL",u),ne(u.path)||wn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=RP(h,t,p,new Ux(t.name,n));return new OP(v,t)}function MP(t,e){const n=jc[e];(!n||n[t.key]!==t)&&wn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),dP(t),delete n[t.key]}function RP(t,e,n,r){let s=jc[e.name];s||(s={},jc[e.name]=s);let a=s[t.toURLString()];return a&&wn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new oP(t,IP,n,r),s[t.toURLString()]=a,a}class OP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(aP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qn(this._repo,ue())),this._rootInternal}_delete(){return this._rootInternal!==null&&(MP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&wn("Cannot call "+e+" on a deleted database.")}}function AP(t=dx(),e){const n=ux(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=XE("database");r&&DP(n,...r)}return n}function DP(t,e,n,r={}){t=il(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&wn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let a;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&wn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Qo(Qo.OWNER);else if(r.mockUserToken){const u=typeof r.mockUserToken=="string"?r.mockUserToken:JE(r.mockUserToken,t.app.options.projectId);a=new Qo(u)}LP(s,e,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){Tx(fx),Pa(new Os("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return NP(r,s,a,n)},"PUBLIC").setMultipleInstances(!0)),rr(Jp,e_,t),rr(Jp,e_,"esm2017")}pn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};pn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};bP();const zP={apiKey:"AIzaSyBTGS_-huOLxlHD5pGRnsvO1lVxCGnZfpA",authDomain:"driverapp-5895c.firebaseapp.com",databaseURL:"https://driverapp-5895c-default-rtdb.firebaseio.com",projectId:"driverapp-5895c",storageBucket:"driverapp-5895c.firebasestorage.app",messagingSenderId:"782516255020",appId:"1:782516255020:web:98fde9a26871116f49d489",measurementId:"G-MSB87ZT0QE"},FP=hv(zP),BP=AP(FP),WP="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='64'%20height='64'%20viewBox='0%200%2064%2064'%20fill='none'%3e%3cdefs%3e%3clinearGradient%20id='g1'%20x1='0'%20y1='0'%20x2='64'%20y2='0'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%233b82f6'/%3e%3cstop%20offset='1'%20stop-color='%232563eb'/%3e%3c/linearGradient%3e%3c/defs%3e%3crect%20x='4'%20y='16'%20width='56'%20height='26'%20rx='6'%20fill='url(%23g1)'/%3e%3crect%20x='8'%20y='20'%20width='22'%20height='10'%20rx='2'%20fill='%23e5efff'/%3e%3crect%20x='32'%20y='20'%20width='20'%20height='10'%20rx='2'%20fill='%23e5efff'/%3e%3crect%20x='54'%20y='20'%20width='4'%20height='10'%20rx='1'%20fill='%23dbeafe'/%3e%3crect%20x='6'%20y='30'%20width='44'%20height='6'%20rx='3'%20fill='%230f172a'%20opacity='.2'/%3e%3ccircle%20cx='18'%20cy='46'%20r='6'%20fill='%230f172a'/%3e%3ccircle%20cx='18'%20cy='46'%20r='3'%20fill='%2394a3b8'/%3e%3ccircle%20cx='48'%20cy='46'%20r='6'%20fill='%230f172a'/%3e%3ccircle%20cx='48'%20cy='46'%20r='3'%20fill='%2394a3b8'/%3e%3crect%20x='48'%20y='36'%20width='10'%20height='6'%20rx='2'%20fill='%231f2937'/%3e%3crect%20x='6'%20y='36'%20width='12'%20height='4'%20rx='2'%20fill='%231f2937'/%3e%3c/svg%3e",UP={lat:20.5937,lng:78.9629},HP=5*60*1e3;function ZP(t=!1){return ME.icon({iconUrl:WP,iconSize:[40,40],iconAnchor:[20,28],className:t?"bus-img-icon stale":"bus-img-icon"})}function jP({position:t}){const e=zE();return $.useEffect(()=>{t&&e.flyTo(t,16,{animate:!0,duration:1.2})},[t,e]),null}function VP(t,e=1200,n=30){const[r,s]=$.useState(t),a=$.useRef(null),u=$.useRef(t);return $.useEffect(()=>{if(!t)return;const h=u.current||t,f=t;if(u.current=t,!h||!h.lat&&!h.lng){s(f);return}const p=Math.max(n,1),v=e/p;let m=0;return a.current&&window.clearInterval(a.current),a.current=window.setInterval(()=>{m+=1;const g=Math.min(1,m/p),x=h.lat+(f.lat-h.lat)*g,P=h.lng+(f.lng-h.lng)*g;s({lat:x,lng:P}),g>=1&&(window.clearInterval(a.current),a.current=null)},v),()=>{a.current&&(window.clearInterval(a.current),a.current=null)}},[t,e,n]),r}function $P(){const[t,e]=$.useState(""),[n,r]=$.useState(""),[s,a]=$.useState(null),[u,h]=$.useState(null),[f,p]=$.useState(!1),[v,m]=$.useState(""),[g,x]=$.useState(!1),P=VP(s);$.useEffect(()=>{if(!u)return;const w=()=>{const I=Date.now();p(I-u>HP)};w();const C=setInterval(w,30*1e3);return()=>clearInterval(C)},[u]),$.useEffect(()=>{if(!n)return;x(!0),m("");const w=SP(BP,`buses/${n}`),C=TP(w,I=>{const D=I.val();if(!D||typeof D.latitude!="number"||typeof D.longitude!="number"){m("No live location for this Bus ID yet."),a(null),h(null),x(!1);return}a({lat:D.latitude,lng:D.longitude}),h(typeof D.timestamp=="number"?D.timestamp:null),x(!1)},I=>{m((I==null?void 0:I.message)||"Failed to read bus location"),x(!1)});return()=>{PP(w),typeof C=="function"&&C()}},[n]);const k=w=>{w.preventDefault();const C=(t||"").trim();if(!C){m("Please enter a Bus ID");return}r(C)},H=$.useMemo(()=>{if(!u)return"—";try{return new Date(u).toLocaleString()}catch{return"—"}},[u]),E=$.useMemo(()=>ZP(f),[f]);return Q.jsxs("div",{className:"app",children:[Q.jsx("h1",{children:"Student Bus Tracker"}),Q.jsxs("form",{className:"controls",onSubmit:k,children:[Q.jsx("input",{placeholder:"Enter Bus ID (e.g. AA1)",value:t,onChange:w=>e(w.target.value.toUpperCase()),"aria-label":"Bus ID"}),Q.jsx("button",{type:"submit",children:"Track Bus"}),n?Q.jsxs("span",{className:"active-id",children:["Tracking: ",n]}):null]}),Q.jsxs("div",{className:"status-row",children:[Q.jsxs("div",{className:"chip",children:["Status: ",f?"Offline/Stale":"Live"]}),Q.jsxs("div",{className:"chip",children:["Last updated: ",H]})]}),v?Q.jsx("div",{className:"error",children:v}):null,Q.jsxs("div",{className:"map-wrap",children:[Q.jsxs(BE,{center:s||UP,zoom:s?16:5,scrollWheelZoom:!0,className:"map",children:[Q.jsx(HE,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),P?Q.jsxs(Q.Fragment,{children:[Q.jsx(jP,{position:P}),Q.jsx(WE,{position:P,icon:E,children:Q.jsx(UE,{children:Q.jsxs("div",{children:[Q.jsxs("div",{children:[Q.jsx("strong",{children:"Bus:"})," ",n||"—"]}),Q.jsxs("div",{children:[Q.jsx("strong",{children:"Lat:"})," ",P.lat.toFixed(6)]}),Q.jsxs("div",{children:[Q.jsx("strong",{children:"Lng:"})," ",P.lng.toFixed(6)]}),Q.jsxs("div",{children:[Q.jsx("strong",{children:"Updated:"})," ",H]}),Q.jsxs("div",{children:[Q.jsx("strong",{children:"Status:"})," ",f?"Stale":"Live"]})]})})})]}):null]}),g?Q.jsx("div",{className:"overlay",children:"Loading…"}):null]}),Q.jsxs("div",{className:"help",children:[Q.jsxs("p",{children:["Hint: Data is read from Realtime Database at ",Q.jsxs("code",{children:["buses/","{","busId","}"]})," with fields",Q.jsx("code",{children:"latitude"}),", ",Q.jsx("code",{children:"longitude"}),", and ",Q.jsx("code",{children:"timestamp"})," (Unix ms)."]}),Q.jsxs("p",{children:["Replace Firebase config in ",Q.jsx("code",{children:"src/firebase.js"})," with your project values."]})]})]})}Lu.createRoot(document.getElementById("root")).render(Q.jsx(Xo.StrictMode,{children:Q.jsx($P,{})}));
